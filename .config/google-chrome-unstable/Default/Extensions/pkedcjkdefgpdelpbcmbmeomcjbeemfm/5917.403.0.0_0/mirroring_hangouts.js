'use strict';var FH={hp:0,zn:1,yn:2,Gp:3,Cq:4,Bq:5,Aq:6,SUCCESS:7};var GH=null,HH=function(){GH||(GH=new AudioContext);return GH};var IH=function(a,b,c){this.b=k(a)?a:-1;this.a=k(b)?b:-1;this.f=k(c)?c:-1};IH.prototype.toString=function(){return 0>=this.b&&0>=this.a&&0>=this.f?"Unlimited":"Bandwidth limited between "+this.b+" and "+this.a+" starting from "+this.f};var JH=function(a,b,c,d){this.b=a;this.h=b;this.a=c;this.f=d};JH.prototype.toString=function(){return"DataChannelDescriptor(label="+this.f+" id="+this.b+", SSRC="+this.a+", format="+this.h+")"};JH.prototype.getChannelId=function(){return this.b};JH.prototype.Vb=function(){return this.f};JH.prototype.equals=function(a){return null==a?!1:this.b==a.b&&this.f==a.f&&this.a==a.a};var KH=function(a){return l(a)?a:k(void 0)?void 0:-1};var LH={bd:"bytesReceived",cd:"bytesSent",Li:"id",Do:"localCandidateId",Wp:"remoteCandidateId",tj:"selected"},MH={ui:"googActiveConnection",bd:"bytesReceived",cd:"bytesSent",Qi:"googLocalAddress",oj:"googRemoteAddress"},NH={Em:"bitrateMean",Fm:"bitrateStdDev",Gn:"framerateMean",Hn:"framerateStdDev",bd:"bytesReceived",cd:"bytesSent",oo:"isRemote",qo:"jitter",So:"mozRtt",Ko:"mediaType",ig:"packetsReceived",Je:"packetsLost",jg:"packetsSent",Xp:"remoteId",ng:"ssrc"},OH={bd:"bytesReceived",cd:"bytesSent",
ig:"packetsReceived",Je:"packetsLost",jg:"packetsSent",ng:"ssrc"},PH=function(a,b){if(!a)return null;if(b){b=MH;if("false"==a[b.ui])return null;a=a[b.Qi]+a[b.oj]}else{b=LH;if("false"==a[b.tj])return null;a=a[b.Li]}return a};var QH=function(){this.a=Ea()};new QH;QH.prototype.set=function(a){this.a=a};QH.prototype.reset=function(){this.set(Ea())};QH.prototype.get=function(){return this.a};var RH=function(){};var SH={SUCCESS:0,zi:100,vp:101,bq:102,cq:103,em:200,sm:221,wi:201,Gm:202,Mm:203,Ln:204,On:205,Oo:206,Po:207,Ro:208,fp:209,Yi:210,rp:211,cp:222,Rq:223,tp:212,Mp:213,Lp:214,Rp:215,hq:216,jq:217,Oq:218,USER_CANCELED:219,Xq:220,sn:224,qp:225,op:226,Mq:227,cn:228,Vn:229,Hp:230,pp:231,no:232,xo:233,yo:234,Pp:235,gp:236,qm:237,pm:238,rn:239,jp:240,zm:300,Jm:301,Zm:302,to:303,vo:304,Xo:305,iq:306,rq:307,hn:308,vq:309,po:310,un:311,gq:312,fq:313,uo:314,io:315,jn:316,Rn:317,Om:318,tm:319,np:320,sp:321,Nq:322,
lo:323,No:324,Mo:325};var TH=function(){this.b=this.w=null;this.v=this.f=this.u=0;this.o=1;this.a=this.j=this.g=this.h=this.m=this.A=0};TH.prototype.B=function(a){this.m+=a.tabCpuUsage;this.h+=a.browserCpuUsage;this.g+=a.gpuCpuUsage;this.j+=a.pluginCpuUsage;this.a++};TH.prototype.toJson=function(){return{jmiVersion:3,numOfProcessors:this.o,totalCpuUsage:this.A,tabCpuUsage:this.a?this.m/this.a:null,browserCpuUsage:this.a?this.h/this.a:null,gpuCpuUsage:this.a?this.g/this.a:null,pluginCpuUsage:this.a?this.j/this.a:null}};var UH=function(a,b,c,d,e,f,g,m,q,y,D){this.bc=a;this.Sc=b;this.nc=c;this.lc=d;this.Jc=e;this.za=f;this.kd=g;this.Cc=m;this.xd=q;this.Dd=k(y)?y:null;this.Ed=k(D)?D:null};UH.prototype.ua=function(){return this.za};var VH=function(a,b,c,d,e,f,g){this.j=a;this.m=b;this.g=c;this.f=k(d)?Sa(d):null;this.a=k(e)?e:null;this.b=k(f)?f:!0;this.h=k(g)?g:null;this.w=[]};VH.prototype.toString=function(){return"{participantId: "+this.j+", sourceId: "+this.m+", mediaType: "+this.g+", resolution: "+(null==this.f?"":this.f.width+"x"+this.f.height)+", frameRate: "+this.a+", adaptationReason: 0, ssrcs: "+this.w+"}"};VH.prototype.M=function(){return this.j};VH.prototype.W=function(){return this.g};VH.prototype.ga=function(){return this.m};
var WH=function(a){return null!=a.f?Sa(a.f):null};VH.prototype.tb=function(){return this.w};
var XH=function(a){return new VH(a.j,a.m,a.g,null!=a.f?a.f:void 0,null!=a.a?a.a:void 0,!1,null!=a.h?a.h:void 0)},YH=function(a){return null!=a.f?a.f.width:null},ZH=function(a){return null!=a.f?a.f.height:null},$H=function(a){var b=a;if(null==YH(a)||0<YH(a))b=new VH(b.j,b.m,b.g,new iq(0,ZH(b)||0),null!=b.a?b.a:void 0,null!=b.b?b.b:void 0,null!=b.h?b.h:void 0);if(null==ZH(a)||0<ZH(a))b=new VH(b.j,b.m,b.g,new iq(YH(b)||0,0),null!=b.a?b.a:void 0,null!=b.b?b.b:void 0,null!=b.h?b.h:void 0);return b},aI=
function(a){return null==a.a||0<a.a?new VH(a.j,a.m,a.g,null!=a.f?a.f:void 0,0,null!=a.b?a.b:void 0,null!=a.h?a.h:void 0):a};var bI=function(){},cI=function(){return{autoGainControl:!0,echoCancellation:!0,highPassFilter:!0,inbandFec:!0,dtx:!0,noiseSuppression:!0,preferredSendCodec:null,sendComfortNoise:!0,sendOpus:!0,sendStereo:!1,stereoSwapping:!1,transientSuppression:!0}};var dI=function(){this.b=64;this.a=Array(4);this.g=Array(this.b);this.h=this.f=0;this.reset()};r(dI,jk);dI.prototype.reset=function(){this.a[0]=1732584193;this.a[1]=4023233417;this.a[2]=2562383102;this.a[3]=271733878;this.h=this.f=0};
var eI=function(a,b,c){c||(c=0);var d=Array(16);if(va(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.a[0];c=a.a[1];var e=a.a[2],f=a.a[3],g;g=b+(f^c&(e^f))+d[0]+3614090360&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[1]+3905402710&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[2]+606105819&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^
b))+d[3]+3250441966&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[4]+4118548399&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[5]+1200080426&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[6]+2821735955&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[7]+4249261313&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[8]+1770035416&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[9]+2336552879&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+
(c^f&(b^c))+d[10]+4294925233&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[11]+2304563134&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[12]+1804603682&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[13]+4254626195&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[14]+2792965006&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[15]+1236535329&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(e^f&(c^e))+d[1]+4129170786&4294967295;b=c+(g<<5&4294967295|
g>>>27);g=f+(c^e&(b^c))+d[6]+3225465664&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[11]+643717713&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[0]+3921069994&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[5]+3593408605&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[10]+38016083&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[15]+3634488961&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[4]+3889429448&4294967295;c=e+(g<<20&4294967295|
g>>>12);g=b+(e^f&(c^e))+d[9]+568446438&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[14]+3275163606&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[3]+4107603335&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[8]+1163531501&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[13]+2850285829&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[2]+4243563512&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[7]+1735328473&4294967295;e=f+(g<<14&4294967295|
g>>>18);g=c+(f^b&(e^f))+d[12]+2368359562&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(c^e^f)+d[5]+4294588738&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[8]+2272392833&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[11]+1839030562&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[14]+4259657740&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[1]+2763975236&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[4]+1272893353&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^
b^c)+d[7]+4139469664&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[10]+3200236656&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[13]+681279174&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[0]+3936430074&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[3]+3572445317&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[6]+76029189&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[9]+3654602809&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[12]+3873151461&4294967295;
f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[15]+530742520&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[2]+3299628645&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(e^(c|~f))+d[0]+4096336452&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[7]+1126891415&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[14]+2878612391&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[5]+4237533241&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[12]+1700485571&4294967295;b=c+
(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[3]+2399980690&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[10]+4293915773&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[1]+2240044497&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[8]+1873313359&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[15]+4264355552&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[6]+2734768916&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[13]+1309151649&4294967295;
c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[4]+4149444226&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[11]+3174756917&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[2]+718787259&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[9]+3951481745&4294967295;a.a[0]=a.a[0]+b&4294967295;a.a[1]=a.a[1]+(e+(g<<21&4294967295|g>>>11))&4294967295;a.a[2]=a.a[2]+e&4294967295;a.a[3]=a.a[3]+f&4294967295};
dI.prototype.update=function(a,b){k(b)||(b=a.length);for(var c=b-this.b,d=this.g,e=this.f,f=0;f<b;){if(0==e)for(;f<=c;)eI(this,a,f),f+=this.b;if(va(a))for(;f<b;){if(d[e++]=a.charCodeAt(f++),e==this.b){eI(this,d);e=0;break}}else for(;f<b;)if(d[e++]=a[f++],e==this.b){eI(this,d);e=0;break}}this.f=e;this.h+=b};
dI.prototype.digest=function(){var a=Array((56>this.f?this.b:2*this.b)-this.f);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;for(var c=8*this.h,b=a.length-8;b<a.length;++b)a[b]=c&255,c/=256;this.update(a);a=Array(16);for(b=c=0;4>b;++b)for(var d=0;32>d;d+=8)a[c++]=this.a[b]>>>d&255;return a};var fI=function(a){this.a=a};new fI("lib");var gI=function(a,b){this.namespace_=a;this.b=b;this.constructor.wg||(this.constructor.wg={});this.constructor.wg[this.toString()]=this};gI.prototype.ka=function(){return this.toString()};gI.prototype.toString=function(){this.a||(this.a=this.namespace_.a+":"+this.b);return this.a};var hI=function(a,b,c,d){this.b=a;this.key=b;this.a=k(c)?c:null;this.params=d||[]},iI={host:"LOCAL",srflx:"STUN",relay:"RELAY",prflx:"PEER_REFLEX"},jI={audio:"a",video:"v",data:"d",application:"d"};var kI=function(a){this.a=a.a;this.b=a.b};kI.prototype.toString=function(){return"CodecParam(key="+this.a+", value="+this.b+")"};var lI=function(){this.b=this.a=null},mI=function(a){var b=new lI;b.a=a;return b},nI=function(a,b){a.b=b;return a};var oI=function(a){this.a=a.f;this.f=a.a;this.h=a.b;this.b=a.h};oI.prototype.toString=function(){return"Crypto(suite="+this.a+", keyParams=<redacted>, sessionParams_="+(null!=this.h?"<redacted>":null)+", tag="+this.b+")"};var pI=function(){this.h=this.b=this.a=this.f=null};var qI=function(a){this.a=a.b;this.ya=a.ya;this.b=a.a};qI.prototype.toString=function(){return"RtpHeaderExtension(uri="+this.a+", id="+this.ya+", mediaType="+this.b+")"};qI.prototype.getId=function(){return this.ya};qI.prototype.W=function(){return this.b};var rI=function(){this.a=this.ya=this.b=null},sI=function(a){var b=new rI;b.b=a;return b};var tI=function(a){this.za=a.za;this.f=a.b;this.b=a.f;this.a=a.a},uI=function(a){return{port:a.ua(),name:a.getName(),messagesize:a.b,numstreams:a.a}};tI.prototype.ua=function(){return this.za};tI.prototype.getName=function(){return this.f};var vI=function(){this.a=this.f=this.b=this.za=null},wI=function(a,b){a.za=b;return a},xI=function(a,b){a.b=b;return a},yI=function(a,b){a.a=b;return a};var zI=function(){this.o=this.j=!0;this.u=!1;this.b=null;this.g=[];this.h=this.f=!1;this.m=null;this.v=!0;this.a=!1;this.A=[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302","stun:stun4.l.google.com:19302"]}];this.ia=!0;this.F=new bI;this.J=!1;this.B=this.H=!0;this.K=!1;this.w=null},AI=function(a){return{useAudio:!0,useVideo:a.j,useData:!0,useVideoRtx:a.o,dumpRtpHeaders:a.u,allowEarlyMedia:!0,earlyMediaHangoutId:a.b,
defaultRequests:a.g,useStandardIce:!0,debugLogUploadAllowed:a.f,debugLogUploadForced:a.h,clientResource:a.m,useSimulcast:a.v,useP2P:a.a,useTURN:!1,startMuted:a.ia,useDtls:a.J,playAudio:a.H,useConferenceMode:a.B,useDetours:!1,allowH264:!1,allowVP9:!1,useAdaptiveLayering_:a.K,useMsodc:!1,useWebrtcCpuAdaptation:!0}},BI=function(a,b){if(a.f&&a.h)return a;a=Sa(a);a.f=b;return a},CI=function(a){a=Sa(a);a.h=!0;return a},DI=function(a,b){a=Sa(a);a.b=b;return a},EI=function(a,b){a=Sa(a);a.g=b;return a},FI=
function(a){a=Sa(a);a.v=!1;return a},GI=function(a){a=Sa(a);a.J=!0;return a},HI=function(){var a=Sa(new zI);a.j=!0;a=Sa(a);a.H=!1;return a},II=function(a,b){a=Sa(a);a.B=b;return a};var JI=function(a,b){dd.call(this);this.g=b;this.a=[];if(a>this.g)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(b=0;b<a;b++)this.a.push(this.b())};r(JI,dd);var KI=function(a,b){a.a.length<a.g?a.a.push(b):a.f(b)};JI.prototype.b=function(){return{}};JI.prototype.f=function(a){if(ya(a))if(wa(a.pa))a.pa();else for(var b in a)delete a[b]};JI.prototype.T=function(){JI.S.T.call(this);for(var a=this.a;a.length;)this.f(a.pop());delete this.a};var LI={TAB:0,cg:1},MI=function(a){ai("MediaRouter.Hangouts.Start.Success",a,LI)};var NI=function(a,b){gI.call(this,a,b)};r(NI,gI);var OI=function(a){var b={},c={},d=[],e=[],f=function(a){if(!c[a]){var e=a instanceof Nq?a.b:[];c[a]=u(e);t(e,function(c){b[c]=b[c]||[];b[c].push(a)});e.length||d.push(a);t(e,f)}};for(t(a,f);d.length;){var g=d.shift();e.push(g);b[g]&&t(b[g],function(a){Rb(c[a],g);c[a].length||d.push(a)})}var m={},q=[];t(e,function(a){a instanceof Nq&&(a=a.a,null==a||m[a]||(m[a]=!0,q.push(a)))});return{services:e,yk:q}};var PI=function(a){this.j=a.g;this.a=a.m;this.m=a.j;this.g=a.b;this.f=a.h;this.b=a.f;this.h=a.a};PI.prototype.toString=function(){return"Codec(name="+this.m+", mediaType="+this.j+", payloadType="+this.a+", bitrate="+this.g+", clockrate="+this.f+", channels="+this.b+", params="+this.h+")"};PI.prototype.W=function(){return this.j};PI.prototype.getName=function(){return this.m};
var QI=function(a){return(a=Ib(a.h,function(a){return"apt"==a.a}))?a.b:null},RI=function(a,b){a=a.getName();a=String(a).toLowerCase();b=String(b).toLowerCase();return 0==(a<b?-1:a==b?0:1)},SI=function(a){this.g=a?a.j:null;this.m=a?a.a:null;this.j=a?a.m:null;this.b=a?a.g:null;this.h=a?a.f:null;this.f=a?a.b:null;this.a=a?u(a.h):[]},TI=function(a,b){a.g=b;return a},UI=function(a,b){a.m=b;return a},VI=function(a,b){a.j=b;return a},WI=function(a,b){a.h=b;return a},XI=function(a,b){a.f=b;return a},YI=function(a,
b,c){c=new kI(nI(mI(b),c));var d=Hb(a.a,function(a){return a.a==b});-1==d?a.a.push(c):a.a[d]=c;return a};var ZI=function(a){this.a=a.a;this.b=u(a.b)};ZI.prototype.toString=function(){return"SsrcGroup(semantics="+this.a+", ssrcs="+this.b+")"};ZI.prototype.tb=function(){return u(this.b)};var $I=function(){this.a=null;this.b=[]},aJ=function(a,b){a.a=b;return a},bJ=function(a,b){a.b=u(b);return a};var cJ=function(a,b,c,d,e,f){this.m=a;this.f=b;this.b=c;this.a=d||null;this.g=null;this.h=e||[];this.j=f||"full"};cJ.prototype.ub=function(){return this.m};var dJ=function(a,b){a=Sa(a);a.g=b;return a};var eJ=function(a,b){this.a=a;this.b=b};eJ.prototype.execute=function(a){this.a&&(this.a.call(this.b||null,a),this.a=this.b=null)};eJ.prototype.abort=function(){this.b=this.a=null};var fJ=function(a,b,c){this.h=a;this.v=b;this.b=null;this.f=c;this.o=[];this.w="";this.g=[];this.m=this.j=!0;this.a=null},jJ=function(a){var b=a.b?uI(a.b):{};return{type:a.h,mediaId:gJ(a),bandwidthConstraints:a.a&&a.a.toString(),codecs:hJ(a),streams:iJ(a),sctpSettings:b,defaultRequests:Db(u(a.g),function(a){return a.toString()}),send:a.j,receive:a.m}},hJ=function(a){return u(a.v)},kJ=function(a,b){a=Sa(a);a.v=b;return a},lJ=function(a,b){a=Sa(a);a.b=b;return a},mJ=function(a,b){a=Sa(a);a.f=b;return a},
iJ=function(a){return u(a.o)},nJ=function(a,b){a=Sa(a);a.o=b;return a},gJ=function(a){if(a.w)return a.w;switch(a.h){case "a":return"audio";case "v":return"video";case "d":return"data";default:return tb("No default media ID for unknown type: "+a.h),""}},oJ=function(a,b){a=Sa(a);a.w=b;return a},pJ=function(a,b){a=Sa(a);a.g=b;return a},qJ=function(a,b){null==b&&(b=-1);a=Sa(a);null==a.a&&(a.a=new IH(-1,-1,-1));a.a.a=b;return a},rJ=function(a){return a.a?a.a.a:null},sJ=function(a,b){a=Sa(a);a.a=b;return a},
tJ=function(a,b){a=Sa(a);a.j=b;return a},uJ=function(a,b){a=Sa(a);a.m=b;return a},vJ=function(a,b,c){var d=iJ(a),e=ec(c,function(a){return a.Qa()});Tb(d,function(a){return a.Qa()in e});d=Ub(d,b);return nJ(a,d)},xJ=function(a){return wJ(a,function(a){return RI(a,"opus")})},wJ=function(a,b){b=Hb(a.v,b);if(-1==b)return a;var c=hJ(a),d=c[b];Qb(c,b);Ob(c,0,0,d);return kJ(a,c)},zJ=function(a,b){if(null==b)return a;var c=Sa(a),d=rJ(b);d&&(c=qJ(c,d));d=hJ(b);Lb(d)||(c=kJ(c,d));(d=b.b)&&(c=lJ(c,d));d=u(b.f);
Lb(d)||(c=mJ(c,d));d=u(b.g);Lb(d)||(c=pJ(c,d));a=yJ(iJ(a),iJ(b),function(a){return a.Qa()});return nJ(c,a)},yJ=function(a,b,c){a=ec(a,c);Wa(a,ec(b,c));return Ka(a)};var AJ=function(a){this.g=a.a;this.m=a.o;this.w=a.f;this.o=a.g;this.j=a.v;this.h=a.j;this.oc=a.m;this.b=a.w;this.v=u(a.h);this.a=u(a.b);this.f=u(a.u)};h=AJ.prototype;h.toString=function(){return"Stream(participantId="+this.m+", mediaType="+this.g+", sourceId="+this.w+", streamId="+this.o+", muted="+this.j+", croppable="+this.h+", mediaStreamId="+this.oc+", mediaStreamTrackId="+this.b+", ssrcs="+this.v+", rids="+this.a+", ssrcGroups="+this.f+")"};h.W=function(){return this.g};h.M=function(){return this.m};
h.ga=function(){return this.w};h.Qa=function(){return this.o};h.fc=function(){return this.j};h.fe=function(){return this.h};h.tb=function(){return u(this.v)};
var BJ=function(a,b){return a.M()==b.M()&&a.W()==b.W()&&a.ga()==b.ga()&&a.Qa()==b.Qa()},CJ=function(a){this.a=a?a.g:null;this.o=a?a.m:"";this.f=a?a.w:null;this.g=a?a.o:null;this.v=a?a.j:!1;this.j=a?a.h:!0;this.m=a?a.oc:null;this.w=a?a.b:null;this.h=a?u(a.v):[];this.b=a?u(a.a):[];this.u=a?u(a.f):[]},DJ=function(a){return new AJ(a)},EJ=function(a,b){a.a=b;return a},FJ=function(a,b){a.o=b;return a},GJ=function(a,b){a.f=b;return a},HJ=function(a,b){a.g=b;return a},IJ=function(a,b){a.v=b;return a},JJ=
function(a,b){a.j=b;return a},KJ=function(a,b){a.m=b;return a},LJ=function(a,b){a.w=b;return a},MJ=function(a,b){a.h=u(b);return a},NJ=function(a,b){a.u=u(b);return a};var OJ=function(){Mr(this)};qa(OJ);var PJ=function(a,b){a.ma.Cf(b)},QJ=function(a,b){return a.ma.Jh(b)},RJ=function(a,b,c){return a.ma.Kh(b,c)},SJ=function(a,b){return a.ma.Bf(b)},TJ=function(){};r(TJ,qr);rr(TJ,OJ);h=TJ.prototype;h.Cf=xr();h.Df=xr();h.Jh=xr();h.Kh=xr();h.Bf=xr();h.Lh=xr();var UJ=function(){Mr(this)},VJ=function(a){var b=new IH;a.ma.b(b);return b},WJ=function(){};r(WJ,qr);rr(WJ,UJ);WJ.prototype.b=function(a){a=a?a:function(){};a.ph=!0;return a}();var XJ=function(a,b){dd.call(this);this.a=a;this.ya=b;this.f=[];this.b=[];this.g=[]};r(XJ,dd);XJ.prototype.getId=function(){return this.ya};var YJ=function(a,b){a.b.push(new eJ(b,void 0))};XJ.prototype.onError=function(a){for(var b=this.b,c=[],d=0;d<b.length;d++)try{b[d].execute(a)}catch(e){vd(e),c.push(e)}b.length=0;(a=c.length?c:null)&&window.setTimeout(ad("Module errback failures: "+a),0);this.g.length=0;this.f.length=0};XJ.prototype.T=function(){XJ.S.T.call(this);fd(null)};var ZJ=function(){};r(ZJ,RH);ZJ.prototype.Y=function(){var a=0;Ne(this.Na(!0),function(){a++});return a};ZJ.prototype.clear=function(){var a=Pe(this.Na(!0)),b=this;t(a,function(a){b.remove(a)})};var $J=function(){var a;return qc?(a=/Windows NT ([0-9.]+)/,(a=a.exec(ub))?a[1]:"0"):pc?(a=/10[_.][0-9_.]+/,(a=a.exec(ub))?a[0].replace(/_/g,"."):"10"):sc?(a=/Android\s+([^\);]+)(\)|;)/,(a=a.exec(ub))?a[1]:""):tc||uc||vc?(a=/(?:iPhone|CPU)\s+OS\s+(\S+)/,(a=a.exec(ub))?a[1].replace(/_/g,"."):""):""}();new C({neon:1,sse2:2,ssse3:4,sse4_1:8,sse4_2:16,avx:32});var aK=new Nq("FolmWb","dlh"),bK=new Nq("Mv4R6b","dds"),cK=new Nq("T3bcCc",void 0,[new Nq("EitxU","hl",[bK])]),dK=new Nq("TjR1Nb","ma",[$r]);var eK=function(a,b){this.jc=a;this.deviceId=null!=b?b:null};eK.prototype.equals=function(a){return a===this?!0:a?this.jc===a.jc&&this.deviceId===a.deviceId:!1};eK.prototype.a=function(){var a={};Ej?(a.optional=[],a.optional.push({sourceId:this.deviceId})):Aj&&(a.deviceId=this.deviceId);return a};eK.prototype.toString=function(){return na.JSON.stringify(this)};var fK=function(a,b,c,d,e,f,g,m){eK.call(this,a,m);this.f=b;this.minWidth=c;this.minHeight=d;this.b=e;this.maxWidth=f;this.maxHeight=g};
r(fK,eK);fK.prototype.equals=function(a){return this===a?!0:a instanceof fK?fK.S.equals.call(this,a)&&this.f===a.f&&this.minWidth===a.minWidth&&this.minHeight===a.minHeight&&this.b===a.b&&this.maxWidth===a.maxWidth&&this.maxHeight===a.maxHeight:!1};
fK.prototype.a=function(){var a=fK.S.a.call(this);if(Ej)a.optional.push({minRefreshRate:this.f}),a.optional.push({minHeight:this.minHeight}),a.optional.push({minWidth:this.minWidth}),a.optional.push({maxRefreshRate:this.b}),a.optional.push({maxWidth:this.maxWidth}),a.optional.push({maxHeight:this.maxHeight});else if(Aj){var b={};b.max=this.maxHeight;b.min=this.minHeight;var c={};c.max=this.maxWidth;c.min=this.minWidth;a.height=b;a.width=c}return a};var gK=function(a,b,c,d,e,f,g){this.b=a||null;this.a=b||null;this.f=c||null;this.m=k(d)?d:null;this.g=new C;Qe(this.g,ec(e||[],function(a){return a.Vb()},this));this.h=f||null;this.j=g||[]},iK=function(a,b){var c=a.a;if(!c)return a;b=Cb(hJ(c),b);var d=Db(b,function(a){return a.a.toString()});b=Cb(b,function(a){return!RI(a,"rtx")||Kb(d,QI(a))});return hK(a,kJ(c,b))},jK=function(a){return{sessionId:a.m,audio:a.b&&jJ(a.b),video:a.a&&jJ(a.a),data:a.f&&jJ(a.f),pushChannels:a.g.P()&&a.g.P().toString(),
cryptos:u(a.j)}},kK=function(a){var b=Sa(a);b.g=a.g.clone();return b},lK=function(a,b){a=kK(a);a.b=b;return a},hK=function(a,b){a=kK(a);a.a=b;return a},mK=function(a,b){a=kK(a);a.f=b;return a},nK=function(a,b){a=kK(a);a.h=b;return a},oK=function(a,b){a=kK(a);a.j=b;return a},qK=function(a,b,c){a=kK(a);a.b=pK(a.b,b,c);a.a=pK(a.a,b,c);a.f=pK(a.f,b,c);return a},pK=function(a,b,c){if(null==a)return null;b=Cb(b,function(b){return b.W()==a.h});c=Cb(c,function(b){return b.W()==a.h});return vJ(a,b,c)},rK=
function(a,b){var c=a.b;null!=c?c=zJ(c,b.b):c=b.b;var d=a.a;null!=d?d=zJ(d,b.a):d=b.a;return hK(lK(a,c),d)};var sK=function(){this.f=new C;this.b=new C;this.a=new C};sK.prototype.clear=function(){this.f.clear();this.b.clear();this.a.clear()};var uK=function(a,b,c,d,e){var f=(e=k(e)?e:!0)?OH:NH,g=b[f.ng];if(null==g)return null;if(d)return a=tK(a.f,g,n(a.h,a,d)),a.update(c,b[f.cd],b[f.jg],e?b[f.Je]:0);a=tK(a.b,g,n(a.h,a,d));return a.update(c,b[f.bd],b[f.ig],b[f.Je])},tK=function(a,b,c){var d=a.get(b);null==d&&(d=c(),a.set(b,d));return d};sK.prototype.h=function(a){return new vK(a)};sK.prototype.g=function(){return new wK};
var vK=function(a){this.a=-1;this.f=this.h=this.b=0;this.g=a};vK.prototype.update=function(a,b,c,d){var e=null;if(l(a)&&l(b)&&l(c)&&l(d)){if(a>this.a){var f=c-this.h,e=d-this.f,f=this.g?f:f+e,e=0<f?Math.round(100*e/f):-1,f=-1;if(0<=this.a)var f=a-this.a,g=b-this.b,f=0<g?Math.round(8*g/f):0;e={Xd:f,jh:e}}this.a=a;this.b=b;this.h=c;this.f=d}return e};var wK=function(){this.a=-1;this.b=this.f=0};
wK.prototype.update=function(a,b,c){var d=null;if(l(a)&&l(b)&&l(c)){if(0<=this.a&&a>this.a)var d=a-this.a,e=b-this.f,f=c-this.b,d={Ql:0<e?Math.round(e/d):0,Dl:0<f?Math.round(f/d):0};this.a=a;this.f=b;this.b=c}return d};var xK=function(a,b,c,d){this.a=a;this.b=b;this.width=c;this.height=d};xK.prototype.clone=function(){return new xK(this.a,this.b,this.width,this.height)};xK.prototype.toString=function(){return"("+this.a+", "+this.b+" - "+this.width+"w x "+this.height+"h)"};var yK=function(a,b){return a==b?!0:a&&b?a.a==b.a&&a.width==b.width&&a.b==b.b&&a.height==b.height:!1};xK.prototype.contains=function(a){return this.a<=a.a&&this.a+this.width>=a.a+a.width&&this.b<=a.b&&this.b+this.height>=a.b+a.height};
xK.prototype.ceil=function(){this.a=Math.ceil(this.a);this.b=Math.ceil(this.b);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};xK.prototype.floor=function(){this.a=Math.floor(this.a);this.b=Math.floor(this.b);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};xK.prototype.round=function(){this.a=Math.round(this.a);this.b=Math.round(this.b);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var zK=function(a){this.a=a};r(zK,ZJ);h=zK.prototype;h.isAvailable=function(){if(!this.a)return!1;try{return this.a.setItem("__sak","1"),this.a.removeItem("__sak"),!0}catch(a){return!1}};h.set=function(a,b){try{this.a.setItem(a,b)}catch(c){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded";}};h.get=function(a){a=this.a.getItem(a);if(!va(a)&&null!==a)throw"Storage mechanism: Invalid value was encountered";return a};h.remove=function(a){this.a.removeItem(a)};
h.Y=function(){return this.a.length};h.Na=function(a){var b=0,c=this.a,d=new Le;d.next=function(){if(b>=c.length)throw Ke;var d=c.key(b++);if(a)return d;d=c.getItem(d);if(!va(d))throw"Storage mechanism: Invalid value was encountered";return d};return d};h.clear=function(){this.a.clear()};h.key=function(a){return this.a.key(a)};var AK=function(){this.f=new mf;this.a=2;this.b=4294967295;this.a=Math.max(this.a,2);this.b=Math.min(this.b,4294967295);this.a>this.b&&(this.a=2,this.b=4294967295)},BK=function(a){for(var b=a.b-a.a+1,c=Math.floor(a.a+b*Math.random()),d=0;a.f.contains(c);)if(c<a.b?++c:c=a.a,++d>=b)return null;a.f.add(c);return c};var CK=function(a){var b=na.navigator||null;if(Ej&&null!=b.webkitGetUserMedia){var c=Qa();b.webkitGetUserMedia(a,c.resolve,c.b);return c.a}return Aj&&b.mediaDevices&&b.mediaDevices.getUserMedia?Nd(b.mediaDevices.getUserMedia(a)):Od("Missing getUserMedia API.")};var DK=function(){this.a=!1;this.b=Qa();this.f=null};DK.prototype.then=function(a,b,c){return this.b.a.then(a,b,c)};bd(DK);DK.prototype.get=function(){return this.f};var EK=function(){this.a=new DK};EK.prototype.resolve=function(a){this.a.a||(this.a.a=!0,this.a.f=a,this.a.b.resolve(a))};var FK=function(a,b){a.a.a||(a.a.a=!0,a.a.b.b(b))};var GK=function(){var a=null;try{a=window.localStorage||null}catch(b){}this.a=a};r(GK,zK);/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
var HK=function(a,b){this.w=[];this.J=a;this.B=b||null;this.g=this.f=!1;this.h=void 0;this.u=this.F=this.o=!1;this.v=0;this.b=null;this.m=0};HK.prototype.cancel=function(a){if(this.f)this.h instanceof HK&&this.h.cancel();else{if(this.b){var b=this.b;delete this.b;a?b.cancel(a):(b.m--,0>=b.m&&b.cancel())}this.J?this.J.call(this.B,this):this.u=!0;this.f||this.a(new IK)}};HK.prototype.A=function(a,b){this.o=!1;JK(this,a,b)};
var JK=function(a,b,c){a.f=!0;a.h=c;a.g=!b;KK(a)},MK=function(a){if(a.f){if(!a.u)throw new LK;a.u=!1}};HK.prototype.callback=function(a){MK(this);JK(this,!0,a)};HK.prototype.a=function(a){MK(this);JK(this,!1,a)};var OK=function(a,b,c){return NK(a,b,null,c)},PK=function(a,b){return NK(a,null,b,void 0)},RK=function(a){var b=QK({method:"cpu.getInfo"});return NK(b,a,a,void 0)},NK=function(a,b,c,d){a.w.push([b,c,d]);a.f&&KK(a);return a};
HK.prototype.then=function(a,b,c){var d,e,f=new Jd(function(a,b){d=a;e=b});NK(this,d,function(a){a instanceof IK?f.cancel():e(a)});return f.then(a,b,c)};bd(HK);var SK=function(a,b){b instanceof HK?OK(a,n(b.j,b)):OK(a,function(){return b})};HK.prototype.j=function(a){var b=new HK;NK(this,b.callback,b.a,b);a&&(b.b=this,this.m++);return b};
var TK=function(a){return Fb(a.w,function(a){return wa(a[1])})},KK=function(a){if(a.v&&a.f&&TK(a)){var b=a.v,c=UK[b];c&&(na.clearTimeout(c.ya),delete UK[b]);a.v=0}a.b&&(a.b.m--,delete a.b);for(var b=a.h,d=c=!1;a.w.length&&!a.o;){var e=a.w.shift(),f=e[0],g=e[1],e=e[2];if(f=a.g?g:f)try{var m=f.call(e||a.B,b);k(m)&&(a.g=a.g&&(m==b||m instanceof Error),a.h=b=m);if(cd(b)||"function"===typeof na.Promise&&b instanceof na.Promise)d=!0,a.o=!0}catch(q){b=q,a.g=!0,TK(a)||(c=!0)}}a.h=b;d&&(m=n(a.A,a,!0),d=n(a.A,
a,!1),b instanceof HK?(NK(b,m,d),b.F=!0):b.then(m,d));c&&(b=new VK(b),UK[b.ya]=b,a.v=b.ya)},XK=function(){var a=new HK;a.callback(new WK(200,""));return a},YK=function(a){var b=new HK;b.a(a);return b},LK=function(){Fa.call(this)};r(LK,Fa);LK.prototype.message="Deferred has already fired";LK.prototype.name="AlreadyCalledError";var IK=function(){Fa.call(this)};r(IK,Fa);IK.prototype.message="Deferred was canceled";IK.prototype.name="CanceledError";
var VK=function(a){this.ya=na.setTimeout(n(this.b,this),0);this.a=a};VK.prototype.b=function(){delete UK[this.ya];throw this.a;};var UK={};var ZK=function(){};ka(ZK,TJ);ZK.prototype.Cf=function(a){var b=new HK;chrome.system.cpu.getInfo(function(a){b.callback(a)});return OK(b,function(b){a(b)})};
ZK.prototype.Df=function(){function a(a){ni(10);if(void 0==c)zi("mr.mirror.hangouts.HangoutsService").then(function(a){if(a=a.a)a=a.Jb().mediaSource,-1!=a.indexOf(":tab:")&&(a=a.split(":"),chrome.processes.getProcessIdForTab(parseInt(a[a.length-1],10),function(a){chrome.runtime.lastError||(c=a)}))});else{var d=a[c];if(d){var f=0,g=0,m=0,q;for(q in a){var y=a[q];"browser"==y.type?g=y.cpu:"gpu"==y.type?m=y.cpu:"extension"==y.type&&y.title==chrome.runtime.getManifest().name&&(f=y.cpu)}b({tabCpuUsage:d.cpu,
browserCpuUsage:g,gpuCpuUsage:m,pluginCpuUsage:f})}}}if(!chrome.processes)return null;var b=pa,c;return{onMessage:{addListener:function(c){b=c;chrome.processes.onUpdated.addListener(a)}},disconnect:function(){chrome.processes.onUpdated.removeListener(a);b=pa}}};sr(ZK,TJ,2);var $K=function(a){this.a=a};$K.prototype.onError=function(a,b){401==b.a&&this.a(new Xi("REFRESH_AUTH"))};$K.prototype.onRequest=pa;$K.prototype.b=pa;var aL=function(a,b,c){A.call(this,"R");this.sessionId=a;c.clone()};ka(aL,A);var bL=function(a,b){A.call(this,"T");this.b=a;this.data=b};r(bL,A);var cL=function(a){A.call(this,"U");this.data=a};r(cL,A);var dL=function(a,b){var c=window.crypto||window.msCrypto;c&&c.getRandomValues&&!b&&(this.si=!0,this.jd=Infinity);a&&160>a&&a>this.jd&&(b=this.me,c=this.jd,this.me="",this.jd=a,a=Math.max(0,c),this.si||(b=this.sf+b,c=new kk,c.update(b),b=String.fromCharCode.apply(String,c.digest()),this.re+=a,this.re>=this.jd?(c.reset(),c.update("SEED_SALT:"+b+this.me),this.me=String.fromCharCode.apply(String,c.digest()),this.sf="",this.re=0):this.sf=b))};h=dL.prototype;h.si=!1;h.me="";h.sf="";h.re=0;h.jd=-1;var eL=function(a,b){B.call(this);a=a||4194304;this.o=this.A=null;this.f=new Uint8Array(a+(b||10485760));this.j=this.f.subarray(0,a);this.a=this.f.subarray(a);this.b=this.m=0;this.g=[]};r(eL,B);eL.prototype.open=function(a,b,c){if(!this.A){var d=Qa();this.A=d.a;a=fL(a,b,!!c);b=gL(a);b=hL(this,b);iL(this,b,a).then(function(a){this.o=a;this.u();d.resolve()},n(d.b,d),this)}return this.A};
var jL=function(a){if(Uint8Array.__proto__&&Uint8Array.__proto__.from)return Uint8Array.from(a);a=Object(a);if(!a.length)return new Uint8Array(0);for(var b=new Uint8Array(a.length),c=0;c<b.length;c++)b[c]=a[c];return b};eL.prototype.write=function(a){t(a,function(a){this.g.push(jL(Yj(a)))},this);this.u()};eL.prototype.Ra=function(){return 0==this.b&&0==this.g.length};
var kL=function(a){var b=0,c=[];if(a.b>a.f.length){for(var d=a.j.length;d&&127<a.j[d-1];)d--;for(var e=a.a.length,f=a.m;e&&127<a.a[f];)f++,e--,f==a.a.length&&(f=0);c.push(a.j.subarray(0,d));b+=d;d=jL(Yj("...\r\n\r\n##### LOG TRUNCATED - REMOVED "+(a.b-d-e)+" BYTES#####\r\n\r\n..."));c.push(d);b+=d.length;f+e<=a.a.length?c.push(a.a.subarray(f,f+e)):(c.push(a.a.subarray(f)),c.push(a.a.subarray(0,e-(a.a.length-f))));b+=e}else a.b&&(b+=a.b,c.push(a.f.subarray(0,a.b)));a.g.length&&t(a.g,function(a){c.push(a);
b+=a.length});var g=new Uint8Array(b),m=0;t(c,function(a){g.set(a,m);m+=a.length});return g},fL=function(a,b,c){var d=Qa();a.then(function(a){a.getFile(b,c?{}:{create:!0},n(d.resolve,d),n(d.b,d))},n(d.b,d));return d.a},gL=function(a){var b=Qa();a.then(function(a){a.file(n(b.resolve,b),n(b.b,b))},n(b.b,b));return b.a},hL=function(a,b){var c=Qa();b.then(function(a){this.b=a.size;if(this.b>this.f.length){var b=Qa(),d=new FileReader;d.onload=n(function(){this.j.set(new Uint8Array(d.result));b.resolve()},
this);d.readAsArrayBuffer(a.slice(0,this.j.length));var g=Qa(),m=new FileReader;m.onload=n(function(){this.a.set(new Uint8Array(m.result));g.resolve()},this);m.readAsArrayBuffer(a.slice(a.size-this.a.length,a.size));c.resolve(Td([b.a,g.a]))}else{var q=new FileReader;q.onload=n(function(){var a=new Uint8Array(q.result);this.f.set(a);this.b>this.j.length&&(this.m=(this.b-this.j.length)%this.a.length);c.resolve()},this);q.readAsArrayBuffer(a)}},n(c.b,c),a);return c.a},iL=function(a,b,c){var d=Qa();Sd([b,
c]).then(function(a){a[1].createWriter(n(function(a){a.seek(a.length);a.onwriteend=n(this.u,this);d.resolve(a)},this),n(d.b,d))},n(d.b,d),a);return d.a};
eL.prototype.u=function(){this.o&&this.o.readyState!=this.o.WRITING&&0<this.g.length&&(this.o.write(new Blob(this.g)),t(this.g,function(a){var b=this.b;this.b+=a.length;if(b<this.f.length){var c=a.subarray(0,Math.min(this.f.length-b,a.length));this.f.set(c,b);a=a.subarray(c.length)}for(b=this.a.length-this.m;a.length;)c=a.subarray(0,Math.min(b,a.length)),this.a.set(c,this.m),a=a.subarray(c.length),this.m=c.length==b?0:this.m+c.length,b=this.a.length},this),this.g.length=0)};var lL=new C("wduck","googDucking","audio_echo_cancellation","googEchoCancellation","audio_echo_cancellation_delay_correction","googEchoCancellation2","audio_auto_gain_control","googAutoGainControl","internal_audio_auto_gain_control","googAutoGainControl2","audio_noise_suppression","googNoiseSuppression","audio_highpass_filter","googHighpassFilter","audio_stereo_swapping","googAudioMirroring","audio_transient_suppression","googNoiseSuppression2");new mf(lL.Ea());var mL=new C("vnr","googNoiseReduction");
new mf(["vnr"]);new mf(mL.Ea());var nL=function(){};nL.prototype.load=function(a){z(this.l,"Loading gapi for realtime client");var b=window.gapi;b&&b.auth?a(b):(new Bt("notneeded",void 0,void 0,!0,!1,void 0)).init().then(function(b){a(b)})};nL.prototype.l=v("mr.mirror.hangouts.ClientLoader");var oL=function(a,b,c){A.call(this,"S");this.state=b;this.sessionId=c};r(oL,A);var qL=function(a,b,c,d,e,f,g){B.call(this);this.j=a;this.ya=b;this.a=c;this.ze=k(d)?d:"Y";this.f=k(e)?e:"$";this.g=!1;this.b=null;pL(this,g||null);this.Fd=k(f)?f:null};r(qL,B);h=qL.prototype;h.toString=function(){return"Source(id="+this.ya+" type="+this.a+" content="+this.ze+" state="+this.f+" participantId="+this.j+")"};h.M=function(){return this.j};h.na=function(a){this.j=a};h.getId=function(){return this.ya};h.fb=function(){return this.ze};h.getState=function(){return this.f};
h.Ha=function(a){this.f!=a&&(this.f=a,this.dispatchEvent("X"))};h.fe=function(){return this.g};var pL=function(a,b){var c=null!=a.b&&!Lb(a.b),d=null!=b&&!Lb(b);d?(b=u(b),$b(b,function(a,b){return a.a-b.a||a.b-b.b||a.width-b.width||a.height-b.height})):b=null;if(c=d!=c||d&&!dc(a.b,b,yK))a.b=b;return c};qL.prototype.dispatchEvent=function(a){return qL.S.dispatchEvent.call(this,a)};var rL=function(a){B.call(this);this.b=a||!1;this.a=[]};r(rL,B);rL.prototype.add=function(a,b){if(null!=sL(this,a.a,a.getId(),a.M()))return!1;this.a.push(a);if(!k(b)||b)a.J=this;this.dispatchEvent(new tL("Z",a));return!0};rL.prototype.remove=function(a){return Rb(this.a,a)?(a.J==this&&(a.J=null),this.dispatchEvent(new tL("$",a)),!0):!1};
var sL=function(a,b,c,d){return Ib(a.a,function(a){var e=a.a==b,g=null==c||a.getId()==c,m=null==d||this.b&&""===d||a.M()==d;!m&&this.b&&""==a.M()&&(tb("Should never allow Source matching against empty participantId"),m=!0);return e&&g&&m},a)},tL=function(a,b){A.call(this,a);this.source=b};r(tL,A);var uL=function(){B.call(this)};r(uL,B);var vL=function(a,b){A.call(this,a);this.a=b};r(vL,A);vL.prototype.M=function(){return this.a};var wL=function(a,b,c,d){B.call(this);this.m=a;this.o=b;this.b=c;this.f=k(d)?d:"ab"};r(wL,B);h=wL.prototype;h.M=function(){return this.m};h.ga=function(){return this.o};h.getState=function(){return this.f};h.Ha=function(a){a!=this.f&&(this.f=a,this.dispatchEvent("ca"))};h.getInfo=function(){return this.b};var xL=function(){B.call(this)};r(xL,B);var yL=function(a){A.call(this,"da");this.a=u(a)};r(yL,A);var zL=function(a){B.call(this);this.a=a||window;this.f=je(this.a,"resize",this.g,!1,this);this.b=kt(this.a||window)};r(zL,B);zL.prototype.T=function(){zL.S.T.call(this);this.f&&(te(this.f),this.f=null);this.b=this.a=null};zL.prototype.g=function(){var a=kt(this.a||window),b=this.b;a==b||a&&b&&a.width==b.width&&a.height==b.height||(this.b=a,this.dispatchEvent("resize"))};var AL=function(a){B.call(this);a?(a=a.a,a=a.parentWindow||a.defaultView):a=window;this.a=a;this.g=1.5<=this.a.devicePixelRatio?2:1;this.f=n(this.j,this);this.b=this.a.matchMedia?this.a.matchMedia("(min-resolution: 1.5dppx), (-webkit-min-device-pixel-ratio: 1.5)"):null};r(AL,B);AL.prototype.start=function(){this.b&&this.b.addListener(this.f)};AL.prototype.j=function(){var a=1.5<=this.a.devicePixelRatio?2:1;this.g!=a&&(this.g=a,this.dispatchEvent("ea"))};
AL.prototype.T=function(){this.b&&this.b.removeListener(this.f);AL.S.T.call(this)};var BL=function(a){H(this,a,0,-1,null)};r(BL,G);BL.prototype.s=function(){var a=new O;CL(this,a);return P(a)};var CL=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=L(a,DL,2);null!=c&&U(b,2,c,EL)},DL=function(a){H(this,a,0,-1,null)};r(DL,G);DL.prototype.s=function(){var a=new O;EL(this,a);return P(a)};var EL=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&Q(b,3,c);c=I(a,4);null!=c&&T(b,4,c);c=I(a,5);null!=c&&R(b,5,c);c=I(a,6);null!=c&&S(b,6,c)};var FL=function(a){H(this,a,0,-1,null)};r(FL,G);FL.prototype.s=function(){var a=new O;GL(this,a);return P(a)};var GL=function(a,b){var c;c=I(a,1);null!=c&&Au(b,1,c);c=I(a,2);null!=c&&Au(b,2,c);c=I(a,3);null!=c&&S(b,3,c)};var HL=function(a){H(this,a,0,-1,null)};r(HL,G);HL.prototype.s=function(){var a=new O;IL(this,a);return P(a)};var IL=function(a,b){var c;c=I(a,3);null!=c&&R(b,3,c);c=I(a,4);null!=c&&R(b,4,c)};var JL=function(a){H(this,a,0,-1,null)};r(JL,G);JL.prototype.s=function(){var a=new O;KL(this,a);return P(a)};var KL=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&T(b,3,c);c=I(a,4);null!=c&&T(b,4,c)};JL.prototype.getName=function(){return I(this,1)};var LL=function(a){H(this,a,0,-1,null)};r(LL,G);LL.prototype.s=function(){var a=new O;ML(this,a);return P(a)};var ML=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&S(b,2,c)};LL.prototype.M=function(){return I(this,1)};LL.prototype.na=function(a){K(this,1,a)};var OL=function(a){H(this,a,"cl:plu",-1,NL)};r(OL,G);var NL=[1];OL.prototype.s=function(){var a=new O,b;b=M(this,PL,1);0<b.length&&W(a,1,b,QL);return P(a)};it("cl:plu",OL);var PL=function(a){H(this,a,0,-1,null)};r(PL,G);PL.prototype.s=function(){var a=new O;QL(this,a);return P(a)};var QL=function(a,b){var c;c=I(a,1);null!=c&&null!=c&&zu(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&Au(b,3,c)};PL.prototype.oa=function(a){K(this,2,a)};var RL=function(a,b){dd.call(this);this.j=a;if(b){if(this.g)throw Error("[fava.component.DomServices] Owner document already initialized");this.f=(this.g=b)?new nt(9==b.nodeType?b:b.ownerDocument||b.document):Ga||(Ga=new nt);this.a=new zL(lt(b));this.a.J=this.j.v;this.b=new AL(this.f);this.b.start()}};r(RL,dd);RL.prototype.T=function(){this.f=this.g=null;this.a&&(this.a.pa(),this.a=null);fd(this.b);this.b=null};var SL=function(){dd.call(this)};r(SL,dd);SL.prototype.l=If("fava.debug.ErrorReporter");SL.prototype.init=function(){};new SL;var UL=function(){this.a=new TL;this.b=null;this.version=0};r(UL,Oq);h=UL.prototype;h.Nb=function(a){return new VL(this,0,a)};h.Ob=function(a){return new VL(this,1,a)};h.Xb=function(a){return new VL(this,2,a)};h.Pb=function(a){return new VL(this,3,[a])};h.Yb=function(){return new VL(this,4,[])};var TL=function(){B.call(this)};r(TL,Mu);TL.prototype.execute=function(a){a.execute()};var VL=function(a,b,c){this.a=a;this.g=b;this.b=c;this.version=null;this.f=Qa();this.h=!1};
VL.prototype.execute=function(){this.h=!0;Cd(n(this.Xl,this))};var WL=function(a){if(!a.a.b)return null;switch(a.g){case 0:return a.b;case 1:var b=[];t(Db(a.b,a.Lg,a),function(a,d){null===a||b.push(this.b[d])},a);return b;case 2:case 3:return a=Db(a.b,a.Lg,a),Sb(a,sa),a;case 4:return a.a.b.get();default:return null}};h=VL.prototype;h.Lg=function(a){var b=this.a.b;if(!b)return null;var c=lA(b,a);return Ib(b.get(),function(a){return c.equals(lA(b,a))})};
h.Xl=function(a,b){if(a=a||WL(this)){if(k(b))b>this.a.version&&(this.a.version=b);else switch(this.g){case 0:case 1:case 2:this.a.version++}this.f.resolve(new Xp(a,k(b)?b:this.a.version))}else this.f.b("Could not perform operation")};h.Of=function(a){this.version=a};h.Gc=function(){return this.f};h.ue=function(){return this.f.a};h.zd=Xc(0);h.ve=pa;h.Dc=Xc(0);h.he=Xc(void 0);h.we=pa;h.le=function(){return this.h};h.bf=function(){return this.b.toString()};var XL=function(){dd.call(this);this.l=If("realtime.diagnostics.DiagnosticDataService");this.a=0;this.b=new C};r(XL,dd);var ZL=function(a){YL(a,bK)||a.b(bK,new XL)};XL.prototype.T=function(){var a=[];this.b.forEach(function(b){a.push(b.key)},this);a.length&&E(this.l,"Leftover callbacks for diagnostic data collection: "+a.join(", "));XL.S.T.call(this)};var $L=function(a,b,c){a.a++;a.b.set(a.a,{key:b,Ve:c});return a.a};XL.prototype.f=function(a){null!=a&&this.b.remove(a)};var aM=function(){this.l=If("realtime.media.api.webrtc.sdp.Parser");this.a="session";this.j=new C;this.K=new C;this.N=new C;this.o="";this.f=new cJ("ICE","","");this.h=[];this.u=null;this.w=new C;this.X=[];this.F=[];this.A=new C;this.B=new C;this.g=[];this.v=this.m=null;this.H=this.ia=!0;this.J=[]},bM=function(a){a.o="";a.h=[];a.u=null;a.w.clear();a.F=[];a.A.clear();a.g=[];a.B.clear();a.m=null;a.v=null;a.ia=!0;a.H=!0};
aM.prototype.parse=function(a){this.b&&(this.b=null,this.f=new cJ("ICE","",""),bM(this),this.a="session",this.j.clear(),this.K.clear(),this.N.clear(),this.J=[]);this.b=new gK;t(a.split(/\r?\n/),function(a){if(!db(a)){var b=rb(a,"=",1),d=b[0];2==b.length&&1==d.length||cM(this,"Invalid SDP line: "+a);var b=b[1].split(" "),e=b.shift().split(":");2<e.length&&cM(this,"Invalid key parts: "+e);var f=e[0],b=new hI(a,f,e[1],b);switch(d){case "m":dM(this);bM(this);this.a=f;break;case "a":switch(b.key){case "group":b.a||
cM(this,"Invalid group line: "+b.b);"BUNDLE"!=b.a&&eM(this.j,this.a,b.b);break;case "mid":this.o=b.a;break;case "ice-ufrag":a=b.a;/^[0-9a-zA-Z\+\/]{4,256}$/.test(a)||cM(this,"Invalid ice ufrag line: "+b.b);b=Sa(this.f);b.f=a;this.f=b;break;case "ice-pwd":a=b.a;/^[0-9a-zA-Z\+\/]{22,256}$/.test(a)||cM(this,"Invalid ice pwd line: "+b.b);b=Sa(this.f);b.b=a;this.f=b;break;case "ice-options":(a=b.a)||cM(this,"Empty ice options line: "+b.b);F(this.l,"Ignoring unrecognized ice option: "+a);break;case "fingerprint":(a=
b.a)||cM(this,"Empty fingerprint hash type: "+b.b);1!=b.params.length&&cM(this,"Malformed fingerprint hash value: "+b.b);d=Sa(this.f);d.a=a+" "+b.params[0];this.f=d;break;case "setup":this.f=dJ(this.f,b.a);break;case "extmap":a=parseInt(b.a,10);d=b.params[0];(isNaN(a)||!d||1>b.params.length)&&cM(this,"Invalid extmap line: "+b.b);b=sI(d);b.ya=a;if(a=jI[this.a])b.a=a;this.F.push(new qI(b));break;case "crypto":a=parseInt(b.a,10);(isNaN(a)||2>b.params.length)&&cM(this,"Invalid crypto line: "+b.b);d=new pI;
f=b.params.shift();d.f=f;f=b.params.shift();d.a=f;d.b=b.params.join(" ");d.h=a;this.X.push(new oI(d));break;case "rtpmap":a=b.params[0].split("/");d=a[0];(!b.a||1!=b.params.length||2>a.length)&&cM(this,"Invalid rtpmap line: "+b.b);b=WI(XI(UI(VI(TI(new SI,jI[this.a]),d),parseInt(b.a,10)),a[2]?parseInt(a[2],10):1),parseInt(a[1],10));this.h.push(new PI(b));break;case "sctpmap":"application"!=this.a&&"data"!=this.a&&cM(this,"Sctpmap lines with incompatible media type: "+this.a);a=parseInt(b.a,10);(!a||
2>b.params.length)&&cM(this,"Invalid sctpmap line: "+b.b);d=parseInt(b.params[1],10);this.u=new tI(yI(xI(wI(new vI,a),b.params[0]),d));break;case "fmtp":a=b.a;b=b.params.join(" ").split(";");this.w.Oa(a)&&cM(this,"Duplicated fmtp line for payload "+a);this.w.set(a,b);break;case "rtcp-fb":eM(this.K,parseInt(b.a,10),b.b);break;case "ssrc-group":fM(this,b);break;case "msid":b.a||cM(this,"Invalid msid line: "+b.b);1>b.params.length&&cM(this,"Invalid msid line: "+b.b);this.m=b.a;this.v=b.params[0];break;
case "ssrc":(!b.a||1>b.params.length)&&cM(this,"Invalid ssrc line: "+b.b);a=parseInt(b.a,10);d=gM(this,a);Lb(this.g)||(d.b=u(this.g),this.g=[]);this.m?(HJ(d,this.m),KJ(d,this.m)):"data"!=this.a&&"application"!=this.a||HJ(d,"");this.v&&LJ(d,this.v);f=b.params[0].split(":");switch(f[0]){case "cname":GJ(d,f[1]);break;case "msid":LJ(KJ(HJ(d,b.params[1]),f[1]),b.params[1]);break;default:eM(this.N,a,b.b)}break;case "rid":if(1==b.params.length||"send"==b.params[0])b.a?this.g.push(b.a):cM(this,"rid line has no label.");
break;case "simulcast":hM(this,b);case "sendrecv":case "sendonly":case "recvonly":case "inactive":if("recvonly"==b.key||"inactive"==b.key)this.ia=!1;if("sendonly"==b.key||"inactive"==b.key)this.H=!1;break;default:eM(this.j,this.a,b.b)}break;default:eM(this.j,this.a,a)}}},this);dM(this);this.b=oK(nK(this.b,this.f),this.X);F(this.l,"Parsed session data: "+df(jK(this.b)));return this.b};
var fM=function(a,b){var c=b.a;1>b.params.length&&cM(a,"Invalid ssrc-group line: "+b.b);b=b.params.map(Number);var d=new ZI(bJ(aJ(new $I,c),b));t(b,function(a){var b=this.A.get(a);b?b.push(d):b=[d];this.A.set(a,b)},a)},hM=function(a,b){if(!(b.a||2>b.params.length||"send"!=b.params[0]||"rid"!=b.params[1].split("=")[0])){var c=b.params[1].split("=")[1].split(";");c.length!=a.g.length&&cM(a,"simulcast line does not match specified rids. "+b.params[1]);c.forEach(function(b){Kb(a.g,b)||cM(a,"simulcast line contains unknown rid "+
b)});a.g=c}},gM=function(a,b){var c=a.B.get(b);if(c)return c;var c=a.A.get(b),d=[];c?t(c,function(a){d=d.concat(a.tb())},a):(d.push(b),c=[]);c=NJ(MJ(EJ(new CJ,jI[a.a]),d),c);iM(a,c,d);return c},iM=function(a,b,c){t(c,function(a){this.B.set(a,b)},a)},jM=function(a){if(!bb(a.getName(),"H264"))return!1;var b=!1;u(a.h).forEach(function(a){bb(a.a,"packetization-mode")&&1==a.b&&(b=!0)});return b},dM=function(a){if("session"!=a.a){var b=Db(Cb(a.B.P(),function(a,b,e){return b==e.indexOf(a)&&null!=a.a&&null!=
a.f&&null!=a.g}),function(a){return DJ(a)});a.w.forEach(function(a,b){var c=Hb(this.h,function(a){return b==a.a});-1==c&&cM(this,"fmtp line has no corresponding codec line, pt="+b);a=a.reduce(function(a,b){b=b.trim().split("=");return 2!=b.length?a:new PI(YI(new SI(a),b[0],b[1]))},this.h[c]);this.h[c]=a},a);a.h=Cb(a.h,function(a,b,e){var c=!0;e.forEach(function(d,e){e!=b&&d.getName()==a.getName()&&"v"==a.W()&&(c=c&&jM(a))},this);return c},a);0<a.h.length&&a.u&&cM(a,"Media "+a.o+" contained both RTP and SCTP Settings.");
b=uJ(tJ(lJ(oJ(nJ(new fJ(jI[a.a],a.h,a.F),b),a.o),a.u),a.ia),a.H);switch(a.a){case "audio":a.b=lK(a.b,b);break;case "video":a.b=hK(a.b,b);break;case "application":case "data":a.b=mK(a.b,b)}a.J.push({type:b.h})}},cM=function(a,b){b=Error(b);Kf(a.l,"Parsing failed.",b);throw b;},kM=function(a,b){b=b.candidate.trim().split(" ");var c=b[0].split(":")[1],d=Number(b[1]),e=b[2].toUpperCase(),f=Number(b[3]),g=b[4],m=Number(b[5]),q=iI[b[7]],y;t(b,function(a,b){"generation"==a&&(y=b+1)});switch(q){case "LOCAL":break;
case "STUN":case "RELAY":case "PEER_REFLEX":var D=b[9],V=Number(b[11]);break;default:cM(a,"Unknown candidate type: "+q)}a=0;y&&(a=Number(b[y]));return new UH(d,f,q,e,g,m,c,a,"",D,V)},eM=function(a,b,c){var d=a.get(b);d||(d=[],a.set(b,d));d.push(c)};var lM=function(){B.call(this)};r(lM,uL);var nM=function(){dd.call(this);this.b=[];this.a=new mM(n(this.f,this));this.h(this.a)};r(nM,dd);nM.prototype.f=function(a){t(this.b,function(b){a=b.filter(a)});return a};var mM=function(a){B.call(this);this.g=a;this.b=[];this.a=!1};r(mM,xL);var oM=function(a,b){a.b=u(b);a.a||(a.a=!0,Cd(a.f,a))};mM.prototype.f=function(){this.a=!1;this.dispatchEvent(new yL(this.g(this.b)))};var pM={fo:"INITIAL",xq:"STARTING",wq:"STARTED",jo:"INPROGRESS",PAUSED:"PAUSED",STOPPED:"STOPPED",FINISHED:"FINISHED"},qM=function(a,b,c){A.call(this,"fa");this.state=a;this.a=b;this.dc=c};r(qM,A);var rM=function(a,b,c){var d=a.Z();wL.call(this,d.M(),d.getId(),b,c);this.a=a};r(rM,wL);var sM=function(a,b,c){wL.call(this,b.M(),b.ga(),b,c);this.a=!1};r(sM,wL);var uM=function(a,b,c){Lf(tM,"Asynchronously loading appContext service ("+b+")");var d=Qa();try{null!=c&&wa(c)&&c(a),a.g(b).then(function(a){d.resolve(a)},function(a){Kf(tM,"Error getting service ("+b+"): "+a);d.b(a)})}catch(e){Kf(tM,"Exception thrown getting service ("+b+")",e),d.b(e)}return d.a},tM=If("realtime.util.AsyncServiceResolver");var xM=function(){this.a=[];this.h=new C;this.o=this.u=this.A=this.m=0;this.b=new C;this.g=this.v=0;this.B=1;this.j=new JI(0,4E3);this.j.b=function(){return new vM};this.w=new JI(0,50);this.w.b=function(){return new wM};var a=this;this.f=new JI(0,2E3);this.f.b=function(){return String(a.B++)};this.f.f=function(){}};xM.prototype.l=If("goog.debug.Trace");var wM=function(){this.Sf=this.time=this.count=0};
wM.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.Sf&&a.push(" [VarAlloc = ",this.Sf,"]");return a.join("")};var vM=function(){},AM=function(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(yM(a.eventTime-c));e.push(" ",zM(a.eventTime-b));0==a.eventType?e.push(" Start        "):1==a.eventType?(e.push(" Done "),e.push(yM(a.b-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.a&&e.push("[VarAlloc ",a.a,"] ");return e.join("")};
vM.prototype.toString=function(){return null==this.type?this.comment:"["+this.type+"] "+this.comment};xM.prototype.reset=function(){for(var a=0;a<this.a.length;a++){var b=this.a[a];b.id&&KI(this.f,b.id);KI(this.j,b)}this.a.length=0;this.h.clear();this.m=Ea();this.g=this.v=this.o=this.u=this.A=0;a=this.b.Ea();for(b=0;b<a.length;b++){var c=this.b.get(a[b]);c.count=0;c.time=0;c.Sf=0;KI(this.w,c)}this.b.clear()};
xM.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.a.length;d++){var e=this.a[d];1==e.eventType&&c.pop();a.push(" ",AM(e,this.m,b,c.join("")));b=e.eventTime;a.push("\n");0==e.eventType&&c.push("|  ")}if(0!=this.h.Y()){var f=Ea();a.push(" Unstopped timers:\n");Ne(this.h,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",zM(b.startTime),")\n")})}b=this.b.Ea();for(d=0;d<b.length;d++)c=this.b.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.v,
"\n","Total comments created ",this.g,"\n","Overhead start: ",this.A," ms\n","Overhead end: ",this.u," ms\n","Overhead comment: ",this.o," ms\n");return a.join("")};var yM=function(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a},zM=function(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)};new xM;var BM=function(a){H(this,a,0,-1,null)};r(BM,G);BM.prototype.s=function(){var a=new O;CM(this,a);return P(a)};var CM=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&S(b,2,c);c=I(a,3);null!=c&&S(b,3,c);c=I(a,4);null!=c&&S(b,4,c)};BM.prototype.jb=function(){return I(this,2)};var EM=function(a){H(this,a,0,-1,DM)};r(EM,G);var DM=[5];EM.prototype.s=function(){var a=new O;FM(this,a);return P(a)};var FM=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&Q(b,3,c);c=I(a,4);null!=c&&Q(b,4,c);c=M(a,GM,5);0<c.length&&Ku(b,5,c,HM)},GM=function(a){H(this,a,0,-1,null)};r(GM,G);GM.prototype.s=function(){var a=new O;HM(this,a);return P(a)};var HM=function(a,b){var c;c=I(a,1);null!=c&&T(b,6,c);c=I(a,2);null!=c&&T(b,7,c)};var IM=function(a){H(this,a,0,-1,null)};r(IM,G);IM.prototype.s=function(){var a=new O;JM(this,a);return P(a)};var JM=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&T(b,3,c);c=I(a,4);null!=c&&Q(b,4,c);c=I(a,5);null!=c&&Q(b,5,c);c=L(a,KM,6);null!=c&&U(b,6,c,LM)},KM=function(a){H(this,a,0,-1,null)};r(KM,G);KM.prototype.s=function(){var a=new O;LM(this,a);return P(a)};
var LM=function(a,b){var c;c=I(a,1);null!=c&&R(b,1,c);c=I(a,4);null!=c&&R(b,4,c);c=I(a,7);null!=c&&R(b,7,c);c=I(a,14);null!=c&&R(b,14,c);c=I(a,15);null!=c&&Q(b,15,c);c=I(a,16);null!=c&&Q(b,16,c);c=I(a,31);null!=c&&Q(b,31,c);c=I(a,33);null!=c&&R(b,33,c);c=I(a,35);null!=c&&R(b,35,c);c=I(a,36);null!=c&&R(b,36,c);c=I(a,37);null!=c&&R(b,37,c);c=I(a,38);null!=c&&R(b,38,c);c=I(a,43);null!=c&&R(b,43,c);c=I(a,44);null!=c&&R(b,44,c)};var MM=function(a){H(this,a,0,-1,null)};r(MM,G);MM.prototype.s=function(){var a=new O;NM(this,a);return P(a)};var NM=function(a,b){var c;c=I(a,1);null!=c&&S(b,1,c);c=I(a,2);null!=c&&S(b,2,c);c=I(a,3);null!=c&&T(b,3,c);c=I(a,4);null!=c&&T(b,4,c);c=I(a,5);null!=c&&Au(b,5,c)},OM=function(a){var b=Ea();K(a,5,b)};var PM=function(a){H(this,a,0,-1,null)};r(PM,G);PM.prototype.s=function(){var a=new O;QM(this,a);return P(a)};var QM=function(a,b){var c;c=I(a,1);null!=c&&Q(b,1,c);c=I(a,2);null!=c&&Q(b,2,c);c=I(a,3);null!=c&&Q(b,3,c);c=I(a,4);null!=c&&Q(b,4,c);c=I(a,5);null!=c&&Q(b,5,c)};PM.prototype.Y=function(){return I(this,5)};var RM=function(a){H(this,a,0,-1,null)};r(RM,G);RM.prototype.s=function(){var a=new O;SM(this,a);return P(a)};var SM=function(a,b){var c;c=I(a,1);null!=c&&Q(b,1,c);c=I(a,2);null!=c&&Q(b,2,c);c=I(a,3);null!=c&&Au(b,3,c);c=I(a,4);null!=c&&Au(b,4,c)};var TM=function(a){H(this,a,0,-1,null)};r(TM,G);TM.prototype.s=function(){var a=new O;UM(this,a);return P(a)};var UM=function(a,b){var c;c=L(a,VM,1);null!=c&&U(b,1,c,WM);c=L(a,VM,2);null!=c&&U(b,2,c,WM);c=I(a,3);null!=c&&S(b,3,c)},VM=function(a){H(this,a,0,-1,null)};r(VM,G);VM.prototype.s=function(){var a=new O;WM(this,a);return P(a)};var WM=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&T(b,3,c)};var XM=function(a){H(this,a,0,-1,null)};r(XM,G);XM.prototype.s=function(){var a=new O;YM(this,a);return P(a)};var YM=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&R(b,3,c);c=I(a,4);null!=c&&T(b,4,c);c=I(a,5);null!=c&&T(b,5,c);c=I(a,6);null!=c&&T(b,6,c);c=I(a,7);null!=c&&S(b,7,c)};XM.prototype.V=function(){return I(this,6)};XM.prototype.R=function(a){K(this,6,a)};var ZM=function(a){H(this,a,0,-1,null)};r(ZM,G);ZM.prototype.s=function(){var a=new O;$M(this,a);return P(a)};
var $M=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&Q(b,2,c);c=I(a,3);null!=c&&Q(b,3,c);c=I(a,4);null!=c&&Q(b,4,c);c=I(a,5);null!=c&&T(b,5,c);c=I(a,6);null!=c&&Q(b,6,c);c=I(a,7);null!=c&&Q(b,7,c);c=I(a,8);null!=c&&T(b,8,c);c=I(a,9);null!=c&&Q(b,9,c);c=I(a,10);null!=c&&Q(b,10,c);c=I(a,11);null!=c&&T(b,11,c);c=I(a,12);null!=c&&T(b,12,c);c=I(a,13);null!=c&&T(b,13,c);c=I(a,14);null!=c&&T(b,14,c);c=I(a,15);null!=c&&T(b,15,c);c=I(a,16);null!=c&&T(b,16,c);c=I(a,17);null!=c&&Q(b,17,c);
c=I(a,18);null!=c&&Q(b,18,c);c=I(a,19);null!=c&&T(b,19,c);c=I(a,20);null!=c&&T(b,20,c);c=L(a,aN,21);null!=c&&U(b,21,c,bN);c=I(a,22);null!=c&&T(b,22,c);c=L(a,cN,23);null!=c&&U(b,23,c,dN)};ZM.prototype.h=function(a){K(this,6,a)};var aN=function(a){H(this,a,0,-1,null)};r(aN,G);aN.prototype.s=function(){var a=new O;bN(this,a);return P(a)};
var bN=function(a,b){var c;c=I(a,1);null!=c&&R(b,1,c);c=I(a,2);null!=c&&Q(b,2,c);c=I(a,3);null!=c&&Q(b,3,c);c=I(a,4);null!=c&&Q(b,4,c);c=I(a,5);null!=c&&Q(b,5,c)},cN=function(a){H(this,a,0,-1,eN)};r(cN,G);var eN=[3];cN.prototype.s=function(){var a=new O;dN(this,a);return P(a)};var dN=function(a,b){var c;c=I(a,1);null!=c&&Q(b,1,c);c=I(a,2);null!=c&&Q(b,2,c);c=M(a,fN,3);0<c.length&&W(b,3,c,gN)},fN=function(a){H(this,a,0,-1,null)};r(fN,G);fN.prototype.s=function(){var a=new O;gN(this,a);return P(a)};
var gN=function(a,b){var c;c=I(a,1);null!=c&&S(b,1,c);c=I(a,2);null!=c&&S(b,2,c);c=I(a,4);null!=c&&S(b,4,c);c=I(a,3);null!=c&&S(b,3,c)};var hN=function(){this.a=new GK;this.b=new mf};qa(hN);var iN=[31,37,41,43,47,53,61,67,71,73];hN.prototype.l=If("talk.media.webrtc.PendingLogUploadManager");
var jN=function(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}for(a=0;a<b.length;a++)b[a]^=iN[a%iN.length];return"wrplumplu-"+fk(b)},kN=function(a,b,c){var d=Ea()-432E6;b=a.a.get(jN(b));if(null!=b)try{var e=cf(b);if("cl:plu"==e[0]){var f=new OL(e),g=Cb(M(f,PL,1),function(a){return null!=I(a,1)&&null!=I(a,2)&&null!=I(a,3)&&0<I(a,1)&&I(a,3)>d&&I(a,2)!=c});Ys(f,1,g);return f}}catch(m){E(a.l,"Invalid pending JS log upload storage: "+b,m)}return new OL};
hN.prototype.add=function(a,b){F(this.l,"Recording pending upload for session "+b+" for "+a);this.b.add(b);var c=kN(this,a,b),d=M(c,PL,1),e=new PL;K(e,1,5);e.oa(b);b=Ea();K(e,3,b);Ob(d,void 0,0,e);Ys(c,1,d);this.a.set(jN(a),c.ka())};hN.prototype.remove=function(a,b){F(this.l,"Removing record for session "+b+" for "+a);b=kN(this,a,b);this.a.set(jN(a),b.ka())};var mN=function(a){H(this,a,0,-1,lN)};r(mN,G);var lN=[6];mN.prototype.s=function(){var a=new O;nN(this,a);return P(a)};var nN=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&T(b,3,c);c=L(a,BL,7);null!=c&&U(b,7,c,CL);c=I(a,4);null!=c&&T(b,4,c);c=M(a,oN,6);0<c.length&&W(b,6,c,pN);c=I(a,5);null!=c&&Eu(b,5,c)},oN=function(a){H(this,a,0,-1,null)};r(oN,G);oN.prototype.s=function(){var a=new O;pN(this,a);return P(a)};
var pN=function(a,b){var c;c=L(a,qN,1);null!=c&&U(b,1,c,rN);c=L(a,sN,2);null!=c&&U(b,2,c,tN);c=L(a,uN,3);null!=c&&U(b,3,c,vN)},qN=function(a){H(this,a,0,-1,null)};r(qN,G);qN.prototype.s=function(){var a=new O;rN(this,a);return P(a)};var rN=function(a,b){a=L(a,BL,1);null!=a&&U(b,1,a,CL)},sN=function(a){H(this,a,0,-1,null)};r(sN,G);sN.prototype.s=function(){var a=new O;tN(this,a);return P(a)};var tN=function(a,b){a=I(a,1);null!=a&&T(b,1,a)},uN=function(a){H(this,a,0,-1,null)};r(uN,G);
uN.prototype.s=function(){var a=new O;vN(this,a);return P(a)};var vN=function(a,b){a=I(a,1);null!=a&&T(b,1,a)};var xN=function(a){H(this,a,0,-1,wN)};r(xN,G);var wN=[2];xN.prototype.s=function(){var a=new O;yN(this,a);return P(a)};var yN=function(a,b){var c;c=L(a,zN,1);null!=c&&U(b,1,c,AN);c=I(a,2);0<c.length&&Iu(b,2,c);c=I(a,3);null!=c&&T(b,3,c);c=I(a,4);null!=c&&T(b,4,c)},zN=function(a){H(this,a,0,-1,null)};r(zN,G);zN.prototype.s=function(){var a=new O;AN(this,a);return P(a)};var AN=function(a,b){var c;c=L(a,BN,1);null!=c&&U(b,1,c,CN);c=L(a,rv,4);null!=c&&U(b,4,c,sv)},BN=function(a){H(this,a,0,-1,null)};
r(BN,G);BN.prototype.s=function(){var a=new O;CN(this,a);return P(a)};var CN=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c)};var DN=function(a){H(this,a,0,-1,null)};r(DN,G);DN.prototype.s=function(){var a=new O;EN(this,a);return P(a)};var EN=function(a,b){var c;c=L(a,BL,1);null!=c&&U(b,1,c,CL);c=I(a,2);null!=c&&Eu(b,2,c);c=I(a,3);null!=c&&Bu(b,3,c)};var HN=function(a){dd.call(this);this.id=FN++;this.ba=[];this.m={};this.u={};this.A={};this.a={};this.f={};this.N={};this.v=a?a.v:new B;this.ea=!a;this.j=null;a?(this.j=a,this.A=a.A,this.a=a.a,this.u=a.u,this.f=a.f):Ea();a=GN(this);this!=a&&(a.o?a.o.push(this):a.o=[this])};r(HN,dd);var FN=1,IN=.05>Math.random(),GN=function(a){for(;a.j;)a=a.j;return a};HN.prototype.get=function(a){var b=JN(this,a);null==b&&this.ja&&(b={BOGUS:"Service "+a+" was not registered"});if(null==b)throw new KN(a);return b};
var YL=function(a,b){return!(!a.m[b]&&!a.A[b])},JN=function(a,b){for(var c=a;c;c=c.j){if(c.w)throw Error("AppContext is disposed.");if(c.m[b])return c.m[b][0];if(c.N[b])break}if(c=a.A[b]){c=c(a);if(null==c)throw Error("Factory method for service "+b+" returned null or undefined.");a.b(b,c);return c}return null};HN.prototype.g=function(a,b){return LN(this,[a],b)[a]};
var LN=function(a,b,c){var d=!c;c={};for(var e=[],f=[],g={},m={},q=JN(a,Zr),y=0;y<b.length;y++){var D=b[y],V=JN(a,D);if(V){var fa=new HK;c[D]=fa;V.Se&&(SK(fa,V.Se()),OK(fa,Da(function(a){return a},V)));fa.callback(V)}else if(a.f[D])fa=a.f[D].j(),OK(fa,n(a.J,a,D)),c[D]=fa;else{var xa;D instanceof Nq?xa=OI([D]).yk:(V=a.u[D])&&(xa=[V]);!d||xa&&xa.length?(xa&&(q&&D instanceof Nq&&q.rr()&&(IN&&(fa=q.sr(MN),m[D]=fa),q.nr(D)),e.push.apply(e,xa),g[D]=yb(xa)),f.push(D)):(fa=new HK,c[D]=fa,fa.a(new KN(D)))}}if(d){if(e.length){a.B&&
a.B.push("loaded("+f+","+e+")\n"+rf());for(y=0;y<f.length;y++)a.v.dispatchEvent(new NN("O"));b=ON(PN(a),e,void 0);for(y=0;y<f.length;y++)D=f[y],V=g[D],fa=b[V].j(),c[D]=fa,m[D]&&OK(fa,function(){q.kr(m[D])}),QN(a,fa,D,V)}}else for(y=0;y<f.length;y++)D=f[y],V=e[y],fa=new HK(n(a.X,a,D)),c[D]=fa,(b=a.a[D])||(a.a[D]=b=[]),V&&RN(a,fa,D,V),OK(fa,n(a.F,a,D,V)),b.push({sa:a,d:fa});return c},RN=function(a,b,c,d){OK(b,function(){this.B&&this.B.push("loaded("+c+","+d+")\n"+rf());return PN(this).load(d)},a);PK(b,
n(a.H,a,c,d))},QN=function(a,b,c,d){OK(b,function(){this.v.dispatchEvent(new NN("P"))},a);PK(b,n(a.H,a,c,d));OK(b,n(a.F,a,c,d))};HN.prototype.F=function(a,b){var c=JN(this,a);if(null==c){if(this.f[a]){var d=this.f[a].j();OK(d,n(this.F,this,a,b));return d}throw new SN(a,b,"Module loaded but service or factory not registered with app contexts.");}return c.Se?(d=new HK,SK(d,c.Se()),d.callback(c),OK(d,n(this.J,this,a)),d):this.J(a)};HN.prototype.J=function(a){this.f[a]&&delete this.f[a];return this.get(a)};
HN.prototype.H=function(a,b,c){return c instanceof IK?c:new TN(a,b,c)};HN.prototype.b=function(a,b){if(this.w)fd(b);else{this.ba.push(a);this.m[a]=[b,!0];b=UN(this,this,a);for(var c=0;c<b.length;c++)b[c].callback(null);delete this.u[a]}};
var UN=function(a,b,c){var d=[],e=a.a[c];e&&(Bb(e,function(a){var c;a:{for(c=a.sa;c;){if(c==b){c=!0;break a}c=c.j}c=!1}c&&(d.push(a.d),Rb(e,a))}),0==e.length&&delete a.a[c]);return d},VN=function(a,b){a.a&&Ge(a.a,function(a,d,e){Bb(a,function(c){c.sa==b&&Rb(a,c)});0==a.length&&delete e[d]})};HN.prototype.X=function(a,b){var c=this.a&&this.a[a];if(c){for(var d=0;d<c.length;++d)if(c[d].sa==this&&c[d].d==b){Qb(c,d);break}0==c.length&&delete this.a[a]}};
HN.prototype.T=function(){if(GN(this)==this){var a=this.o;if(a)for(;a.length;)a[0].pa()}else for(var a=GN(this).o,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.m)a=this.m[c],a[1]&&a[0].pa&&a[0].pa();this.m=null;this.ea&&this.v.pa();VN(this,this);this.a=null;fd(this.aa);this.N=this.aa=null;HN.S.T.call(this)};var PN=function(a){return a.K?a.K:a.j?PN(a.j):null},KN=function(a){Fa.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'};r(KN,Fa);
var TN=function(a,b,c){Fa.call(this);this.message='Module "'+b+'" failed to load when requesting the service "'+a+'" [cause: '+c+"]";this.stack=c.stack+"\nWRAPPED BY:\n"+this.stack};r(TN,Fa);var SN=function(a,b,c){Fa.call(this);this.message='Configuration error when loading the module "'+b+'" for the service "'+a+'": '+c};r(SN,Fa);var NN=function(a){A.call(this,a)};r(NN,A);var WN=new fI("fva"),MN=new NI(WN,1);If("fava.debug.errorContext");var YN=function(a){YL(a,cK)||a.b(cK,XN.U())},XN=function(){this.l=If("realtime.analytics.ImpressionLogger")};qa(XN);var ZN=function(a,b,c,d,e,f,g){b="Impression: "+b;c&&(b+=" SID: "+c);d&&(b+=" PLID: "+d);e&&(b+=" HID: "+e);f&&(b+=" TS: "+f);g&&(b+=" XN: "+g);F(a.l,b)};var $N=function(){this.b=this.f=null;this.h=[];this.g=[];this.o=new mf;this.a=[];this.m="ICE";this.j="full";this.v=[];this.w=null},aO=function(a){return Ej&&Cc(50)&&Fb(a,function(a){return a.a.includes("http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions")})},cO=function(a){t([a.f.b,a.f.a,a.f.f],function(a){null!=a&&bO(this,a,iJ(a),this.f.h,u(this.f.j))},a)},dO=function(a){var b=[];a=[a.b,a.a,a.f];for(var c=Math.max.apply(Math,[].concat([1],la(a.map(function(a){return iJ(a).length})))),
d=!0,e=0;e<c;e++)t(a,function(a){var c=iJ(a)[e],f=a.h;c?b.push({type:f,description:a,stream:c,active:!0}):b.push({type:f,description:a,stream:null,active:d})}),d=!1;return b},bO=function(a,b,c,d,e){var f=b.h,g=Ua(jI)[f],m=gJ(b);a.g.includes(m)||a.g.push(m);var q=hJ(b),y=b.b,D="RTP/SAVPF";d&&d.a&&(D=y?"DTLS/SCTP":"UDP/TLS/RTP/SAVPF");var V="m="+g+" 9 "+D;"DTLS/SCTP"==D?V+=" "+y.ua():t(q,function(a){V+=" "+a.a},a);a.a.push(V);D="inactive";b.j&&b.m?D="sendrecv":b.m?D="recvonly":b.j&&(D="sendonly");eO(a,
g,m,D);fO(a,d);gO(a,e);hO(a,u(b.f));iO(a,q,f,aO(u(b.f)));(b=b.a)&&jO(a,0<q.length?q[0].a:null,b);kO(a,y);lO(a,c)},mO=function(a,b){a="a="+a;null==b||db(b)||(a=a+" "+b);return a},eO=function(a,b,c,d){if(a.b){if(b=a.b.j.get(b))a.a=a.a.concat(b)}else a.a.push("c=IN IP6 ::"),a.a.push(mO("rtcp:9","IN IP6 ::")),a.a.push(mO("rtcp-mux"));a.a.push(mO("mid:"+c));a.a.push(mO(d));c=Db(a.v,function(a){return mO("x-google-flag:"+a)},a);a.a=a.a.concat(c)},fO=function(a,b){var c=b&&b.b||"123456789012345678901234";
a.a.push(mO("ice-ufrag:"+(b&&b.f||"1234567890123456")));a.a.push(mO("ice-pwd:"+c));b&&(a.m=b.ub(),a.j=b.j);nO(a.a,a.m,a.j);b&&b.a&&(a.a.push(mO("fingerprint:"+b.a)),a.a.push(mO("setup:"+(b.g||"actpass"))))},nO=function(a,b,c){"ICE"==b?"lite"==c&&a.push(mO("ice-lite")):tb("google-ice is no longer supported.")},gO=function(a,b){var c;0<b.length&&(c=b[0]);null!=c&&a.a.push(mO("crypto:"+c.b,c.a+" "+c.f))},hO=function(a,b){t(b,function(a){this.a.push(mO("extmap:"+a.getId(),a.a))},a)},iO=function(a,b,c,
d){t(b,function(a){var b=a.a,e=a.getName(),m=a.f;if("v"==c||"d"==c)m=9E4;e=e+"/"+m;"a"==c&&1<a.b&&(e+="/"+a.b);this.a.push(mO("rtpmap:"+b,e));e=u(a.h);if(0<e.length){var q=[];t(e,function(a){a.a&&a.b&&q.push(a.a+"="+a.b)},this);e="";0<q.length&&(e=q.join("; "));this.a.push(mO("fmtp:"+b,e))}if(RI(a,"vp8")||RI(a,"vp9")||RI(a,"h264"))a="rtcp-fb:"+b,e=[mO(a,"ccm fir"),mO(a,"nack"),mO(a,"goog-remb")],d&&e.push(mO(a,"transport-cc")),this.a=this.a.concat(e);this.b&&(b=this.b.K.get(b))&&(this.a=this.a.concat(b))},
a)},jO=function(a,b,c){var d=c.a;-1!=d&&a.a.push("b=AS:"+d);Ej&&null!=b&&(b="fmtp:"+b,d=c.f,-1!=d&&a.a.push(mO(b,"x-google-start-bitrate="+d)),c=c.b,-1!=c&&a.a.push(mO(b,"x-google-min-bitrate="+c)))},kO=function(a,b){b&&a.a.push(mO("sctpmap:"+b.ua()+" "+b.getName()+" "+b.a))},lO=function(a,b){t(b,function(a){if(!db(mb(a.oc))){var b=a.ga(),c=a.oc,f=a.b?a.b:c;this.o.add(c);var g=Db(u(a.f),function(a){return mO("ssrc-group:"+a.a,a.tb().join(" "))},this);this.a=this.a.concat(g);g=Db(u(a.a),function(a){return mO("rid:"+
a+" send")});1<g.length&&(this.a=this.a.concat(g),g=mO("simulcast:","send rid="+u(a.a).join(";")),this.a=this.a.concat([g]));t(a.tb(),function(a){var d="ssrc:"+a,d=[mO(d,"cname:"+b),mO(d,"msid:"+c+" "+f)];null!=this.b&&(a=this.b.N.get(a))&&(d=d.concat(a));this.a=this.a.concat(d)},this)}},a)},oO=function(a){var b=a.bc,c=a.lc,d=a.Jc,e=a.ua(),f=a.Dd,g=a.Ed,m=a.nc,q=a.Cc;a=[a.kd,b,c.toLowerCase(),a.Sc,d,e,"typ",Ua(iI)[m]];switch(m){case "LOCAL":"TCP"==c&&a.push("tcptyp","active");break;case "STUN":case "RELAY":case "PEER_REFLEX":f&&
g&&a.push("raddr",f,"rport",g);break;default:tb("Unexpected candidate type: "+m)}a.push("generation",q);return new RTCIceCandidate({sdpMLineIndex:0,candidate:"candidate:"+a.join(" ")})};var pO=function(a){B.call(this);this.H=a;this.H.J=this;this.h(this.H)};r(pO,B);pO.prototype.f="db";var rO=function(a){return{config:a.N(),muted:a.ud(),state:qO(a)}};pO.prototype.Z=function(){return this.H};pO.prototype.ud=function(){return"aa"==this.Z().getState()};pO.prototype.N=function(){return null};
var qO=function(a){switch(a.f){case "cb":return chrome.i18n.getMessage("6950033741572394811");case "db":return chrome.i18n.getMessage("8757444822404164848");case "eb":return chrome.i18n.getMessage("4782049665629043191");case "fb":return chrome.i18n.getMessage("2100823569845184829");case "gb":return chrome.i18n.getMessage("99290588561553105");case "hb":return chrome.i18n.getMessage("7017840133230118615")}return""};pO.prototype.Th=pa;pO.prototype.Rf=pa;pO.prototype.X=pa;var sO=function(){dd.call(this);this.g={};this.b=[];this.f=[];this.m=[];this.a=[];this.j=[];this.o={};this.J=new XJ([],"");this.l=If("goog.module.ModuleManager");this.v=0;this.B=this.A=!1};r(sO,dd);qa(sO);
var uO=function(a){var b=0<a.b.length;b!=a.A&&(tO(a,b?"active":"idle"),a.A=b);b=0<a.j.length;b!=a.B&&(tO(a,b?"userActive":"userIdle"),a.B=b)},ON=function(a,b,c){var d=[];Yb(b,d);b=[];for(var e={},f=0;f<d.length;f++){var g=d[f],m=a.g[g];if(!m)throw Error("Unknown module: "+g);var q=new HK;e[g]=q;vO(a,g,m,!!c,q);wO(a,g)||b.push(g)}0<b.length&&(Lb(a.b)?a.u(b):(a.a.push(b),uO(a)));return e},vO=function(a,b,c,d,e){c.f.push(new eJ(e.callback,e));YJ(c,function(a){e.a(Error(a))});wO(a,b)?d&&(F(a.l,"User initiated module already loading: "+
b),Kb(a.j,b)||a.j.push(b),uO(a)):d?(F(a.l,"User initiated module load: "+b),Kb(a.j,b)||a.j.push(b)):F(a.l,"Initiating module load: "+b)};sO.prototype.u=function(a,b,c){b||(this.v=0);a=xO(this,a);F(this.l,"Loading module(s): "+a);this.b=a;this.f=u(a);uO(this);Lb(a)||(this.m.push.apply(this.m,a),c=n(null.mr,null,u(a),this.g,null,n(this.F,this,this.f,a),n(this.H,this),!!c),(a=5E3*Math.pow(this.v,2))?window.setTimeout(c,a):c())};
var xO=function(a,b){for(var c=0;c<b.length;c++);for(var d=[],c=0;c<b.length;c++)d=d.concat(yO(a,b[c]));Yb(d);return 1<d.length?(c=d.shift(),F(a.l,"Must load "+c+" module before "+b),a.a=Db(d,function(a){return[a]}).concat(a.a),[c]):d},yO=function(a,b){var c=[];Kb(a.m,b)||c.push(b);for(b=u(a.g[b].a);b.length;){var d=b.pop();Kb(a.m,d)||(c.unshift(d),Array.prototype.unshift.apply(b,a.g[d].a))}Yb(c);return c},wO=function(a,b){if(Kb(a.b,b))return!0;for(var c=0;c<a.a.length;c++)if(Kb(a.a[c],b))return!0;
return!1};sO.prototype.load=function(a,b){return ON(this,[a],b)[a]};sO.prototype.F=function(a,b,c){this.v++;this.f=a;t(b,Da(Rb,this.m),this);401==c?(F(this.l,"Module loading unauthorized"),zO(this,0),this.a.length=0):410==c?(AO(this,3),BO(this)):3<=this.v?(F(this.l,"Aborting after failure to load: "+this.b),AO(this,1),BO(this)):(F(this.l,"Retrying after failure to load: "+this.b),this.u(this.f,!0,8001==c))};sO.prototype.H=function(){F(this.l,"Aborting after timeout: "+this.b);AO(this,2);BO(this)};
var AO=function(a,b){1<a.f.length?a.a=Db(a.f,function(a){return[a]}).concat(a.a):zO(a,b)},zO=function(a,b){var c=a.f;a.b.length=0;for(var d=[],e=0;e<a.a.length;e++){var f=Cb(a.a[e],function(a){var b=yO(this,a);return Fb(c,function(a){return Kb(b,a)})},a);Wb(d,f)}for(e=0;e<c.length;e++)Nb(d,c[e]);for(e=0;e<d.length;e++){for(f=0;f<a.a.length;f++)Rb(a.a[f],d[e]);Rb(a.j,d[e])}var g=a.o.error;if(g)for(e=0;e<g.length;e++)for(var m=g[e],f=0;f<d.length;f++)m("error",d[f],b);for(e=0;e<c.length;e++)if(a.g[c[e]])a.g[c[e]].onError(b);
a.f.length=0;uO(a)},BO=function(a){for(;a.a.length;){var b=Cb(a.a.shift(),function(){return!0},a);if(0<b.length){a.u(b);return}}uO(a)},tO=function(a,b){a=a.o[b];for(var c=0;a&&c<a.length;c++)a[c](b)};sO.prototype.T=function(){sO.S.T.call(this);gd(Ka(this.g),this.J);this.o=this.a=this.j=this.f=this.b=this.g=null};var DO=function(a){H(this,a,0,-1,CO)};r(DO,G);var CO=[5,52];DO.prototype.s=function(){var a=new O;EO(this,a);return P(a)};
var EO=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,133);null!=c&&Au(b,133,c);c=I(a,3);null!=c&&Q(b,3,c);c=I(a,105);null!=c&&S(b,105,c);c=I(a,107);null!=c&&Au(b,107,c);c=I(a,104);null!=c&&Au(b,104,c);c=I(a,4);null!=c&&T(b,4,c);c=I(a,43);null!=c&&T(b,43,c);c=M(a,FO,5);0<c.length&&Ku(b,5,c,GO);c=I(a,28);null!=c&&R(b,28,c);c=I(a,29);null!=c&&Q(b,29,c);c=I(a,30);null!=c&&Q(b,30,c);c=I(a,112);null!=c&&T(b,112,c);c=I(a,106);null!=c&&Q(b,106,c);c=I(a,100);null!=c&&T(b,
100,c);c=I(a,68);null!=c&&Q(b,68,c);c=L(a,HO,69);null!=c&&U(b,69,c,IO);c=I(a,42);null!=c&&Au(b,42,c);c=M(a,JO,52);0<c.length&&W(b,52,c,KO);c=L(a,LO,135);null!=c&&U(b,135,c,MO)},FO=function(a){H(this,a,0,-1,NO)};r(FO,G);var NO=[2,13];FO.prototype.s=function(){var a=new O;GO(this,a);return P(a)};
var GO=function(a,b){var c;c=I(a,1);null!=c&&Q(b,6,c);c=I(a,113);null!=c&&Q(b,118,c);c=I(a,118);null!=c&&Q(b,123,c);c=OO(a);0<c.length&&Ku(b,7,c,PO);c=M(a,QO,13);0<c.length&&Ku(b,18,c,RO);c=I(a,34);null!=c&&Q(b,39,c);c=I(a,92);null!=c&&Q(b,97,c);c=I(a,94);null!=c&&Q(b,99,c);c=I(a,93);null!=c&&Q(b,98,c);c=I(a,35);null!=c&&Q(b,40,c);c=I(a,36);null!=c&&Q(b,41,c);c=I(a,54);null!=c&&Q(b,59,c);c=I(a,66);null!=c&&S(b,71,c);c=I(a,71);null!=c&&Du(b,76,c);c=I(a,72);null!=c&&Q(b,77,c);c=I(a,73);null!=c&&Q(b,
78,c);c=I(a,74);null!=c&&R(b,79,c);c=I(a,75);null!=c&&Q(b,80,c);c=L(a,SO,129);null!=c&&U(b,134,c,TO)},OO=function(a){return M(a,UO,2)};FO.prototype.h=function(a){K(this,36,a)};var UO=function(a){H(this,a,0,-1,VO)};r(UO,G);var VO=[53,54];UO.prototype.s=function(){var a=new O;PO(this,a);return P(a)};
var PO=function(a,b){var c;c=I(a,1);null!=c&&S(b,8,c);c=I(a,2);null!=c&&Q(b,9,c);c=I(a,3);null!=c&&Q(b,10,c);c=I(a,4);null!=c&&Q(b,11,c);c=I(a,5);null!=c&&Q(b,12,c);c=I(a,6);null!=c&&Q(b,13,c);c=I(a,7);null!=c&&Au(b,14,c);c=I(a,8);null!=c&&Q(b,15,c);c=I(a,9);null!=c&&Au(b,16,c);c=I(a,10);null!=c&&Q(b,17,c);c=I(a,24);null!=c&&S(b,31,c);c=I(a,25);null!=c&&null!=c&&(wu(b,32,5),Ut(b.a,c));c=I(a,117);null!=c&&Du(b,124,c);c=I(a,26);null!=c&&Q(b,33,c);c=I(a,27);null!=c&&Q(b,34,c);c=I(a,28);null!=c&&Q(b,
35,c);c=I(a,29);null!=c&&Q(b,36,c);c=I(a,30);null!=c&&Q(b,37,c);c=I(a,31);null!=c&&Q(b,38,c);c=I(a,50);null!=c&&Du(b,57,c);c=I(a,87);null!=c&&Du(b,94,c);c=I(a,51);null!=c&&Du(b,58,c);c=I(a,88);null!=c&&Du(b,95,c);c=I(a,37);null!=c&&Q(b,44,c);c=I(a,38);null!=c&&Q(b,45,c);c=I(a,39);null!=c&&Q(b,46,c);c=I(a,40);null!=c&&Q(b,47,c);c=I(a,41);null!=c&&Q(b,48,c);c=I(a,42);null!=c&&Q(b,49,c);c=I(a,43);null!=c&&Q(b,50,c);c=I(a,124);null!=c&&Q(b,131,c);c=I(a,125);null!=c&&Q(b,132,c);c=I(a,96);null!=c&&Q(b,
103,c);c=I(a,80);null!=c&&Q(b,87,c);c=I(a,44);null!=c&&T(b,51,c);c=I(a,94);null!=c&&T(b,101,c);c=I(a,46);null!=c&&Q(b,53,c);c=I(a,47);null!=c&&Q(b,54,c);c=I(a,48);null!=c&&Q(b,55,c);c=I(a,49);null!=c&&Q(b,56,c);c=I(a,63);null!=c&&Du(b,70,c);c=I(a,129);null!=c&&Du(b,136,c);c=I(a,133);null!=c&&Du(b,140,c);c=I(a,53);0<c.length&&Hu(b,60,c);c=M(a,WO,54);0<c.length&&Ku(b,61,c,XO);c=I(a,57);null!=c&&Q(b,64,c);c=I(a,58);null!=c&&Q(b,65,c);c=I(a,114);null!=c&&Q(b,121,c);c=I(a,115);null!=c&&Q(b,122,c);c=I(a,
113);null!=c&&Q(b,120,c);c=I(a,78);null!=c&&Q(b,85,c);c=I(a,79);null!=c&&Q(b,86,c);c=I(a,59);null!=c&&R(b,66,c);c=I(a,60);null!=c&&R(b,67,c);c=I(a,65);null!=c&&Q(b,72,c);c=I(a,95);null!=c&&Q(b,102,c);c=I(a,68);null!=c&&Du(b,75,c);c=I(a,103);null!=c&&Du(b,110,c);c=I(a,106);null!=c&&Du(b,113,c);c=I(a,107);null!=c&&Du(b,114,c);c=I(a,104);null!=c&&Du(b,111,c);c=I(a,74);null!=c&&Q(b,81,c);c=I(a,75);null!=c&&Q(b,82,c);c=I(a,76);null!=c&&Q(b,83,c);c=I(a,77);null!=c&&Q(b,84,c);c=I(a,81);null!=c&&Q(b,88,c);
c=I(a,82);null!=c&&Q(b,89,c);c=I(a,83);null!=c&&Q(b,90,c);c=I(a,84);null!=c&&Q(b,91,c);c=I(a,85);null!=c&&Q(b,92,c);c=I(a,86);null!=c&&Q(b,93,c);c=I(a,134);null!=c&&Q(b,141,c);c=I(a,89);null!=c&&Q(b,96,c);c=I(a,112);null!=c&&Q(b,119,c);c=I(a,118);null!=c&&Q(b,125,c);c=I(a,119);null!=c&&Q(b,126,c);c=L(a,PM,132);null!=c&&U(b,139,c,QM);c=L(a,PM,120);null!=c&&U(b,127,c,QM);c=L(a,PM,121);null!=c&&U(b,128,c,QM);c=L(a,PM,122);null!=c&&U(b,129,c,QM);c=L(a,PM,123);null!=c&&U(b,130,c,QM);c=I(a,108);null!=c&&
Q(b,115,c);c=I(a,109);null!=c&&Q(b,116,c);c=I(a,110);null!=c&&Q(b,117,c);c=I(a,130);null!=c&&Au(b,137,c);c=I(a,131);null!=c&&Au(b,138,c)};UO.prototype.h=function(a){K(this,6,a)};UO.prototype.j=function(a){K(this,57,a)};UO.prototype.g=function(a){K(this,58,a)};var YO={Lq:0,Iq:1,Aj:2,Kq:3},ZO={zj:0,yj:1,Jq:2},$O={Wf:0,Vf:1,Uf:2,Xf:4,jm:8,mm:16,lm:32,nm:64,km:128,fm:256,im:512,hm:1024,gm:2048,om:1073741824},WO=function(a){H(this,a,0,-1,aP)};r(WO,G);var aP=[2];
WO.prototype.s=function(){var a=new O;XO(this,a);return P(a)};var XO=function(a,b){var c;c=I(a,1);null!=c&&T(b,62,c);c=I(a,2);0<c.length&&Hu(b,63,c)},QO=function(a){H(this,a,0,-1,null)};r(QO,G);QO.prototype.s=function(){var a=new O;RO(this,a);return P(a)};
var RO=function(a,b){var c;c=I(a,1);null!=c&&Q(b,19,c);c=I(a,2);null!=c&&Q(b,20,c);c=I(a,3);null!=c&&Q(b,21,c);c=I(a,4);null!=c&&Au(b,22,c);c=I(a,5);null!=c&&Q(b,23,c);c=I(a,90);null!=c&&Q(b,108,c);c=I(a,91);null!=c&&Q(b,109,c);c=I(a,6);null!=c&&Au(b,24,c);c=I(a,7);null!=c&&Q(b,25,c);c=L(a,BM,8,1);null!=c&&U(b,26,c,CM);c=L(a,BM,9,1);null!=c&&U(b,27,c,CM);c=I(a,55);null!=c&&Q(b,73,c);c=L(a,bP,56);null!=c&&U(b,74,c,cP)};QO.prototype.h=function(a){K(this,3,a)};var bP=function(a){H(this,a,0,-1,null)};
r(bP,G);bP.prototype.s=function(){var a=new O;cP(this,a);return P(a)};var cP=function(a,b){var c;c=I(a,1);null!=c&&Q(b,1,c);c=I(a,2);null!=c&&Q(b,2,c);c=I(a,3);null!=c&&Q(b,3,c);c=I(a,4);null!=c&&Q(b,4,c)},SO=function(a){H(this,a,0,-1,dP)};r(SO,G);var dP=[3];SO.prototype.s=function(){var a=new O;TO(this,a);return P(a)};var TO=function(a,b){var c;c=I(a,1);null!=c&&Q(b,1,c);c=I(a,2);null!=c&&Q(b,2,c);c=I(a,3);0<c.length&&Fu(b,3,c)},HO=function(a){H(this,a,0,-1,null)};r(HO,G);
HO.prototype.s=function(){var a=new O;IO(this,a);return P(a)};var IO=function(a,b){var c;c=I(a,1);null!=c&&S(b,1,c);c=I(a,2);null!=c&&Au(b,2,c)},JO=function(a){H(this,a,0,-1,eP)};r(JO,G);var eP=[3,4];JO.prototype.s=function(){var a=new O;KO(this,a);return P(a)};var KO=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);0<c.length&&Hu(b,3,c);c=I(a,4);0<c.length&&Hu(b,4,c)},LO=function(a){H(this,a,0,-1,null)};r(LO,G);LO.prototype.s=function(){var a=new O;MO(this,a);return P(a)};
var MO=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&S(b,2,c)};var fP=function(a){H(this,a,0,-1,null)};r(fP,G);fP.prototype.s=function(){var a=new O;gP(this,a);return P(a)};var gP=function(a,b){var c;c=I(a,1);null!=c&&S(b,1,c);c=L(a,XM,2);null!=c&&U(b,2,c,YM);c=L(a,TM,6);null!=c&&U(b,6,c,UM);c=I(a,3);null!=c&&T(b,3,c);c=I(a,4);null!=c&&T(b,4,c);c=I(a,5);null!=c&&Q(b,5,c);c=I(a,7);null!=c&&Au(b,7,c);c=I(a,8);null!=c&&T(b,8,c)};var hP=new Date(0)-new Date("1900/01/01 00:00 GMT");var jP=function(a){H(this,a,"chbarp",-1,iP)};r(jP,G);var iP=[4];jP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=L(this,Sx,2);null!=b&&U(a,2,b,Tx);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,Sx,4);0<b.length&&W(a,4,b,Tx);return P(a)};it("chbarp",jP);jP.prototype.getResponseHeader=function(){return L(this,ty,1)};jP.prototype.C=function(){return L(this,X,3)};jP.prototype.D=function(a){N(this,3,a)};jP.prototype.O=function(){this.D(void 0)};var lP=function(a){H(this,a,"chbmrp",-1,kP)};r(lP,G);var kP=[4];lP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=L(this,Sx,2);null!=b&&U(a,2,b,Tx);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,Sx,4);0<b.length&&W(a,4,b,Tx);return P(a)};it("chbmrp",lP);lP.prototype.getResponseHeader=function(){return L(this,ty,1)};lP.prototype.C=function(){return L(this,X,3)};lP.prototype.D=function(a){N(this,3,a)};lP.prototype.O=function(){this.D(void 0)};var mP=function(a){H(this,a,"chbqrp",-1,null)};r(mP,G);mP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=L(this,Sx,2);null!=b&&U(a,2,b,Tx);b=this.C();null!=b&&U(a,3,b,Y);return P(a)};it("chbqrp",mP);mP.prototype.getResponseHeader=function(){return L(this,ty,1)};mP.prototype.C=function(){return L(this,X,3)};mP.prototype.D=function(a){N(this,3,a)};mP.prototype.O=function(){this.D(void 0)};var nP=function(a){H(this,a,"chbrrp",-1,null)};r(nP,G);nP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=this.C();null!=b&&U(a,2,b,Y);return P(a)};it("chbrrp",nP);nP.prototype.getResponseHeader=function(){return L(this,ty,1)};nP.prototype.C=function(){return L(this,X,2)};nP.prototype.D=function(a){N(this,2,a)};nP.prototype.O=function(){this.D(void 0)};var pP=function(a){H(this,a,"chbsrp",-1,oP)};r(pP,G);var oP=[2];pP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=M(this,Sx,2);0<b.length&&W(a,2,b,Tx);b=this.C();null!=b&&U(a,3,b,Y);return P(a)};it("chbsrp",pP);pP.prototype.getResponseHeader=function(){return L(this,ty,1)};pP.prototype.C=function(){return L(this,X,3)};pP.prototype.D=function(a){N(this,3,a)};pP.prototype.O=function(){this.D(void 0)};var rP=function(a){H(this,a,"carp",-1,qP)};r(rP,G);var qP=[2];rP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=M(this,$u,2);0<b.length&&W(a,2,b,av);return P(a)};it("carp",rP);rP.prototype.getResponseHeader=function(){return L(this,ty,1)};var tP=function(a){H(this,a,0,-1,sP)};r(tP,G);var sP=[4];tP.prototype.s=function(){var a=new O;uP(this,a);return P(a)};var uP=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=L(a,zy,2);null!=c&&U(b,2,c,Ay);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,zy,4);0<c.length&&W(b,4,c,Ay)};tP.prototype.setRequestHeader=function(a){N(this,1,a)};tP.prototype.C=function(){return L(this,X,3)};tP.prototype.D=function(a){N(this,3,a)};tP.prototype.O=function(){this.D(void 0)};var wP=function(a){H(this,a,"charp",-1,vP)};r(wP,G);var vP=[5];wP.prototype.s=function(){var a=new O;xP(this,a);return P(a)};var xP=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=L(a,zy,2);null!=c&&U(b,2,c,Ay);c=I(a,4);null!=c&&T(b,4,c);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,zy,5);0<c.length&&W(b,5,c,Ay)};it("charp",wP);wP.prototype.getResponseHeader=function(){return L(this,ty,1)};wP.prototype.C=function(){return L(this,X,3)};wP.prototype.D=function(a){N(this,3,a)};
wP.prototype.O=function(){this.D(void 0)};var zP=function(a){H(this,a,0,-1,yP)};r(zP,G);var yP=[11];zP.prototype.s=function(){var a=new O;AP(this,a);return P(a)};var AP=function(a,b){var c;c=I(a,8);null!=c&&Au(b,8,c);c=I(a,1);null!=c&&T(b,1,c);c=L(a,mN,2);null!=c&&U(b,2,c,nN);c=M(a,xN,11);0<c.length&&W(b,11,c,yN);c=I(a,3);null!=c&&S(b,3,c);c=I(a,4);null!=c&&R(b,4,c);c=I(a,6);null!=c&&S(b,6,c);c=L(a,FL,7);null!=c&&U(b,7,c,GL);c=I(a,9);null!=c&&T(b,9,c);c=I(a,99);null!=c&&T(b,99,c)};zP.prototype.V=function(){return I(this,1)};
zP.prototype.R=function(a){K(this,1,a)};var CP=function(a){H(this,a,0,-1,BP)};r(CP,G);var BP=[4];h=CP.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=L(this,zy,2);null!=b&&U(a,2,b,Ay);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,zy,4);0<b.length&&W(a,4,b,Ay);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var EP=function(a){H(this,a,"chmrp",-1,DP)};r(EP,G);var DP=[4];EP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=L(this,zy,2);null!=b&&U(a,2,b,Ay);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,zy,4);0<b.length&&W(a,4,b,Ay);return P(a)};it("chmrp",EP);EP.prototype.getResponseHeader=function(){return L(this,ty,1)};EP.prototype.C=function(){return L(this,X,3)};EP.prototype.D=function(a){N(this,3,a)};EP.prototype.O=function(){this.D(void 0)};var GP=function(a){H(this,a,0,-1,FP)};r(GP,G);var FP=[6];GP.prototype.s=function(){var a=new O;HP(this,a);return P(a)};var HP=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=L(a,Ey,2);null!=c&&U(b,2,c,Fy);c=L(a,HL,3);null!=c&&U(b,3,c,IL);c=I(a,4);null!=c&&R(b,4,c);c=a.C();null!=c&&U(b,5,c,Y);c=M(a,Ey,6);0<c.length&&W(b,6,c,Fy)};GP.prototype.setRequestHeader=function(a){N(this,1,a)};GP.prototype.C=function(){return L(this,X,5)};GP.prototype.D=function(a){N(this,5,a)};GP.prototype.O=function(){this.D(void 0)};var JP=function(a){H(this,a,"chparp",-1,IP)};r(JP,G);var IP=[5];JP.prototype.s=function(){var a=new O;KP(this,a);return P(a)};var KP=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=L(a,Ey,2);null!=c&&U(b,2,c,Fy);c=a.C();null!=c&&U(b,3,c,Y);c=I(a,4);null!=c&&S(b,4,c);c=M(a,Ey,5);0<c.length&&W(b,5,c,Fy)};it("chparp",JP);JP.prototype.getResponseHeader=function(){return L(this,ty,1)};JP.prototype.C=function(){return L(this,X,3)};JP.prototype.D=function(a){N(this,3,a)};
JP.prototype.O=function(){this.D(void 0)};var NP=function(a){H(this,a,0,-1,LP)};r(NP,G);var LP=[4];h=NP.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=L(this,Ey,2);null!=b&&U(a,2,b,Fy);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,Ey,4);0<b.length&&W(a,4,b,Fy);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var PP=function(a){H(this,a,"chpmrp",-1,OP)};r(PP,G);var OP=[4];PP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=L(this,Ey,2);null!=b&&U(a,2,b,Fy);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,Ey,4);0<b.length&&W(a,4,b,Fy);return P(a)};it("chpmrp",PP);PP.prototype.getResponseHeader=function(){return L(this,ty,1)};PP.prototype.C=function(){return L(this,X,3)};PP.prototype.D=function(a){N(this,3,a)};PP.prototype.O=function(){this.D(void 0)};var QP=function(a){H(this,a,0,-1,null)};r(QP,G);h=QP.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=I(this,2);null!=b&&T(a,2,b);b=I(this,3);null!=b&&T(a,3,b);b=this.C();null!=b&&U(a,4,b,Y);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.V=function(){return I(this,2)};h.R=function(a){K(this,2,a)};h.M=function(){return I(this,3)};h.na=function(a){K(this,3,a)};h.C=function(){return L(this,X,4)};h.D=function(a){N(this,4,a)};h.O=function(){this.D(void 0)};var RP=function(a){H(this,a,"chpqrp",-1,null)};r(RP,G);RP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=L(this,Ey,2);null!=b&&U(a,2,b,Fy);b=this.C();null!=b&&U(a,3,b,Y);return P(a)};it("chpqrp",RP);RP.prototype.getResponseHeader=function(){return L(this,ty,1)};RP.prototype.C=function(){return L(this,X,3)};RP.prototype.D=function(a){N(this,3,a)};RP.prototype.O=function(){this.D(void 0)};var TP=function(a){H(this,a,0,-1,SP)};r(TP,G);var SP=[6,7];h=TP.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=I(this,2);null!=b&&T(a,2,b);b=I(this,3);null!=b&&T(a,3,b);b=I(this,5);null!=b&&S(a,5,b);b=this.C();null!=b&&U(a,4,b,Y);b=I(this,6);0<b.length&&Ju(a,6,b);b=M(this,Lv,7);0<b.length&&W(a,7,b,Mv);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.V=function(){return I(this,2)};h.R=function(a){K(this,2,a)};h.M=function(){return I(this,3)};
h.na=function(a){K(this,3,a)};h.C=function(){return L(this,X,4)};h.D=function(a){N(this,4,a)};h.O=function(){this.D(void 0)};var UP=function(a,b){Ys(a,7,b)};var VP=function(a){H(this,a,"chprrp",-1,null)};r(VP,G);VP.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=this.C();null!=b&&U(a,2,b,Y);b=I(this,3);null!=b&&S(a,3,b);return P(a)};it("chprrp",VP);VP.prototype.getResponseHeader=function(){return L(this,ty,1)};VP.prototype.C=function(){return L(this,X,2)};VP.prototype.D=function(a){N(this,2,a)};VP.prototype.O=function(){this.D(void 0)};var WP=function(a){H(this,a,0,-1,null)};r(WP,G);WP.prototype.s=function(){var a=new O;XP(this,a);return P(a)};var XP=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=I(a,2);null!=c&&T(b,2,c);c=a.C();null!=c&&U(b,3,c,Y)};h=WP.prototype;h.setRequestHeader=function(a){N(this,1,a)};h.V=function(){return I(this,2)};h.R=function(a){K(this,2,a)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var ZP=function(a){H(this,a,"chpsrp",-1,YP)};r(ZP,G);var YP=[2,4];ZP.prototype.s=function(){var a=new O;$P(this,a);return P(a)};var $P=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=M(a,Ey,2);0<c.length&&W(b,2,c,Fy);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,LL,4);0<c.length&&W(b,4,c,ML)};it("chpsrp",ZP);ZP.prototype.getResponseHeader=function(){return L(this,ty,1)};ZP.prototype.C=function(){return L(this,X,3)};ZP.prototype.D=function(a){N(this,3,a)};ZP.prototype.O=function(){this.D(void 0)};var aQ=function(a){H(this,a,0,-1,null)};r(aQ,G);aQ.prototype.s=function(){var a=new O;bQ(this,a);return P(a)};var bQ=function(a,b){var c;c=I(a,1);null!=c&&Au(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=L(a,BL,3);null!=c&&U(b,3,c,CL);c=I(a,4);null!=c&&R(b,4,c);c=I(a,5);null!=c&&R(b,5,c);c=L(a,DN,6);null!=c&&U(b,6,c,EN)};aQ.prototype.V=function(){return I(this,2)};aQ.prototype.R=function(a){K(this,2,a)};var cQ=function(a){H(this,a,0,-1,null)};r(cQ,G);cQ.prototype.s=function(){var a=new O;dQ(this,a);return P(a)};var dQ=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=I(a,2);null!=c&&T(b,2,c);c=a.C();null!=c&&U(b,3,c,Y)};h=cQ.prototype;h.setRequestHeader=function(a){N(this,1,a)};h.V=function(){return I(this,2)};h.R=function(a){K(this,2,a)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var eQ=function(a){H(this,a,"chqrp",-1,null)};r(eQ,G);eQ.prototype.s=function(){var a=new O;fQ(this,a);return P(a)};var fQ=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=L(a,zy,2);null!=c&&U(b,2,c,Ay);c=a.C();null!=c&&U(b,3,c,Y)};it("chqrp",eQ);eQ.prototype.getResponseHeader=function(){return L(this,ty,1)};eQ.prototype.C=function(){return L(this,X,3)};eQ.prototype.D=function(a){N(this,3,a)};eQ.prototype.O=function(){this.D(void 0)};var hQ=function(a){H(this,a,0,-1,gQ)};r(hQ,G);var gQ=[3];hQ.prototype.s=function(){var a=new O;iQ(this,a);return P(a)};var iQ=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=L(a,Hv,2);null!=c&&U(b,2,c,Iv);c=M(a,mN,3);0<c.length&&W(b,3,c,nN);c=L(a,JL,4);null!=c&&U(b,4,c,KL);c=I(a,5);null!=c&&R(b,5,c);c=I(a,6);null!=c&&S(b,6,c);c=I(a,7);null!=c&&T(b,7,c);c=a.C();null!=c&&U(b,8,c,Y)};h=hQ.prototype;h.setRequestHeader=function(a){N(this,1,a)};h.W=function(){return J(this,6,1)};
h.Ma=function(a){K(this,6,a)};h.C=function(){return L(this,X,8)};h.D=function(a){N(this,8,a)};h.O=function(){this.D(void 0)};var jQ=function(a){H(this,a,"chrrp",-1,null)};r(jQ,G);jQ.prototype.s=function(){var a=new O;kQ(this,a);return P(a)};var kQ=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&S(b,3,c);c=I(a,4);null!=c&&T(b,4,c);c=a.C();null!=c&&U(b,5,c,Y)};it("chrrp",jQ);h=jQ.prototype;h.getResponseHeader=function(){return L(this,ty,1)};h.V=function(){return I(this,2)};h.R=function(a){K(this,2,a)};h.C=function(){return L(this,X,5)};
h.D=function(a){N(this,5,a)};h.O=function(){this.D(void 0)};var mQ=function(a){H(this,a,"chsetcrp",-1,lQ)};r(mQ,G);var lQ=[2];mQ.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=M(this,dw,2);0<b.length&&W(a,2,b,ew);return P(a)};it("chsetcrp",mQ);mQ.prototype.getResponseHeader=function(){return L(this,ty,1)};var nQ=function(a){H(this,a,"chselrp",-1,null)};r(nQ,G);nQ.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=this.C();null!=b&&U(a,2,b,Y);return P(a)};it("chselrp",nQ);nQ.prototype.getResponseHeader=function(){return L(this,ty,1)};nQ.prototype.C=function(){return L(this,X,2)};nQ.prototype.D=function(a){N(this,2,a)};nQ.prototype.O=function(){this.D(void 0)};var oQ=function(a){H(this,a,0,-1,null)};r(oQ,G);oQ.prototype.s=function(){var a=new O;pQ(this,a);return P(a)};var pQ=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=I(a,2);null!=c&&T(b,2,c);c=a.C();null!=c&&U(b,3,c,Y)};h=oQ.prototype;h.setRequestHeader=function(a){N(this,1,a)};h.oa=function(a){K(this,2,a)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var rQ=function(a){H(this,a,0,-1,qQ)};r(rQ,G);var qQ=[4];rQ.prototype.s=function(){var a=new O;sQ(this,a);return P(a)};var sQ=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=a.Z();null!=c&&U(b,2,c,Oy);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,Ny,4);0<c.length&&W(b,4,c,Oy)};h=rQ.prototype;h.setRequestHeader=function(a){N(this,1,a)};h.Z=function(){return L(this,Ny,2)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var uQ=function(a){H(this,a,"chsoarp",-1,tQ)};r(uQ,G);var tQ=[4];uQ.prototype.s=function(){var a=new O;vQ(this,a);return P(a)};var vQ=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=a.Z();null!=c&&U(b,2,c,Oy);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,Ny,4);0<c.length&&W(b,4,c,Oy)};it("chsoarp",uQ);h=uQ.prototype;h.getResponseHeader=function(){return L(this,ty,1)};h.Z=function(){return L(this,Ny,2)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var xQ=function(a){H(this,a,0,-1,wQ)};r(xQ,G);var wQ=[4];h=xQ.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=this.Z();null!=b&&U(a,2,b,Oy);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,Ny,4);0<b.length&&W(a,4,b,Oy);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.Z=function(){return L(this,Ny,2)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var zQ=function(a){H(this,a,"chsomrp",-1,yQ)};r(zQ,G);var yQ=[4];zQ.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=this.Z();null!=b&&U(a,2,b,Oy);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,Ny,4);0<b.length&&W(a,4,b,Oy);return P(a)};it("chsomrp",zQ);h=zQ.prototype;h.getResponseHeader=function(){return L(this,ty,1)};h.Z=function(){return L(this,Ny,2)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var AQ=function(a){H(this,a,0,-1,null)};r(AQ,G);h=AQ.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=I(this,2);null!=b&&T(a,2,b);b=I(this,3);null!=b&&T(a,3,b);b=I(this,4);null!=b&&T(a,4,b);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.V=function(){return I(this,2)};h.R=function(a){K(this,2,a)};h.M=function(){return I(this,3)};h.na=function(a){K(this,3,a)};h.ga=function(){return I(this,4)};var BQ=function(a){H(this,a,"chsoqrp",-1,null)};r(BQ,G);BQ.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=this.Z();null!=b&&U(a,2,b,Oy);return P(a)};it("chsoqrp",BQ);BQ.prototype.getResponseHeader=function(){return L(this,ty,1)};BQ.prototype.Z=function(){return L(this,Ny,2)};var CQ=function(a){H(this,a,0,-1,null)};r(CQ,G);CQ.prototype.s=function(){var a=new O;DQ(this,a);return P(a)};var DQ=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=I(a,2);null!=c&&T(b,2,c);c=I(a,3);null!=c&&T(b,3,c);c=a.C();null!=c&&U(b,4,c,Y)};h=CQ.prototype;h.setRequestHeader=function(a){N(this,1,a)};h.V=function(){return I(this,2)};h.R=function(a){K(this,2,a)};h.M=function(){return I(this,3)};h.na=function(a){K(this,3,a)};h.C=function(){return L(this,X,4)};h.D=function(a){N(this,4,a)};
h.O=function(){this.D(void 0)};var FQ=function(a){H(this,a,"chsosrp",-1,EQ)};r(FQ,G);var EQ=[2];FQ.prototype.s=function(){var a=new O;GQ(this,a);return P(a)};var GQ=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=M(a,Ny,2);0<c.length&&W(b,2,c,Oy);c=a.C();null!=c&&U(b,3,c,Y)};it("chsosrp",FQ);FQ.prototype.getResponseHeader=function(){return L(this,ty,1)};FQ.prototype.C=function(){return L(this,X,3)};FQ.prototype.D=function(a){N(this,3,a)};FQ.prototype.O=function(){this.D(void 0)};var HQ=function(a){H(this,a,0,-1,null)};r(HQ,G);h=HQ.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=I(this,2);null!=b&&S(a,2,b);b=I(this,3);null!=b&&T(a,3,b);b=I(this,4);null!=b&&T(a,4,b);b=I(this,5);null!=b&&T(a,5,b);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.oa=function(a){K(this,3,a)};h.Qa=function(){return I(this,4)};h.V=function(){return I(this,5)};h.R=function(a){K(this,5,a)};var IQ=function(a){H(this,a,0,-1,null)};r(IQ,G);IQ.prototype.s=function(){var a=new O;JQ(this,a);return P(a)};var JQ=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=I(a,2);null!=c&&S(b,2,c);c=I(a,3);null!=c&&T(b,3,c);c=I(a,4);null!=c&&T(b,4,c);c=a.C();null!=c&&U(b,5,c,Y)};h=IQ.prototype;h.setRequestHeader=function(a){N(this,1,a)};h.oa=function(a){K(this,3,a)};h.V=function(){return I(this,4)};h.R=function(a){K(this,4,a)};h.C=function(){return L(this,X,5)};h.D=function(a){N(this,5,a)};h.O=function(){this.D(void 0)};var LQ=function(a,b,c){rM.call(this,a,c,"ab");this.j=b;this.g=new Xt(this);this.h(this.g);this.g.listen(this.a,"ka",function(a){a=a.Wl;null==a||db(a)||this.dispatchEvent(new KQ(this.j,a))})};r(LQ,rM);var KQ=function(a,b){A.call(this,"la");this.sessionId=a;this.url=b};r(KQ,A);var MQ=function(){return new yr(zy,[zy.prototype.V],[zy.prototype.R],[],[],Jv,[Jv.prototype.V],[Jv.prototype.R],[],[])};var NQ=function(){this.b=this.a=this.h=this.g=this.f=null},OQ=function(a,b){a.f=b;return a},PQ=function(a,b){a.f&&K(b,14,a.f);a.h&&K(b,16,a.h);a.a&&K(b,22,a.a);a.b&&K(b,23,a.b)};NQ.prototype.toString=function(){return"{ ParticipantLogId: "+(this.f||"")+", MucJid: "+(this.g||"")+", SyntheticId: "+(this.h||"")+", MeetingCode: "+(this.a||"")+", MeetingSpaceId: "+(this.b||"")+" }"};var QQ=function(){};r(QQ,dd);var RQ=function(a){var b={networkType:3};t(M(a,QO,13),function(a){K(a,55,b.networkType);if(2===b.networkType){var c=new bP;K(c,1,void 0!==b.dm?b.dm:-1);N(a,56,c)}})},SQ=function(){};r(SQ,QQ);var TQ=new SQ,UQ=new Nq("QfoKtd");If("goog.debug.ErrorReporter");var WQ=function(a){H(this,a,0,-1,VQ)};r(WQ,G);var VQ=[1];WQ.prototype.s=function(){var a=new O;XQ(this,a);return P(a)};var XQ=function(a,b){var c;c=M(a,YQ,1);0<c.length&&Ku(b,1,c,ZQ);c=I(a,15);null!=c&&S(b,15,c);c=I(a,16);null!=c&&Q(b,16,c);c=I(a,17);null!=c&&Q(b,17,c);c=L(a,bP,18);null!=c&&U(b,18,c,cP)},YQ=function(a){H(this,a,0,-1,$Q)};r(YQ,G);var $Q=[8,9,10,11,12,13];YQ.prototype.s=function(){var a=new O;ZQ(this,a);return P(a)};
var ZQ=function(a,b){var c;c=I(a,1);null!=c&&T(b,2,c);c=I(a,2);null!=c&&T(b,3,c);c=I(a,3);null!=c&&T(b,4,c);c=I(a,4);null!=c&&T(b,5,c);c=I(a,5);null!=c&&T(b,6,c);c=I(a,6);null!=c&&S(b,7,c);c=I(a,7);null!=c&&S(b,8,c);c=M(a,aR,8);0<c.length&&W(b,9,c,bR);c=M(a,aR,9);0<c.length&&W(b,10,c,bR);c=M(a,aR,10);0<c.length&&W(b,11,c,bR);c=M(a,aR,11);0<c.length&&W(b,12,c,bR);c=M(a,aR,12);0<c.length&&W(b,13,c,bR);c=M(a,aR,13);0<c.length&&W(b,14,c,bR)},aR=function(a){H(this,a,0,-1,null)};r(aR,G);
aR.prototype.s=function(){var a=new O;bR(this,a);return P(a)};var bR=function(a,b){var c;c=I(a,1);null!=c&&Q(b,1,c);c=I(a,2);null!=c&&Q(b,2,c)};aR.prototype.h=function(a){K(this,1,a)};var cR=function(a){H(this,a,0,-1,null)};r(cR,G);cR.prototype.s=function(){var a=new O;dR(this,a);return P(a)};var dR=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=L(a,aQ,2);null!=c&&U(b,2,c,bQ);c=a.C();null!=c&&U(b,3,c,Y)};cR.prototype.setRequestHeader=function(a){N(this,1,a)};cR.prototype.C=function(){return L(this,X,3)};cR.prototype.D=function(a){N(this,3,a)};cR.prototype.O=function(){this.D(void 0)};var eR=function(a){H(this,a,"chpara",-1,null)};r(eR,G);eR.prototype.s=function(){var a=new O;fR(this,a);return P(a)};var fR=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=L(a,aQ,2);null!=c&&U(b,2,c,bQ);c=a.C();null!=c&&U(b,3,c,Y)};it("chpara",eR);eR.prototype.getResponseHeader=function(){return L(this,ty,1)};eR.prototype.C=function(){return L(this,X,3)};eR.prototype.D=function(a){N(this,3,a)};eR.prototype.O=function(){this.D(void 0)};var gR=function(a){H(this,a,0,-1,null)};r(gR,G);gR.prototype.s=function(){var a=new O;hR(this,a);return P(a)};var hR=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=L(a,zP,2);null!=c&&U(b,2,c,AP);c=a.C();null!=c&&U(b,3,c,Y)};gR.prototype.setRequestHeader=function(a){N(this,1,a)};gR.prototype.C=function(){return L(this,X,3)};gR.prototype.D=function(a){N(this,3,a)};gR.prototype.O=function(){this.D(void 0)};var iR=function(a){H(this,a,"chiarp",-1,null)};r(iR,G);iR.prototype.s=function(){var a=new O;jR(this,a);return P(a)};var jR=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=L(a,zP,2);null!=c&&U(b,2,c,AP);c=I(a,3);null!=c&&S(b,3,c);c=a.C();null!=c&&U(b,4,c,Y)};it("chiarp",iR);iR.prototype.getResponseHeader=function(){return L(this,ty,1)};iR.prototype.C=function(){return L(this,X,4)};iR.prototype.D=function(a){N(this,4,a)};iR.prototype.O=function(){this.D(void 0)};var lR=function(a){H(this,a,0,-1,kR)};r(lR,G);var kR=[4];lR.prototype.s=function(){var a=new O;mR(this,a);return P(a)};var mR=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,YA,4);0<c.length&&W(b,4,c,ZA)};lR.prototype.setRequestHeader=function(a){N(this,1,a)};lR.prototype.C=function(){return L(this,X,3)};lR.prototype.D=function(a){N(this,3,a)};lR.prototype.O=function(){this.D(void 0)};var oR=function(a){H(this,a,"chstarp",-1,nR)};r(oR,G);var nR=[4];oR.prototype.s=function(){var a=new O;pR(this,a);return P(a)};var pR=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,YA,4);0<c.length&&W(b,4,c,ZA)};it("chstarp",oR);oR.prototype.getResponseHeader=function(){return L(this,ty,1)};oR.prototype.C=function(){return L(this,X,3)};oR.prototype.D=function(a){N(this,3,a)};oR.prototype.O=function(){this.D(void 0)};var rR=function(a){H(this,a,0,-1,qR)};r(rR,G);var qR=[4];h=rR.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,YA,4);0<b.length&&W(a,4,b,ZA);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var tR=function(a){H(this,a,"chstmrp",-1,sR)};r(tR,G);var sR=[4];tR.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,YA,4);0<b.length&&W(a,4,b,ZA);return P(a)};it("chstmrp",tR);tR.prototype.getResponseHeader=function(){return L(this,ty,1)};tR.prototype.C=function(){return L(this,X,3)};tR.prototype.D=function(a){N(this,3,a)};tR.prototype.O=function(){this.D(void 0)};var uR=function(a){H(this,a,"chstqrp",-1,null)};r(uR,G);uR.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=this.jb();null!=b&&U(a,2,b,ZA);return P(a)};it("chstqrp",uR);uR.prototype.getResponseHeader=function(){return L(this,ty,1)};uR.prototype.jb=function(){return L(this,YA,2)};var wR=function(a){H(this,a,"chstsrp",-1,vR)};r(wR,G);var vR=[2];wR.prototype.s=function(){var a=new O;xR(this,a);return P(a)};var xR=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=M(a,YA,2);0<c.length&&W(b,2,c,ZA);c=a.C();null!=c&&U(b,3,c,Y)};it("chstsrp",wR);wR.prototype.getResponseHeader=function(){return L(this,ty,1)};wR.prototype.C=function(){return L(this,X,3)};wR.prototype.D=function(a){N(this,3,a)};wR.prototype.O=function(){this.D(void 0)};var zR=function(a){H(this,a,0,-1,yR)};r(zR,G);var yR=[11];zR.prototype.s=function(){var a=new O;AR(this,a);return P(a)};
var AR=function(a,b){var c;c=I(a,1);null!=c&&T(b,1,c);c=I(a,2);null!=c&&T(b,2,c);c=I(a,14);null!=c&&T(b,14,c);c=I(a,21);null!=c&&T(b,21,c);c=I(a,3);null!=c&&T(b,3,c);c=L(a,DO,4);null!=c&&U(b,4,c,EO);c=L(a,EM,5);null!=c&&U(b,5,c,FM);c=L(a,WQ,6);null!=c&&U(b,6,c,XQ);c=L(a,IM,7);null!=c&&U(b,7,c,JM);c=L(a,ZM,8);null!=c&&U(b,8,c,$M);c=L(a,fP,10);null!=c&&U(b,10,c,gP);c=L(a,RM,17);null!=c&&U(b,17,c,SM);c=L(a,MM,15);null!=c&&U(b,15,c,NM);c=I(a,11);0<c.length&&Ju(b,11,c);c=I(a,12);null!=c&&R(b,12,c);c=I(a,
9);null!=c&&S(b,9,c);c=I(a,13);null!=c&&T(b,13,c);c=I(a,16);null!=c&&T(b,16,c);c=I(a,18);null!=c&&R(b,18,c);c=I(a,19);null!=c&&Au(b,19,c);c=I(a,20);null!=c&&Au(b,20,c);c=I(a,22);null!=c&&T(b,22,c);c=I(a,23);null!=c&&T(b,23,c)};h=zR.prototype;h.V=function(){return I(this,2)};h.R=function(a){K(this,2,a)};h.da=function(){return I(this,21)};h.M=function(){return I(this,3)};h.na=function(a){K(this,3,a)};If("fava.debug.DebugService");var BR=function(){return new yr(YA,[YA.prototype.V,YA.prototype.jl,YA.prototype.kl],[YA.prototype.R,YA.prototype.yf,YA.prototype.oa],[YA.prototype.Qa],[YA.prototype.zf],lw,[lw.prototype.V,lw.prototype.wf,lw.prototype.xf],[lw.prototype.R,lw.prototype.hl,lw.prototype.oa],[lw.prototype.Qa],[lw.prototype.il])};var CR=function(a){B.call(this);this.a=a;this.g=J(this.a,3,0);this.f=0;this.b=!1};r(CR,B);var DR=function(a){A.call(this,"oa");this.id=a};r(DR,A);var ER="https://clients2.google.com/cr/report",FR=function(a,b,c,d){var e=new FormData;e.append("prod",pc?"Google_Talk_Plugin_Mac":qc?"Google_Talk_Plugin":"Google_Talk_Plugin_Linux");e.append("ver","10.0.0.0-calls");e.append("email",b);e.append("type","log");e.append("log",new Blob([a]),d);if(a=c)try{a=!!navigator.sendBeacon&&navigator.sendBeacon(ER,e)}catch(g){a=!1}if(a)return XK();try{var f=new HK;Qf(ER,function(a){a=a.target;We(a)?f.callback(new WK(a.xa(),Xe(a))):(a=Error(a.cf()+" "+a.xa()+" "+
Xe(a)),f.a(a))},"POST",e);return f}catch(g){return YK(g)}},WK=function(a,b){this.a=a;this.b=b};var GR=function(a){H(this,a,0,-1,null)};r(GR,G);h=GR.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=I(this,2);null!=b&&T(a,2,b);b=L(this,zR,3);null!=b&&U(a,3,b,AR);b=this.C();null!=b&&U(a,4,b,Y);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.oa=function(a){K(this,2,a)};h.C=function(){return L(this,X,4)};h.D=function(a){N(this,4,a)};h.O=function(){this.D(void 0)};var HR=function(){B.call(this);this.Ua=this.B=null};r(HR,B);var IR=function(a){return{hangoutId:a.Ua,isInProgress:"INPROGRESS"==a.getState(),remoteJid:a.B,sessionId:a.b,state:a.getState()}};h=HR.prototype;h.pc=pa;h.update=function(){return!0};h.yc=pa;h.Oh=pa;h.ug=pa;h.R=function(a){this.Ua=a};var JR=function(a,b){A.call(this,"qa");this.a=a;this.b=b};r(JR,A);var KR=function(a){A.call(this,"ra");this.a=a};r(KR,A);var LR=function(a){A.call(this,"ta");this.a=a};r(LR,A);
var MR=function(a,b){A.call(this,"sa");this.b=a;this.a=b};r(MR,A);var NR=function(a,b,c){A.call(this,"pa");this.b=a;this.label=b;this.payload=c};r(NR,A);var OR=function(a){A.call(this,"va");this.a=a};r(OR,A);var PR=function(){B.call(this)};r(PR,B);var QR=function(a){return{id:a.a,isInProgress:"INPROGRESS"==a.getState(),state:a.getState()}};PR.prototype.pause=pa;PR.prototype.resume=pa;PR.prototype.Lb=pa;var RR=function(a,b,c){A.call(this,"ya");this.b=u(a);this.a=u(b);this.removed=u(c)};r(RR,A);var SR=function(a){A.call(this,"za");this.a=u(a)};r(SR,A);var UR=function(){this.m=null;this.h=new eL;this.a={};this.f=TR();Yd(this.f,pa);this.j=hN.U();this.b=null};qa(UR);
var WR=function(a,b){a.b=b;a.a[b]=a.h;a.h=new eL;a.a[b].open(a.f,"hangouts-call-"+b+".log");var c=new Date;VR(a,b,"### Start ["+c.toString()+"] ### "+b);VR(a,b,"Current time is "+c.toUTCString());VR(a,b,"Google Talk Plugin Version: 10.0.0.0");VR(a,b,"User agent: "+ub)},VR=function(a,b,c,d){var e=Ea();null==a.m&&(a.m=e);c="["+((e-a.m)/1E3).toFixed(3)+"s]"+(null!=d?d:8)+" "+c+"\n";if(null!=b)a=a.a[b],null!=a&&a.write([c]);else{for(b in a.a)a.a[b].write([c]);null!=b||a.h.write([c])}},YR=function(a,b,
c){a.j.add(c,b);return XR(a,b,c)},XR=function(a,b,c){var d="hangouts-call-"+b+".log",e=a.a[b];if(null!=e)return PK(OK(FR(kL(e),c,!0,d),n(a.w,a,b,c)),n(a.g,a,b,c));var e=new eL,f=new HK;e.open(a.f,d,!0).then(function(){if(e.Ra())VR(this,this.b,"JS log for "+b+" has no content",9),f.callback(new WK(null,"No log content for session "+b));else{var a=PK(OK(FR(kL(e),c,!1),n(this.w,this,b,c)),n(this.g,this,b,c));NK(a,f.callback,f.a,f)}},function(a){this.g(b,0,a);f.a(a)},a);return f},TR=function(){var a=
na.requestFileSystem||na.webkitRequestFileSystem;if(!a)return Od("Filesystem API not accessible");var b=Qa();a(window.TEMPORARY,0,function(a){a.root.getDirectory("log_v2",{create:!0},n(b.resolve,b),n(b.b,b))},n(b.b,b));return b.a};UR.prototype.w=function(a,b,c){200==c.a?(VR(this,this.b,"JS log upload for "+a+" successful: "+c.b),this.j.remove(b,a)):VR(this,this.b,"JS log upload for "+a+" failure "+c.a+": "+c.b,10)};
UR.prototype.g=function(a,b,c){VR(this,this.b,"JS log upload for "+a+" failed: "+c,10)};var $R=function(a){H(this,a,0,-1,ZR)};r($R,G);var ZR=[4];$R.prototype.s=function(){var a=new O;aS(this,a);return P(a)};var aS=function(a,b){var c;c=L(a,ry,1);null!=c&&U(b,1,c,sy);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,bC,4);0<c.length&&W(b,4,c,cC)};$R.prototype.setRequestHeader=function(a){N(this,1,a)};$R.prototype.C=function(){return L(this,X,3)};$R.prototype.D=function(a){N(this,3,a)};$R.prototype.O=function(){this.D(void 0)};var cS=function(a){H(this,a,"chsearp",-1,bS)};r(cS,G);var bS=[4];cS.prototype.s=function(){var a=new O;dS(this,a);return P(a)};var dS=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=a.C();null!=c&&U(b,3,c,Y);c=M(a,bC,4);0<c.length&&W(b,4,c,cC)};it("chsearp",cS);cS.prototype.getResponseHeader=function(){return L(this,ty,1)};cS.prototype.C=function(){return L(this,X,3)};cS.prototype.D=function(a){N(this,3,a)};cS.prototype.O=function(){this.D(void 0)};var fS=function(a){H(this,a,0,-1,eS)};r(fS,G);var eS=[4];h=fS.prototype;h.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,bC,4);0<b.length&&W(a,4,b,cC);return P(a)};h.setRequestHeader=function(a){N(this,1,a)};h.C=function(){return L(this,X,3)};h.D=function(a){N(this,3,a)};h.O=function(){this.D(void 0)};var hS=function(a){H(this,a,"chsemrp",-1,gS)};r(hS,G);var gS=[4];hS.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=this.C();null!=b&&U(a,3,b,Y);b=M(this,bC,4);0<b.length&&W(a,4,b,cC);return P(a)};it("chsemrp",hS);hS.prototype.getResponseHeader=function(){return L(this,ty,1)};hS.prototype.C=function(){return L(this,X,3)};hS.prototype.D=function(a){N(this,3,a)};hS.prototype.O=function(){this.D(void 0)};var iS=function(a){H(this,a,"chseqrp",-1,null)};r(iS,G);iS.prototype.s=function(){var a=new O;jS(this,a);return P(a)};var jS=function(a,b){var c;c=a.getResponseHeader();null!=c&&U(b,1,c,uy);c=L(a,bC,2);null!=c&&U(b,2,c,cC);c=a.C();null!=c&&U(b,3,c,Y)};it("chseqrp",iS);iS.prototype.getResponseHeader=function(){return L(this,ty,1)};iS.prototype.C=function(){return L(this,X,3)};iS.prototype.D=function(a){N(this,3,a)};iS.prototype.O=function(){this.D(void 0)};var kS=function(){this.l=If("realtime.media.apiary.Parser")};kS.prototype.g=function(a){var b=new Yy;K(b,1,a.a);K(b,2,a.b);b.j(a.width);b.g(a.height);return b};kS.prototype.w=function(a){var b=+I(a,1),c=+I(a,2),d=+I(a,3);a=+I(a,4);return null!=b&&null!=c&&null!=d&&null!=a?new xK(b,c,d,a):null};
var nS=function(a,b,c,d,e){var f=new bC;null!=b.m&&f.oa(b.m);K(f,7,e?2:1);e=[];null!=c&&(eC(f,[c]),null!=d&&(e=d));e=e.concat(u(b.b.g));c=b.a;null!=c&&(e=e.concat(u(c.g)));c=[];d=lS([b.b,b.a,b.f]);a=mS(a,d,e,b.h,u(b.j));a.Ma(4);c.push(a);dC(f,c);b=Db(b.g.P(),function(a){var b=new rw,c=a.getChannelId();K(b,1,c);K(b,2,a.h);c=a.Vb();K(b,4,c);switch(c){case "collections":K(b,5,1);break;case "msodc":K(b,5,2)}a=a.a;null!=a&&K(b,3,a);return b});Ys(f,5,b);return f},sS=function(a,b,c){var d=null,e=null,f=
null,g=null,m=[],q=k(c)?c:!0;c=b.h();var y=M(b,OB,4);if(0<y.length){var f=oS(a,y[0]),d=pS(f,"a"),e=pS(f,"v"),f=pS(f,"d"),D=L(y[0],az,2);D&&(g=qS(a,D,q));(q=M(y[0],Zv,4))&&(m=rS(a,q,a.zl,a)||[])}a=Db(M(b,rw,5),function(a){return new JH(a.getChannelId(),I(a,2),I(a,3),a.Vb())},a);return new gK(d,e,f,null==c?void 0:c,a,g,m)},pS=function(a,b){var c=Cb(hJ(a),function(a){return a.W()==b}),d="d"==b?a.b:null;if(0==c.length&&null==d)return null;var e=Cb(u(a.f),function(a){return a.W()==b});a=Cb(u(a.g),function(a){return a.W()==
b});return lJ(pJ(new fJ(b,c,e),a),d)},mS=function(a,b,c,d,e){var f=new OB;f.Ma(tS(a,b.h)||void 0);var g=Db(hJ(b),a.Uj,a);Ys(f,3,g);e=Db(e,a.Dg,a);Ys(f,4,e);e=Db(u(b.f),a.Vj,a);Ys(f,5,e);if(null!=d){e=new az;a:{g=d.ub();switch(g){case "GICE":g=1;break a;case "ICE":g=2;break a}E(a.l,"Unknown ICE version: "+g);g=void 0}K(e,1,g);K(e,4,d.f);K(e,5,d.b);g=Db(u(d.h),a.a,a);Ys(e,6,g);if(g=d.a)d=new cz,g=g.split(" "),K(d,1,g[0]),K(d,2,g[1]),N(e,2,d);N(f,2,e)}b.b&&(d=b.b.getName(),K(f,8,d));b.a&&(b=b.a,d=new Qv,
-1!=b.b&&K(d,1,b.b),-1!=b.a&&K(d,2,b.a),-1!=b.f&&K(d,3,b.f),N(f,7,d));a=Db(c,a.f,a);Ys(f,6,a);return f};kS.prototype.f=function(a){var b=new fz;K(b,2,a.b);var c=new xw;c.g(ZH(a));c.j(YH(a));K(c,3,a.a);N(b,3,c);c=new TA;N(c,2,b);c.Ma(tS(this,a.W())||void 0);return c};
var lS=function(a){for(var b=[],c=[],d=[],e=null,f=null,g=0;g<a.length;g++)null!=a[g]&&(b=b.concat(hJ(a[g])),c=c.concat(u(a[g].f)),d=d.concat(u(a[g].g)),!e&&a[g].b&&(e=a[g].b),!f&&a[g].a&&(f=a[g].a));return lJ(sJ(pJ(mJ(kJ(a[0],b),c),d),f),e)},oS=function(a,b){var c=uS(a,b.W());if(null==c)return null;var d=rS(a,M(b,Tv,3),a.yl,a)||[],e=rS(a,M(b,fw,5),n(function(a){var b;var d=c||void 0,e=I(a,2)||"";b=a.getId();d=uS(this,a.W(),d);null!=e&&null!=b?(a=sI(e),a.ya=b,d&&(a.a=d),b=new qI(a)):(E(this.l,"Missing RTP header extension id or uri: "+
a),b=null);return b},a))||[],f=[];t(M(b,TA,6),function(a){var b=uS(this,a.W());null!=b&&(a=vS(L(a,fz,2),b,"",""),f.push(a))},a);a=null;(b=I(b,8))&&(a=new tI(yI(wI(xI(new vI,b),5E3),256)));return lJ(pJ(new fJ(c,d,e),f),a)},tS=function(a,b){switch(b){case "a":return 1;case "v":return 2;case "d":return 3}E(a.l,"Unknown media type: "+b)},uS=function(a,b,c){switch(b){case 1:return"a";case 2:return"v";case 3:return"d";case 4:return"a"}if(k(c))return c;E(a.l,"Unknown media type: "+b);return null};h=kS.prototype;
h.Uj=function(a){var b=new Tv;b.Ma(tS(this,a.W()));K(b,1,a.a);Xv(b,a.getName());Yv(b,Db(u(a.h),function(a){var b=new Vv;K(b,1,a.a);K(b,2,a.b);return b},this));K(b,5,a.g);K(b,6,a.f);K(b,7,a.b);return b};
h.yl=function(a){var b=uS(this,a.W()),c=I(a,1),d=a.getName();if(null==b||null==c||null==d)return E(this.l,"Bad codec: "+a),null;var e=VI(UI(TI(new SI,b),c),d),b=I(a,5);null!=b&&(e.b=b);b=I(a,6);null!=b&&WI(e,b);b=I(a,7);null!=b&&XI(e,b);t(M(a,Vv,8),function(a){var b=I(a,1)||"";a=I(a,2)||"";YI(e,b,a)},this);return new PI(e)};
h.Dg=function(a){var b;a:{b=a.a;switch(b){case "AES_CM_128_HMAC_SHA1_32":b=2;break a;case "AES_CM_128_HMAC_SHA1_80":b=1;break a}E(this.l,"Unknown crypto suite: "+b);b=null}if(null==b)return E(this.l,"Unknown crypto suite: "+a.a),null;var c=new Zv;K(c,1,b);K(c,2,a.f);K(c,3,a.h||void 0);K(c,4,a.b);return c};
h.zl=function(a){var b;a:{b=I(a,1);switch(b){case 2:b="AES_CM_128_HMAC_SHA1_32";break a;case 1:b="AES_CM_128_HMAC_SHA1_80";break a}E(this.l,"Unknown crypto suite: "+b);b=null}if(null==b)return E(this.l,"Unknown crypto suite: "+I(a,1)),null;var c=I(a,2),d=I(a,3);if(null==c)return E(this.l,"Bad crypto: "+a),null;a=new pI;a.f=b;a.a=c;a.h=1;d&&(a.b=d);return new oI(a)};h.Vj=function(a){var b=new fw;K(b,2,a.a);var c=a.getId();K(b,1,c);a=a.W();b.Ma(a?tS(this,a):void 0);return b};
var qS=function(a,b,c){var d;a:{d=I(b,1);switch(d){case 1:d="GICE";break a;case 2:d="ICE";break a}E(a.l,"Unknown ICE version: "+d);d=null}if(null==d)return null;c=c&&"ICE"===d?"lite":"full";var e=I(b,4)||"",f=I(b,5)||"";a=wS(a,M(b,aw,6));b=L(b,cz,2);var g;b&&(g=I(b,1)+" "+I(b,2));return new cJ(d,e,f,g,a,c)},wS=function(a,b){return rS(a,b,n(function(a){var b;b:{b=I(a,1);switch(b){case 1:b=1;break b;case 2:b=2;break b}E(this.l,"Unknown ICE component: "+b);b=null}var c=I(a,6);null!=c||(c=0);var f=xS(this,
I(a,5)),g=yS(this,I(a,2)),m=I(a,3),q=a.ua();if(b&&f&&g&&m&&q){var y=c.toString(),D=I(a,7)||"";a=I(a,8)||0;a=new UH(b,c,f,g,m,q,y,a,D)}else E(this.l,"Missing or unknown candidate parmeters: "+a),a=null;return a},a))||[]};
kS.prototype.a=function(a){var b=new aw,c;a:{c=a.bc;switch(c){case 1:c=1;break a;case 2:c=2;break a}E(this.l,"Unknown ICE component: "+c);c=void 0}K(b,1,c);a:{c=a.lc;switch(c){case "UDP":c=1;break a;case "TCP":c=2;break a;case "SSLTCP":c=3;break a}E(this.l,"Unknown candidate protocol: "+c);c=void 0}K(b,2,c);K(b,3,a.Jc);c=a.ua();K(b,4,c);c=zS(this,a.nc);K(b,5,c);K(b,6,a.Sc);K(b,7,a.xd);K(b,8,a.Cc);return b};
var yS=function(a,b){switch(b){case 1:return"UDP";case 2:return"TCP";case 3:return"SSLTCP"}E(a.l,"Unknown candidate protocol: "+b);return null},zS=function(a,b){switch(b){case "LOCAL":return 1;case "PEER_REFLEX":return 2;case "STUN":return 3;case "RELAY":return 4}E(a.l,"Unknown candidate type: "+b)},xS=function(a,b){switch(b){case 1:return"LOCAL";case 2:return"PEER_REFLEX";case 3:return"STUN";case 4:return"RELAY"}E(a.l,"Unknown ICE type: "+b);return null},AS=function(a,b,c,d){var e=new YA;e.yf(2);
null!=b&&e.oa(b);e.R(c);e.na(d.M());e.Ma(tS(a,d.W()));b=d.ga();K(e,7,b);e.zf(d.Qa());"v"==d.W()&&K(e,11,d.fe());b=new bB;c=d.fc();K(b,1,c);e.Gd(b);b=new $A;c=d.tb();K(b,1,c||[]);c=u(d.a);K(b,3,c||[]);a=Db(u(d.f),a.h,a);Ys(b,2,a);N(e,8,b);return e},BS=function(a,b){return rS(a,b,a.j,a)||[]};
kS.prototype.j=function(a){var b=uS(this,a.W());if(null==b)return E(this.l,"Unknown stream media type: "+a),null;var c=a.M(),d=a.ga(),e=a.Qa();if(null==c||null==d||null==e)return E(this.l,"Missing stream parmeters: "+a),null;var f=L(a,bB,10),g=f&&f.fc()||!1,m=null!=I(a,11)?I(a,11):!0,q=[],y=[],f=[];a=L(a,$A,8);null!=a&&(q=rS(this,I(a,1),this.b,this)||[],y=rS(this,M(a,eB,2),this.v,this)||[],f=I(a,3));b=NJ(MJ(JJ(IJ(HJ(GJ(FJ(EJ(new CJ,b),c),d),e),g),m||!1),q),y);b.b=u(f);return DJ(KJ(b,e))};
kS.prototype.b=function(a){return a>>>0};kS.prototype.h=function(a){var b=new eB;K(b,1,a.a);a=a.tb();K(b,2,a||[]);return b};kS.prototype.v=function(a){var b=rS(this,I(a,2),this.b)||[],c=I(a,1);return null==c?(E(this.l,"Unknown ssrc group semantics: "+a),null):new ZI(bJ(aJ(new $I,c),b))};var CS=function(a,b){return rS(a,b,a.m,a)||[]};
kS.prototype.m=function(a){var b=uS(this,a.W());if(null==b)return E(this.l,"Unknown stream request media type: "+a),null;var c=a.M(),d=a.ga();if(null==c||null==d)return E(this.l,"Missing stream request parmeters: "+a),null;a=L(a,fz,9);return vS(a,b,c,d)};
var vS=function(a,b,c,d){var e=!1,f=void 0,g=void 0;if(null!=a&&I(a,2)&&(e=I(a,2),null==e&&(e=void 0),null!=L(a,xw,3))){var m=I(L(a,xw,3),2),q=I(L(a,xw,3),1),g=I(L(a,xw,3),3);null==g&&(g=void 0);null!=m&&null!=q&&(f=new iq(m,q))}return new VH(c,d,b,f,g,e)},rS=function(a,b,c,d){null!=d&&(c=n(c,d));if(null==b||!ta(b))return null;d=[];for(var e=0;e<b.length;e++){var f=b[e];if(null==f)return E(a.l,"Failed to parse: "+b),null;var g=c(f);if(null==g)return E(a.l,"Failed to parse: "+f),null;d.push(g)}return d};var DS=function(a,b,c,d){if(null==a)return d=If("realtime.media.apiary.RpcEventDispatcher"),Kf(d,"Failed to report impression on RPC request because thenable is null for rpc "+b+"with sessionId "+c),Od();b=a.then();d.dispatchEvent(new oL(0,"Ta",c));var e=ze(b.cancel,9E4,b),f=!1;Yd(b,function(a){f=!0;return a}).then(function(a){Ae(e);var b="Ua";a instanceof Id?b="Wa":f&&(b="Va");db(mb(c))&&(1>a.length||!(a[0]instanceof bC)?c=null:(a=a[0],c=null!=a?a.h():null));this.dispatchEvent(new oL(0,b,c))},null,
d);return b};var ES=function(){B.call(this);this.Pa="INITIAL";this.vc=void 0};r(ES,B);ES.prototype.Va=function(){return{state:this.getState(),endCause:this.vc,id:this.b.a,isInProgress:"INPROGRESS"==this.getState(),localId:this.da(),localDescription:jK(this.a.a.b),localSession:IR(this.a),options:AI(this.g),remoteAudioCodecs:Db(u(this.Xa),function(a){return a.toString()}),remoteSession:QR(this.b),useEarlyMedia:null!=this.g.b&&0<this.g.g.length}};ES.prototype.getState=function(){return this.Pa};ES.prototype.Ph=pa;
var FS=function(){A.call(this,"Ga")};r(FS,A);var GS=function(a){A.call(this,"Ia");this.sessionId=a};r(GS,A);var HS=function(a){A.call(this,"Ba");this.id=a};r(HS,A);var IS=function(a){A.call(this,"Ca");this.sessionDescription=a};r(IS,A);var JS=function(a,b,c){A.call(this,"La");this.vg=a;this.Vh=b;this.sessionId=c||null};r(JS,A);var KS=function(){A.call(this,"Ja")};r(KS,A);var LS=function(a,b){A.call(this,"Fa");this.a=a;this.sessionId=b};r(LS,A);var MS=function(a){A.call(this,"Ea");this.message=a};
r(MS,A);var NS=function(){var a=lt(),b=null,c=a;try{do{try{c.location.origin==a.location.origin&&(b=c.chrome&&c.chrome.runtime||b)}catch(d){}if(c==c.parent)break;c=c.parent}while(null!=c)}catch(d){}return b},OS=function(){return"https:"==lt().location.protocol?"nkeimhogjdpnpccoofpliimaahmaaome":"hoblmflfjcnhdllclikeemgdcbbflkhi"},QK=function(a){VR(UR.U(),null,"talk.media.webrtc.Extension: Sending message "+df(a));var b=new HK,c=NS(),d=a.method;if(c&&null!=c.sendMessage){var d=PS(b,d),e=lt().location;a.origin=
e.origin+"/";var f=Tc(e.href,"tabId");f&&(a.tabId=f);(e=Tc(e.href,"winUrl"))&&(a.winUrl=e);c.sendMessage(OS(),a,d)}else VR(UR.U(),null,"talk.media.webrtc.Extension: Cannot find appropriate chrome.runtime when sending "+d,10),b.a("Cannot find appropriate chrome.runtime");return b},QS=function(){var a=NS();if(a&&null!=a.connect){VR(UR.U(),null,"talk.media.webrtc.Extension: Opening port named processCpu");var a=a.connect(OS(),{name:"processCpu"}),b=n(a.disconnect,a);je(lt(),"unload",b);a.onDisconnect.addListener(function(){se(window,
"unload",b)});return a}return null},PS=function(a,b){return function(c){var d="No response from extension";if(null!=c)if(d=c.error,null!=d)d="Extension reported "+d.name+": "+d.message;else{VR(UR.U(),null,"talk.media.webrtc.Extension: Received response to "+b+": "+df(c.value));a.callback(c.value);return}(c=NS())&&null!=c.lastError&&(d=d+" Chrome reported: "+c.lastError.message);VR(UR.U(),null,"talk.media.webrtc.Extension: Received error to "+b+": "+d,10);a.a(d)}};var RS=function(a,b){this.b=a;this.f=b||null;this.l=If(a);this.a=UR.U()},SS=function(a,b){E(a.l,b);VR(a.a,a.f,"Warning("+a.b+"): "+b,9)},TS=function(a,b){F(a.l,b);VR(a.a,a.f,a.b+": "+b,8)};RS.prototype.config=function(a){Jf(this.l,zf,a);VR(this.a,this.f,this.b+": "+a,7)};var US=function(a,b){Lf(a.l,b);VR(a.a,a.f,a.b+": "+b,8)};var VS=function(a){H(this,a,0,-1,null)};r(VS,G);VS.prototype.s=function(){var a=new O;WS(this,a);return P(a)};
var WS=function(a,b){var c;c=L(a,GP,1);null!=c&&U(b,1,c,HP);c=L(a,$R,2);null!=c&&U(b,2,c,aS);c=L(a,lR,3);null!=c&&U(b,3,c,mR);c=L(a,IQ,4);null!=c&&U(b,4,c,JQ);c=L(a,rQ,5);null!=c&&U(b,5,c,sQ);c=L(a,CQ,6);null!=c&&U(b,6,c,DQ);c=L(a,WP,7);null!=c&&U(b,7,c,XP);c=L(a,cQ,8);null!=c&&U(b,8,c,dQ);c=L(a,tP,9);null!=c&&U(b,9,c,uP);c=L(a,hQ,10);null!=c&&U(b,10,c,iQ);c=L(a,gR,11);null!=c&&U(b,11,c,hR);c=L(a,cR,12);null!=c&&U(b,12,c,dR);c=L(a,oQ,13);null!=c&&U(b,13,c,pQ)};
VS.prototype.v=function(a){N(this,4,a)};VS.prototype.j=function(a){N(this,6,a)};VS.prototype.h=function(a){N(this,7,a)};VS.prototype.g=function(a){N(this,8,a)};var XS=function(a){H(this,a,0,-1,null)};r(XS,G);XS.prototype.s=function(){var a=new O;YS(this,a);return P(a)};
var YS=function(a,b){var c;c=L(a,JP,1);null!=c&&U(b,1,c,KP);c=L(a,cS,2);null!=c&&U(b,2,c,dS);c=L(a,oR,3);null!=c&&U(b,3,c,pR);c=a.v();null!=c&&U(b,4,c,xR);c=L(a,uQ,5);null!=c&&U(b,5,c,vQ);c=a.j();null!=c&&U(b,6,c,GQ);c=a.h();null!=c&&U(b,7,c,$P);c=a.g();null!=c&&U(b,8,c,fQ);c=L(a,wP,9);null!=c&&U(b,9,c,xP);c=L(a,jQ,10);null!=c&&U(b,10,c,kQ);c=L(a,iR,11);null!=c&&U(b,11,c,jR);c=L(a,eR,12);null!=c&&U(b,12,c,fR);c=L(a,iS,13);null!=c&&U(b,13,c,jS)};XS.prototype.v=function(){return L(this,wR,4)};
XS.prototype.j=function(){return L(this,FQ,6)};XS.prototype.h=function(){return L(this,ZP,7)};XS.prototype.g=function(){return L(this,eQ,8)};var ZS=function(a,b,c,d,e,f){B.call(this);this.l=If("realtime.media.apiary.Client");this.a=a;this.F=b;this.j=c;this.m=k(f)?f:8;this.u=e||ob();this.A=Rz(d);this.b=37;"hangout_lite"==c&&(this.b=55)};r(ZS,B);ZS.prototype.f=function(a){return null!=a?L(a,bC,2):null};
var bT=function(a,b,c){b=$S(a,b,c);return Yd(aT(a,"media_sessions/log",b),function(a){E(this.l,"Failed to upload log data: "+a);throw a;},a)},$S=function(a,b,c){b=gt(b);K(b,9,a.b);K(b,13,a.j);var d=new GR;d.setRequestHeader(cT(a));d.oa(c);N(d,3,b);return d},cT=function(a){var b=new ry,c=new pv;N(b,1,c);c=L(b,pv,1);K(c,1,a.m);c=new lv;K(c,1,a.F);K(c,4,a.u);N(b,2,c);b.Wc("en");N(b,7,a.A);return b};
ZS.prototype.g=function(a){if(null==a)throw new dT("Got empty response.");if(k(a.getResponseHeader)){var b=a.getResponseHeader();if(null!=b){if(b=b.xa(),1!=b)throw new dT("Got bad status in response header.",b);}else throw new dT("Missing response header.");}return a};
var aT=function(a,b,c){if(null==a.a){var d="Failed to "+b+" "+c+": no service";E(a.l,d);return Od(d)}return a.a.b(b,c,a.B,a.o).then(a.g,function(a){E(this.l,"Failed to "+b+" "+c+": "+a);throw a;},a)},dT=function(a,b){Fa.call(this);this.desc=a;this.status=b||0};r(dT,Fa);var eT=function(){Xt.call(this);this.g=new C;this.b=new C;this.a=new C;Zt(this,document,"visibilitychange",this.o,!1,this);this.j=new RS("talk.media.webrtc.OutputTracker")};r(eT,Xt);var fT=new Nq("Y2E25b"),gT=function(a,b){var c=b.b-a.b;0==c&&(c=I(b,29)-I(a,29));return c},hT=function(a){this.Ch=a};hT.prototype.nd=function(){return this.Ch.nd()};
var iT=function(a,b,c){a.a.Oa(b)||a.a.set(b,[]);a.a.get(b).push(new hT(c))},jT=function(a,b,c){var d=a.a.get(b);null!=d?Sb(d,function(a){return a.Ch==c},a)?Lb(d)&&a.a.remove(b):SS(a.j,"recordBeforeAudioStop: No matching element found for ssrc "+b):SS(a.j,"recordBeforeAudioStop: No info found for ssrc "+b)},nT=function(a,b){var c=a.g.get(b);null!=c&&t(c,function(a){kT(this,b,a)},a);c=a.b.get(b);if(null==c)return null;a.b.remove(b);a=lT(c);c=mT(c);return null!=a||null!=c?{eh:a,fh:c}:null},kT=function(a,
b,c){c=c.a();c.a.a<c.start.a?SS(a.j,"Non-monotonic frame count: "+c.a.a):(a.b.Oa(b)||a.b.set(b,[]),-1>c.f()&&SS(a.j,"Negative fps! s:{"+c.start.toString()+"} e:{"+c.a.toString()+"}"),a.b.get(b).push(c))};eT.prototype.o=function(){this.g.forEach(function(a,b){t(a,function(a){kT(this,b,a)},this)},this)};
var lT=function(a){var b=0,c=0;t(a,function(a){b+=a.a.a-a.start.a;c+=a.a.timestamp-a.start.timestamp});return 0==c?null:b/c},mT=function(a){var b=[];t(a,function(a){a.h||(b.push({t:a.start.timestamp,c:1,i:a}),b.push({t:a.a.timestamp,c:-1,i:a}))});bc(b);var c=0,d=0,e=-Infinity,f=[];t(b,function(a){var b=a.t,g=b-e;0<f.length&&(c+=b-e,d+=I(f[0],29)*g);1==a.c?(Nb(f,a.i),$b(f,gT)):Rb(f,a.i);e=b});return 0==c?null:d/c};
eT.prototype.nd=function(a){a=this.g.get(a)||this.a.get(a);if(null==a)return null;var b=0,c=!1;t(a,function(a){a=a.nd();null!=a&&(b=Math.max(a,b),c=!0)});return c?b:null};eT.prototype.T=function(){this.g.clear();this.a.clear();this.b.clear();eT.S.T.call(this)};var pT=function(a){H(this,a,0,-1,oT)};r(pT,G);var oT=[2];pT.prototype.s=function(){var a=new O,b;b=L(this,ry,1);null!=b&&U(a,1,b,sy);b=M(this,VS,2);0<b.length&&W(a,2,b,WS);b=this.C();null!=b&&U(a,3,b,Y);return P(a)};pT.prototype.setRequestHeader=function(a){N(this,1,a)};var qT=function(a,b){Ys(a,2,b)};pT.prototype.C=function(){return L(this,X,3)};pT.prototype.D=function(a){N(this,3,a)};pT.prototype.O=function(){this.D(void 0)};var sT=function(a){H(this,a,"chbrp",-1,rT)};r(sT,G);var rT=[2];sT.prototype.s=function(){var a=new O,b;b=this.getResponseHeader();null!=b&&U(a,1,b,uy);b=M(this,XS,2);0<b.length&&W(a,2,b,YS);b=this.C();null!=b&&U(a,3,b,Y);return P(a)};it("chbrp",sT);sT.prototype.getResponseHeader=function(){return L(this,ty,1)};sT.prototype.C=function(){return L(this,X,3)};sT.prototype.D=function(a){N(this,3,a)};sT.prototype.O=function(){this.D(void 0)};var uT=function(a,b,c,d,e){dd.call(this);this.g=a;this.A=b;this.J=c||this.F;this.u=d||null;this.B=e||null;this.b=-1;this.o=Qa();this.a=null;this.f=!1;this.m=0;this.v=this.j=void 0;this.ya=++tT};r(uT,dd);var tT=0;uT.prototype.Of=function(a){this.b=a;vT(this)};uT.prototype.Gc=function(){return this.o};uT.prototype.ue=function(){return this.o.a};uT.prototype.le=function(){return this.f};var wT=function(a){null==a.a&&(a.a=a.A(),vT(a));return a.a};h=uT.prototype;h.ve=function(a){this.m=a};h.zd=function(){return this.m};
h.we=function(a,b){k(b)&&(b=Math.max(a,b));this.j=a;this.v=b};h.Dc=function(){return this.j};h.he=function(){return this.v};var vT=function(a){if(null!=a.a&&-1!=a.b){var b=a.a;if(wa(b.D)){var c=new X;K(c,1,a.b);b.D(c)}else wa(b.O)&&b.O()}};uT.prototype.bf=function(){return wT(this).toString()};uT.prototype.toString=function(){return"[Operation id: "+this.ya+": "+this.g+", version: "+this.b+"]"};uT.prototype.F=function(){return[]};var xT=function(){Fa.call(this)};r(xT,Fa);xT.prototype.message="Operation has already been executed.";
xT.prototype.name="AlreadyExecutedError";var yT=function(a){this.a=new RS(a)};yT.prototype.error=function(a){var b=this.a;Kf(b.l,a);VR(b.a,b.f,"Error("+b.b+"): "+a,10)};var zT=function(a,b){SS(a.a,b)},Z=function(a,b){TS(a.a,b)};var AT=function(a,b,c){B.call(this);this.o=new RS("talk.media.webrtc.AudioOutput");this.f=a;this.g=window.URL.createObjectURL(b);this.j=new Xt(this);this.h(this.j);this.a=[];this.m=0;this.b=null;c&&(a=HH().createAnalyser(),a.fftSize=2048,HH().createMediaStreamSource(b).connect(a),this.b=a);this.Xc(1)};r(AT,B);AT.prototype.toString=function(){return"AudioOutput(url="+this.g+", volume="+this.m+", elements.length="+this.a.length+")"};var BT=function(a,b){TS(a.o,"["+a+"] "+b)};
AT.prototype.Xc=function(a){if(this.f){BT(this,"Setting volume to "+a+".");var b=Math.ceil(a)-this.a.length;if(0<b)CT(this,b);else if(0>b){b=-b;BT(this,"Removing "+b+" elements.");for(var c=0;c<b;++c){var d=this.a.pop();d.src="";d&&d.parentNode&&d.parentNode.removeChild(d)}}0<a&&(this.a[0].volume=a-(this.a.length-1));this.m=a}};
var CT=function(a,b){BT(a,"Adding "+b+" elements.");for(var c=[],d={},e=0;e<b;d={se:d.se},++e){var f=a.f.a.createElement("AUDIO");d.se=Qa();c.push(d.se.a);f.autoplay=!0;f.src=a.g;au(a.j,f,function(a){return function(){return a.se.resolve()}}(d));a.a.push(f);a.f.a.body.appendChild(f)}Sd(c).then(function(){return a.dispatchEvent("playing")})};AT.prototype.T=function(){this.Xc(0);window.URL.revokeObjectURL(this.g);AT.S.T.call(this)};AT.prototype.nd=function(){return 0==this.a.length?null:this.a[0].currentTime};
var DT=function(a){if(!a.b)return null;var b=new Uint8Array(a.b.fftSize);a.b.getByteTimeDomainData(b);a=Eb(b,function(a,b){return Math.max(a,Math.abs(b-128))},0);return Math.floor(6*a/129)};var ET=function(a,b,c,d,e){B.call(this);this.l=If("realtime.collections.apiary.OperationExecutor");this.a=[];this.f=b;this.j=b instanceof KB?b:null;this.g=a;this.o=c||null;this.H=k(d)?d:8;this.K=Rz(e||0)};r(ET,Mu);var FT=function(a){var b=new ry,c=new pv;N(b,1,c);c=L(b,pv,1);K(c,1,a.H);c=new lv;null!=a.o&&K(c,4,a.o);N(b,2,c);c=L(b,lv,2);K(c,1,a.g);b.Wc("en");N(b,7,a.K);return b};
ET.prototype.execute=function(a,b){if(a.le())throw new xT;this.j&&!k(b)&&a.u?(this.a.push(a),1==this.a.length&&Cd(this.F,this)):GT(this,a,b)};ET.prototype.F=function(){for(var a=0;a+5<this.a.length;)HT(this,Xb(this.a,a,a+5)),a+=5;1==this.a.length-a?GT(this,this.a[a]):HT(this,Xb(this.a,a));this.a.length=0};
var GT=function(a,b,c){var d=b.g,e=wT(b);e.setRequestHeader(FT(a));F(a.l,"Making request for operation: "+b+", jid: "+a.g);var f=b.zd();c=k(c)?c:b.Dc();var g=Math.max(c,b.he()||0);Yd(a.f.b(d,e,c,f,g).then(n(a.u,a,b)),n(a.b,a,b))};
ET.prototype.u=function(a,b){var c=b.getResponseHeader();if(1==c.xa())c=a.J(b),b=wa(b.C)&&null!=b.C()?b.C().ub():-1,b=new Xp(c,b),F(this.l,"Apiary operation succeeded for "+a+", result: "+b),a.f=!0,a.Gc().resolve(b);else{var d=Error(I(c,8));d.stack=I(c,2);Kf(this.l,"Apiary operation "+a+" failed with status "+c.xa(),d);this.b(a,new Nr("fatal","backend",null,b))}};ET.prototype.b=function(a,b){a.f=!0;Kf(this.l,"Apiary operation failed for "+a+": "+b);a.Gc().b(b)};
var HT=function(a,b){var c=new pT;c.setRequestHeader(FT(a));qT(c,Db(b,function(a){var b=wT(a),c=new VS;a.u.call(c,b);return c},a));F(a.l,"Making bulk request for "+b.length+"operations , jid: "+a.g);var d=Math.max.apply(null,Db(b,function(a){return a.zd()})),e=Db(b,function(a){return a.Dc()}),e=Cb(e,k),e=e.length?Math.min.apply(null,e):void 0;Yd(a.f.b("hangouts/bulk",c,e,d).then(n(a.B,a,b)),n(a.A,a,b))};
ET.prototype.B=function(a,b){MB(this.j,b);var c=M(b,XS,2);t(a,function(a,e){(e=a.B.call(c[e]))?(MB(this.j,e),this.u(a,e)):this.b(a,new Nr("fatal","backend",null,b))},this)};ET.prototype.A=function(a,b){t(a,function(a){this.b(a,b)},this)};var IT=function(a,b){pO.call(this,a);this.a=new yT("realtime.media.api.webrtc.Capture");this.settings=b;this.o=this.b=null;this.A=new mf;this.m=new C;this.j=!1;this.aa="";this.g=!1;this.K=null};r(IT,pO);IT.prototype.T=function(){JT(this);this.A.clear();this.K=null;IT.S.T.call(this)};IT.prototype.toString=function(){return"Capture(source="+this.Z()+" muted="+this.j+" paused="+this.g+" stream="+(this.b?this.b.id:null)+" streamUrl="+this.o+")"};
IT.prototype.B=function(a){a&&t(Ub(a.getAudioTracks(),a.getVideoTracks()),function(a){if(a)if(id(a))a.sb&&a.sb.removeAll(void 0);else{var b=me(a);if(b){var d=0,e;for(e in b.a)for(var f=b.a[e].concat(),g=0;g<f.length;++g)te(f[g])&&++d}}a.stop()})};var JT=function(a){a.m.forEach(a.B,a);a.m.clear();a.B(a.b);a.b=null;a.o&&(window.URL.revokeObjectURL(a.o),a.o=null)},KT=function(a){Z(a.a,"Starting media for "+a);a.f="cb";a.dispatchEvent("ja");a.u().then(Xc(a))};
IT.prototype.X=function(a){this.aa=a;if(this.b){var b=Ub([this.b],this.m.P());t(b,function(b){t(b.getVideoTracks(),function(b){"contentHint"in b&&(b.contentHint=a)})})}};IT.prototype.getDeviceId=function(){return this.settings.deviceId};IT.prototype.N=function(){return this.K};IT.prototype.jb=function(a){return this.b?this.m.get(a,null):null};var LT=function(a,b,c){return new LQ(a,b,c)};h=IT.prototype;
h.Th=function(a){Z(this.a,"Registering sessionId="+a+" with "+this);this.A.add(a);this.b&&this.m.set(a,this.b.clone())};h.Rf=function(a){Z(this.a,"Unregistering sessionId="+a+" with "+this);this.A.remove(a);this.B(this.jb(a));this.m.remove(a)};h.Zl=pa;h.stop=function(){Z(this.a,"Stopping "+this);JT(this);this.A.clear();this.dispatchEvent(new MT(this.o));this.f="hb";this.dispatchEvent("ja");return!0};h.jc=function(){if("hb"==this.f)return!1;NT(this,!0);return!0};
h.ud=function(){switch(this.f){case "eb":case "fb":case "gb":return!0;default:return this.j}};var NT=function(a,b){Z(a.a,"Setting mute state to mute="+b+" for "+a);a.j=b;b=Sa(a.settings);b.jc=a.j;a.settings=b;a.j?JT(a):a.u();a.Z().Ha(a.ud()?"aa":"$");a.dispatchEvent("ia")};IT.prototype.pause=function(){this.g||"hb"==this.f||(Z(this.a,"Pausing "+this),this.g=!0,JT(this))};IT.prototype.resume=function(){this.g&&"hb"!=this.f&&(Z(this.a,"Resuming "+this),this.g=!1,this.u())};
IT.prototype.u=function(){if("cb"!=this.f)return Z(this.a,"Skipping update usermedia for "+this+" while device in state="+this.f),Nd();if(this.j)return Z(this.a,"Skipping update usermedia for "+this+" because capture is currently muted."),Nd();if(this.g)return Z(this.a,"Skipping update usermedia for "+this+" because capture is currently paused."),Nd();var a=OT(this);if(!a)return a="Attempting to update usermedia for "+this+" with null constraints",this.a.error(a),Od(a);if(Oa(a))return Z(this.a,"Skipping update usermedia for "+
this+" with empty constraints."),Nd();var b=this.settings;Z(this.a,"Attempting to update UserMedia for "+this);return CK(a).then(function(a){this.j||this.g||!this.settings.equals(b)?(Z(this.a,"Capture settings changed during stream acquisition for "+this),this.B(a)):PT(this,a)},function(a){zT(this.a,"Error calling getUserMedia="+a+" in "+this);throw a;},this)};
var OT=function(a){var b={};if(null==a.settings.deviceId)return Z(a.a,"Return empty user media constraints for "+a+" with null deviceId."),b;b.audio=!1;b.video=!1;var c=a.Z().a;switch(c){case "a":a=a.settings.a();b.audio=a;break;case "v":a=a.settings.a();b.video=a;break;default:return a.a.error("Invalid mediaType="+c+" for "+a),null}return b},PT=function(a,b){Z(a.a,"getUserMedia success for stream="+b.id+" in "+a);0==b.getAudioTracks().length&&0==b.getVideoTracks().length?zT(a.a,"No media tracks for stream="+
b.id+" in "+a):(JT(a),a.b=b,a.o=window.URL.createObjectURL(b),t(Ub(a.b.getAudioTracks(),a.b.getVideoTracks()),function(a){je(a,"ended",this.ba,void 0,this)},a),t(a.A.P(),function(a){this.m.set(a,this.b.clone())},a),Z(a.a,"Stream changed in "+a),a.X(a.aa),a.dispatchEvent(new MT(a.o)))};IT.prototype.ba=pa;var MT=function(a){A.call(this,"ka");this.Wl=a};r(MT,A);var QT=function(){this.b=new yT("realtime.media.api.webrtc.ExtensionDelegate")};r(QT,TJ);sr(QT,TJ,1);QT.prototype.Cf=function(a){return RK(function(b){a(b)})};QT.prototype.Df=function(){return QS()};
var RT=function(a,b,c){var d=QK({method:"logging.setMetadata",metaData:[{key:"sessionId",value:b},{key:"url",value:window.location.href}]}).then(function(){US(this.b.a,"Extension logging setMetadata succeeded for "+b)},function(a){US(this.b.a,"Extension loggings setMetadata failed for session: "+b+", error: "+a)},a);c&&Yd(d,function(){return RT(this,b,!1)},a);return d};QT.prototype.Jh=function(a){return RT(this,a,!0).then(function(){return ST(this,!0)},void 0,this)};
QT.prototype.Kh=function(a,b){if(b)return QK({method:"logging.stopAndUpload"}).then(function(a){Z(this.b,"logging.stopAndUpload succeeded with result="+df(a))},function(a){zT(this.b,"logging.stopAndUpload failed with error="+a);throw a;},this);this.Bf(!1);return Yd(QK({method:"logging.stop"}).then(function(){Z(this.b,"logging.stop succeeded");if(a)return(0<=qb(Kn,42)?QK({method:"logging.store",logId:a}):QK({method:"logging.stop"})).then()},void 0,this),function(a){zT(this.b,"logging.stop failed with error="+
a);throw a;},this)};QT.prototype.Bf=function(a){return a?QK({method:"logging.startRtpDump",incoming:!0,outgoing:!0}).then(function(){Z(this.b,"logging.startRtpDump succeeded")},function(a){Z(this.b,"logging.startRtpDump failed with error="+a);throw a;},this):QK({method:"logging.stopRtpDump",incoming:!0,outgoing:!0}).then(function(){Z(this.b,"logging.stopRtpDump succeeded")},function(a){Z(this.b,"logging.stopRtpDump failed with error="+a);throw a;},this)};
var ST=function(a,b){var c=QK({method:"logging.start"}).then();b&&Yd(c,function(){return ST(this,!1)},a);return c};QT.prototype.Lh=function(){return QK({method:"logging.uploadOnRenderClose"}).then()};var TT=function(a){this.a=new yT("realtime.media.api.webrtc.LoggingManager");this.g=uM(a,cK,YN);this.B=UR.U();this.m=null;this.h=new mf;this.w=new mf;this.f=!1;this.v=this.j=this.b=null;this.A=this.u=!1};TT.prototype.Ga=function(a){Z(this.a,"Logging manager initialized with userId="+a);this.m=a;return Nd(7)};
var UT=function(a,b,c){Z(a.a,"enableRtpHeaderDump called with sessionId="+b+" and enable="+c);a.A==c?Z(a.a,"Ignoring enableRtpHeaderDump call for sessionId="+b+" as header dump already in state with enable="+c):a.f?SJ(OJ.U(),c).then(function(){Z(this.a,"RTP header dump succeeded for sessionId="+b+" and enable="+c);this.A=c},function(a){zT(this.a,"Error setting RTP header dump for sessionId="+b+" and enable="+c+". Error="+a);throw a;},a):a.b?(Z(a.a,"Delaying rtp header dump request until native WebRTC logging has started."),
a.b.then(function(){UT(this,b,c)},void 0,a)):zT(a.a,"enableRtpHeaderDump called when native logging is not active or pending")},WT=function(a,b){Z(a.a,"Starting logging for sessionId="+b);a.h.add(b);a.g.then(function(a){ZN(a,3220)});WR(UR.U(),b);VT(a,b)},YT=function(a,b){if(a.h.contains(b)){Z(a.a,"Stopping logging for sessionId="+b);a.h.remove(b);a.g.then(function(a){ZN(a,3221)});var c=a.w.contains(b);a.w.remove(b);c?(Z(a.a,"Uploading logs for "+b),a.g.then(function(a){ZN(a,2494)}),a.m?(Z(a.a,"################# Save #################"),
c=YR(a.B,b,a.m).then(function(){this.g.then(function(a){ZN(a,2495)})},function(){this.g.then(function(a){ZN(a,2496)})},a)):(zT(a.a,"Failed to upload beacause of missing user identifier."),c=Nd())):c=Nd();var d=XT(a);Xd(Sd([c,d]),function(){var a=UR.U(),c=new Date;VR(a,b,"### Stop ["+c.toString()+"] ### "+b);VR(a,b,"Current time is "+c.toUTCString());delete a.a[b]},a)}else Z(a.a,"Skipping stopLogging call for sessionId="+b+" as logging is not active for this session.")},VT=function(a,b){a.f||a.b||
(Z(a.a,"Requesting native WebRTC logging for sessionId="+b),a.b=Xd(QJ(OJ.U(),b).then(function(){this.f=!0;this.v=b;Z(this.a,"Native WebRTC logging started for sessionId="+b)},function(a){zT(this.a,"Native WebRTC logging failed to start for sessionId="+b+", error: "+a);throw a;},a),function(){this.b=null},a),a.w.contains(b)&&a.b.then(function(){this.o()},void 0,a))},XT=function(a){if(a.j)return a.j;if(!a.f)return Nd();if(a.b)return a.b.then(function(){XT(this)},void 0,a);if(!a.h.Ra())return Z(a.a,
"Ignoring native WebRTC logging stop request due to active session ids="+a.h.P()),Nd();Z(a.a,"Stopping native WebRTC logging.");a.j=Xd(RJ(OJ.U(),a.v,a.u).then(function(){Z(this.a,"Request to stop native WebRTC logging succeeded")},function(a){zT(this.a,"Request to stop native WebRTC logging failed with error="+a);throw a;},a),function(){this.f=!1;this.j=this.v=null},a);return a.j};
TT.prototype.o=function(){this.u||(Z(this.a,"Requesting upload of the native WebRTC logs"),this.u=!0,OJ.U().ma.Lh().then(function(){Z(this.a,"Native uploadLogOnRenderClose succeeded.")},function(a){zT(this.a,"Native uploadLogOnRenderClose failed with error="+a);throw a;},this))};var $T=function(a){B.call(this);this.g=a;this.b=new yT("realtime.media.api.webrtc.PeerConnection");a={iceServers:this.g.A,bundlePolicy:"max-bundle"};if(Ej){var b={mandatory:{RtpDataChannels:!0,DtlsSrtpKeyAgreement:this.g.J},optional:[{googHighStartBitrate:!0},{googHighBitrate:!0},{googPayloadPadding:!0},{googSkipEncodingUnusedStreams:!0},{googScreencastMinBitrate:400},{googVeryHighBitrate:!0}]};b.optional.push({googCpuOveruseDetection:!0});b.optional.push({googCpuOveruseEncodeUsage:!0});b.optional.push({googCpuUnderuseThreshold:55});
b.optional.push({googCpuOveruseThreshold:85});Z(this.b,"Creating new PeerConnection with config="+df(a)+" constraints="+df(b));a=new webkitRTCPeerConnection(a,b)}else Aj?(Z(this.b,"Creating new PeerConnection with config="+df(a)),a=new RTCPeerConnection(a)):(tb(),a=void 0);this.a=a;this.m=this.j=this.u=this.o=this.f=null;Aj?(this.f=HH().createMediaStreamDestination().stream,this.j=this.f.getAudioTracks()[0],this.j.enabled=!1,this.a.addTrack(this.j,this.f),this.u=new AT(null,this.f,Aj),a=document.createElement("canvas"),
a.getContext("2d"),this.o=a.captureStream(),this.m=this.o.getVideoTracks()[0],this.m.enabled=!1,a=this.a.addTrack(this.m,this.o)):a=null;ZT(this,a);this.a.onicecandidate=this.F.bind(this);Ej?this.a.onaddstream=this.B.bind(this):this.a.ontrack=this.A.bind(this);this.a.onremovestream=this.H.bind(this)};r($T,B);
var ZT=function(a,b){if(b){var c={rid:"f"},d=a.g.w;d&&0<d.a&&(c.maxBitrate=d.a);c=[c];a.g.v&&(c.push({rid:"h",scaleResolutionDownBy:2}),c.push({rid:"q",scaleResolutionDownBy:4}));b.setParameters({encodings:c}).then(function(){},function(b){return zT(a.b,"Failed to enable simulcast: "+b)})}},aU=function(a){var b;Ej&&(b={reliable:!1});return a.a.createDataChannel("dataSendChannel",b)};
$T.prototype.close=function(){"closed"!=this.a.signalingState&&this.a.close();this.a.onicecandidate=null;this.a.oniceconnectionstatechange=null;this.a.onaddstream=null;this.a.onremovestream=null;this.a.ondatachannel=null};var bU=function(a,b){t(a.a.getSenders(),function(a){a.track.kind==b.kind&&a.replaceTrack(b)})},cU=function(a,b){a="audio"==b.kind?a.f:a.o;a.removeTrack(a.getTracks()[0]);a.addTrack(b);return a};$T.prototype.B=function(a){a.stream&&this.dispatchEvent(new dU(a.stream))};
$T.prototype.A=function(a){Lb(a.streams)||this.dispatchEvent(new dU(a.streams[0]))};$T.prototype.H=function(a){a.stream&&this.dispatchEvent(new eU(a.stream))};$T.prototype.F=function(a){if(a=a.candidate)a=kM(new aM,a),this.dispatchEvent(new fU(a))};
var hU=function(a,b){b=b||gU(!1);var c=Qa();Ej?a.a.createOffer(function(a){c.resolve(a)},function(a){c.b(a)},b):Aj?c.resolve(a.a.createOffer(b)):c.b("Unsupported platform");return c.a.then(function(a){return(new aM).parse(a.sdp)},function(b){a.b.error("createOffer Failed: "+b);throw b;})},iU=function(a){var b=Qa();Ej?a.a.createAnswer(function(a){b.resolve(a)},function(a){b.b(a)}):Aj?b.resolve(a.a.createAnswer()):b.b("Unsupported platform");return Yd(b.a,function(b){a.b.error("nativeCreateAnswer_ Failed: "+
b);throw b;})},jU=function(a){return iU(a).then(function(a){return(new aM).parse(a.sdp)},function(b){a.b.error("createAnswer Failed: "+b);throw b;})},kU=function(a,b){var c=Qa();Ej?a.a.setLocalDescription(b,function(){return c.resolve()},function(a){return c.b(a)}):Aj?c.resolve(a.a.setLocalDescription(b)):c.b("Unsupported platform");return Yd(c.a,function(b){a.b.error("nativeSetLocalDescription_ Failed: "+b);throw b;})},lU=function(a){return iU(a).then(function(b){return kU(a,b)})},gU=function(a){if(Ej){var b=
{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};a&&(b.mandatory.IceRestart=!0);return b}if(Aj)return b={offerToReceiveAudio:1,offerToReceiveVideo:1},a&&(b.iceRestart=!0),b;tb();return{}},mU=function(a){return a.u?DT(a.u):null};$T.prototype.getStats=function(){var a=Qa();Ej?this.a.getStats(function(b){a.resolve(b)}):Aj?a.resolve(this.a.getStats()):a.b("Unsupported platform");return a.a};
var nU=function(a,b){b=oO(b);var c=Qa();Ej?a.a.addIceCandidate(b,function(){c.resolve()},function(a){c.b(a)}):Aj?c.resolve(a.a.addIceCandidate(b)):c.b("Unsupported platform");Yd(c.a,function(a){zT(this.b,"addIceCandidate Failed: "+a);throw a;},a)},pU=function(a,b,c){var d=oU(a,b,c,!1),e=Qa();Ej?a.a.setLocalDescription(d,function(){e.resolve()},function(a){e.b(a)}):Aj?e.resolve(a.a.setLocalDescription(d)):e.b("Unsupported platform");Yd(e.a,function(a){zT(this.b,"setLocalDescription Failed: "+a);zT(this.b,
"The current signalingState is : "+this.a.signalingState);zT(this.b,"The offending SDP was: \n"+d.sdp);throw a;},a);return e.a},qU=function(a,b,c){var d=oU(a,b,c,a.g.B),e=Qa();Ej?a.a.setRemoteDescription(d,function(){e.resolve()},function(a){e.b(a)}):Aj?e.resolve(a.a.setRemoteDescription(d)):e.b("Unsupported platform");Yd(e.a,function(a){zT(this.b,"setRemoteDescription Failed: "+a);zT(this.b,"The current signalingState is : "+this.a.signalingState);zT(this.b,"The offending SDP was: \n"+d.sdp);throw a;
},a);return e.a},oU=function(a,b,c,d){var e=new $N;d=d?["conference"]:[];var f=void 0;"offer"===b&&a.a.remoteDescription&&a.a.remoteDescription.sdp&&(f=new aM,f.parse(a.a.remoteDescription.sdp),f=f.J);a=f;e.f&&(e.f=null,e.b=null,e.h=[],e.g=[],e.o.clear(),e.a=[],e.m="ICE",e.j="full",e.v=[],e.w=null);e.f=c;e.b=null;e.v=d||[];e.w=a||null;e.b?c=e.b.j.get("session"):(c=Math.pow(2,53)*Math.random(),a=[],a.push("v=0"),a.push("o=- "+c+" 2 IN IP4 127.0.0.1"),a.push("s=-"),a.push("t=0 0"),c=a);e.h=c;if(Ej)cO(e);
else for(c=dO(e.f),a=e.w||[],d=Math.max(c.length,a.length),f=0;f<d;f++){var g=c[f];if(g&&g.active){var m=g.stream;bO(e,g.description,m?[m]:[],e.f.h,u(e.f.j))}else m=e,m.a.push("m="+Ua(jI)[(a[f]||g).type]+" 0 RTP/SAVPF 0"),m.a.push("c=IN IP6 ::"),m.a.push(mO("inactive"))}0<e.g.length&&e.h.push(mO("group:BUNDLE",e.g.join(" ")));e.h.push(mO("ice-options:trickle"));e.b||(nO(e.h,e.m,e.j),e.h.push(mO("msid-semantic:","WMS *")));e.a.push("");return new RTCSessionDescription({type:b,sdp:e.h.concat(e.a).join("\r\n")})},
fU=function(a){A.call(this,"Qa");this.candidate=a};r(fU,A);var dU=function(a){A.call(this,"Ra");this.stream=a};r(dU,A);var eU=function(a){A.call(this,"Sa");this.stream=a};r(eU,A);var rU=function(){this.h=new yT("realtime.media.api.webrtc.RtcStatsParser");this.g=new sK;this.a=this.b=null;this.f={}},sU={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},tU={host:1,serverreflexive:2,peerreflexive:2,relayed:3},uU={udp:1,tcp:2},FU=function(a,b,c,d){var e=vU(b);e?(wU(a,e),e=xU(a),0>e?zT(a.h,"Ignore report with timestamp prior to initial stats: "+yU(b)):(K(c,1,Math.round(e)),b.forEach(function(a){switch(sU[a.type]||
a.type){case "candidate-pair":if(a){var d=a.selected;if("boolean"==typeof d&&0!=d){var d=M(c,QO,13),e=new QO,f=new BM,y=new BM;zU(f);zU(y);N(e,8,f);N(e,9,y);K(e,7,-1);K(e,5,-1);var D=I(f,3);K(e,1,D);K(e,2,0);e.h(-1);K(e,6,-1);K(e,4,-1);D=a.remoteCandidateId||"";AU(b.get(a.localCandidateId||""),f);AU(b.get(D),y);N(e,8,f);N(e,9,y);a=I(f,3);K(e,1,a);d.push(e);Ys(c,13,d)}}break;case "inbound-rtp":case "outbound-rtp":a&&!BU(a)&&(d=OO(c),e=new UO,K(e,9,-1),K(e,7,-1),K(e,3,-1),K(e,2,-1),K(e,5,-1),K(e,4,
-1),K(e,1,0),K(e,10,-1),K(e,8,-1),e.h(-1),f="outbound-rtp"==(sU[a.type]||a.type),a&&(K(e,24,f?0:1),y="audio"==a.mediaType,K(e,1,y?1:2),D=a.ssrc,va(D)&&!db(D)&&(D=Number(D),K(e,25,D),K(e,53,[D])),y||BU(a)||(K(e,29,Math.round(CU(a,"framerateMean"))),f?K(e,42,Math.round(CU(a,"bitrateMean"))):K(e,96,Math.round(CU(a,"bitrateMean"))))),f?DU(this,a,e,b):EU(this,a,e,b),a=uK(this.g,a,xU(this),f,!1),null!=a&&(f?K(e,42,a.Xd):(K(e,96,a.Xd),K(e,2,a.jh))),d.push(e),Ys(c,2,d))}},a),d(c))):zT(a.h,"No valid timestamp for the stats: "+
yU(b))},GU=function(a,b){var c={audio:!1,video:!1};b.forEach(function(a){if("inbound-rtp"==(sU[a.type]||a.type)&&!BU(a)){var b=a.ssrc,d=a.packetsReceived;va(b)&&!db(b)&&l(d)&&(b=Number(b),this.f[b]=this.f[b]||0,0>=d-this.f[b]||(this.f[b]=d,"audio"==a.mediaType&&(c.audio=!0),"video"==a.mediaType&&(c.video=!0)))}},a);return c},BU=function(a){return a&&(a=a.isRemote,"boolean"==typeof a&&1==a)?!0:!1},vU=function(a){for(var b=null,c=ja(a.keys()),d=c.next();!d.done;d=c.next())if(d=a.get(d.value),!BU(d)){b=
d.timestamp;break}return l(b)?new Date(Math.round(b)):null},wU=function(a,b){null==a.b&&(a.b=b);if(null==a.a||b.getTime()>a.a.getTime())a.a=b},xU=function(a){return a.a&&a.b?(a.a.getTime()-a.b.getTime())/1E3:-1},AU=function(a,b){if(a){var c=a.ipAddress||"",d=a.portNumber||"";db(c)||db(d)||K(b,1,c+":"+d);K(b,3,tU[a.candidateType||""]||0);K(b,4,uU[a.transport||""]||0)}},EU=function(a,b,c,d){if(b){var e=BU(b),f=b.remoteId;e||!va(f)||db(f)||DU(a,d.get(f),c,d);K(c,5,Math.round(CU(b,"jitter")));c.h(Math.round(CU(b,
"mozRtt")));K(c,3,CU(b,"packetsLost"));e||(K(c,10,CU(b,"packetsReceived")),K(c,9,CU(b,"bytesReceived")))}},DU=function(a,b,c,d){if(b){var e=BU(b),f=b.remoteId;e||!va(f)||db(f)||EU(a,d.get(f),c,d);e||(K(c,8,CU(b,"packetsSent")),K(c,7,CU(b,"bytesSent")))}},zU=function(a){K(a,3,0);K(a,4,0);K(a,2,0)},CU=function(a,b){return a&&l(a[b])?a[b]:-1},yU=function(a){for(var b={},c=ja(a.keys()),d=c.next();!d.done;d=c.next())d=d.value,b[d]=a.get(d);return na.JSON.stringify(b)};var IU=function(){this.f=new yT("realtime.media.api.webrtc.Utils");this.b=new GK;new dL(16,!1);this.a={};var a;a=n(this.h,this);var b=null;if(this.b.isAvailable()){var c=this.b.get("scp"),d=null!=c;try{b=cf(c)}catch(e){d=!1}!d&&a&&(b=a())}else this.f.error("Error in retrieving cpu info from local storage.");if(a=b)this.a=a;HU(this)},JU=new C({neon:1,sse2:2,ssse3:4,sse4_1:8,sse4_2:16,avx:32}),KU=function(a,b){PJ(OJ.U(),n(function(a){a&&b&&b(a)},a))},LU=function(a,b){if(null==b)return zT(a.f,"Cannot get cpuFlags from null."),
-1;if(a=b.features){var c=0;t(a,function(a){c|=JU.get(a,0)});return c}return b.cpuHasSSE2?2:-1},HU=function(a){KU(a,n(function(a){a&&(this.a=a,this.b.isAvailable()?this.b.set("scp",df(a)):this.f.error("Error in saving scp to local storage."))},a))};IU.prototype.h=function(){return-1!=oc.indexOf("armv7l")?{archName:"armv7l",modelName:"Unknown ARM device",numOfProcessors:2}:{archName:"x86",modelName:"Unknown x86 device",numOfProcessors:4}};var MU=function(a){this.a=a};r(MU,Oq);h=MU.prototype;h.Nb=function(a){return new uT("hangout_participants/add",function(){var b=new GP;Ys(b,6,a);return b},function(a){return M(a,Ey,5)})};h.Ob=function(a){return new uT("hangout_participants/modify",function(){var b=new NP;Ys(b,4,a);return b},function(a){return M(a,Ey,4)})};h.Xb=function(a,b){var c=b&&b.jYdIne||0;return new uT("hangout_participants/remove",function(){var b=new TP;UP(b,a);K(b,5,c);return b})};
h.Pb=function(a){return new uT("hangout_participants/query",function(){var b=new QP;b.R(a.V());b.na(a.M());return b},function(a){return[L(a,Ey,2)]})};h.Yb=function(a){return new uT("hangout_participants/search",function(){var b=new WP;b.R(a.V());return b},function(a){return M(a,Ey,2)},VS.prototype.h,XS.prototype.h)};var NU=function(a){this.a=a};r(NU,Oq);h=NU.prototype;h.Nb=function(a){return new uT("hangouts/add",function(){var b=new tP;Ys(b,4,a);return b},function(a){return M(a,zy,5)})};h.Ob=function(a){return new uT("hangouts/modify",function(){var b=new CP;Ys(b,4,a);return b},function(a){return M(a,zy,4)})};h.Xb=function(){return null};h.Pb=function(a){return new uT("hangouts/query",function(){var b=new cQ;b.R(a.V());return b},function(a){return[L(a,zy,2)]},VS.prototype.g,XS.prototype.g)};h.Yb=function(a){return this.Pb(a)};var OU=function(a){this.a=a};r(OU,lq);OU.prototype.Nb=function(a){return new uT("media_sessions/add",function(){var b=new $R;Ys(b,4,a);return b},function(a){return M(a,bC,4)})};OU.prototype.Ob=function(a){return new uT("media_sessions/modify",function(){var b=new fS;Ys(b,4,a);return b},function(a){return M(a,bC,4)})};OU.prototype.Xb=function(){return null};var PU=function(a){this.a=a};r(PU,Oq);h=PU.prototype;h.Nb=function(a){return new uT("media_sources/add",function(){var b=new rQ;Ys(b,4,a);return b},function(a){return M(a,Ny,4)})};h.Ob=function(a){return new uT("media_sources/modify",function(){var b=new xQ;Ys(b,4,a);return b},function(a){return M(a,Ny,4)})};h.Xb=function(){return null};h.Pb=function(a){return new uT("media_sources/query",function(){var b=new AQ;b.R(a.V());b.na(a.M());var c=a.ga();K(b,4,c);return b},function(a){return[a.Z()]})};
h.Yb=function(a){return new uT("media_sources/search",n(function(){var b=new CQ;b.R(a.V());return b},this),function(a){return M(a,Ny,2)},VS.prototype.j,XS.prototype.j)};var QU=function(a){this.a=a};r(QU,Oq);h=QU.prototype;h.Nb=function(a){return new uT("media_streams/add",function(){var b=new lR;Ys(b,4,a);return b},function(a){return M(a,YA,4)})};h.Ob=function(a){return new uT("media_streams/modify",function(){var b=new rR;Ys(b,4,a);return b},function(a){return M(a,YA,4)})};h.Xb=function(){return null};h.Pb=function(a){return new uT("media_streams/query",function(){var b=new HQ;b.R(a.V());var c=a.wf();K(b,2,c);b.oa(a.xf());c=a.Qa();K(b,4,c);return b},function(a){return[a.jb()]})};
h.Yb=function(a){return new uT("media_streams/search",n(function(){var b=new IQ;b.R(a.V());b.oa(a.xf());var c=a.wf();K(b,2,c);return b},this),function(a){return M(a,YA,2)},VS.prototype.v,XS.prototype.v)};var RU=function(){B.call(this);this.a=new Xt(this);this.h(this.a)};r(RU,B);var SU=function(a){this.sa=a.sa;this.b=a};r(SU,qr);h=SU.prototype;h.Ga=xr();h.xe=xr();h.Af=xr();h.Ih=xr();h.Hh=xr();h.Ad=xr();var TU=function(a){this.h=new yT("realtime.media.api.webrtc.JmiStatsParser");this.w=a;this.j=new sK;this.f=-1;this.g={};this.b=new TH;this.v=new IU;this.a=null},XU=function(a,b,c,d,e){t(b,function(a){if(a.timestamp&&0<a.timestamp.getTime()){var b=this.b,e=a.timestamp;null==b.w&&(b.w=e);if(null==b.b||e.getTime()>b.b.getTime())b.b=e}switch(a.type){case "ssrc":var f=UU(a);a=this.w;c&&(null!==f&&"googFrameWidthSent"in f&&(f.googFrameWidthSent=0),null!==f&&"googFrameHeightSent"in f&&(f.googFrameHeightSent=
0));b=Number(f.ssrc);if(null!=b){e=f.googCaptureStartNtpTimeMs;if(null!=e&&0<e){var y=a.nd(b);null!=y&&(e=e-hP+1E3*y,f.oneWayDelayMs=Ea()-e)}null!=f.bytesReceived&&(a=nT(a,b),null!=a&&(null!=a.eh&&(f.fpsGraphicsInput=a.eh),null!=a.fh&&(f.fpsGraphicsOutput=a.fh)));a=$O.Wf;b=f.googCpuLimitedResolution;e=f.googBandwidthLimitedResolution;y=f.googViewLimitedResolution;if(null!=b||null!=e||null!=y)"true"==b&&(a|=$O.Vf),"true"==e&&(a|=$O.Uf),"true"==y&&(a|=$O.Xf),f.googAdaptationReason=a}a="SSRC: "+df(f);
US(this.h.a,a);if(null!=f){e=null!==f&&"audioInputLevel"in f||null!==f&&"audioOutputLevel"in f;a=null!==f&&"bytesSent"in f;b=new UO;K(b,1,e?1:2);K(b,24,a?0:1);l(f.ssrc)&&(K(b,25,f.ssrc),K(b,53,[f.ssrc]));K(b,2,Math.round(KH(f.fractionLost)));K(b,3,Math.round(KH(f.packetsLost)));K(b,4,Math.round(KH(f.highestSequenceNumber)));K(b,5,Math.round(KH(f.googJitterReceived)));b.h(Math.round(KH(f.googRtt)));K(b,7,Math.round(KH(f.bytesSent)));K(b,8,Math.round(KH(f.packetsSent)));K(b,9,Math.round(KH(f.bytesReceived)));
K(b,10,Math.round(KH(f.packetsReceived)));a?null!=f.googCodecName&&K(b,44,f.googCodecName):(null!=f.googCodecName&&K(b,94,f.googCodecName),l(f.oneWayDelayMs)&&K(b,89,Math.round(f.oneWayDelayMs)),l(f.oneWayMaxDelayMs)&&K(b,112,Math.round(f.oneWayMaxDelayMs)),l(f.oneWayStddevDelayMs)&&K(b,118,Math.round(f.oneWayStddevDelayMs)),l(f.oneWayMinDelayMs)&&K(b,119,Math.round(f.oneWayMinDelayMs)));if(e)a?(l(f.aecDivergentFilterFraction)&&K(b,117,f.aecDivergentFilterFraction),l(f.audioInputLevel)&&K(b,26,Math.round(f.audioInputLevel)),
l(f.googEchoCancellationEchoDelayMedian)&&K(b,46,Math.round(f.googEchoCancellationEchoDelayMedian)),l(f.googEchoCancellationEchoDelayStdDev)&&K(b,47,Math.round(f.googEchoCancellationEchoDelayStdDev)),l(f.googEchoCancellationReturnLoss)&&K(b,48,Math.round(f.googEchoCancellationReturnLoss)),l(f.googEchoCancellationReturnLossEnhancement)&&K(b,49,Math.round(f.googEchoCancellationReturnLossEnhancement)),l(f.googEchoCancellationQualityMin)&&K(b,63,f.googEchoCancellationQualityMin),l(f.googResidualEchoLikelihood)&&
K(b,129,f.googResidualEchoLikelihood),l(f.googResidualEchoLikelihoodRecentMax)&&K(b,133,f.googResidualEchoLikelihoodRecentMax)):(l(f.audioOutputLevel)&&K(b,26,Math.round(f.audioOutputLevel)),l(f.googJitterBufferMs)&&K(b,37,Math.round(f.googJitterBufferMs)),l(f.googPreferredJitterBufferMs)&&K(b,38,Math.round(f.googPreferredJitterBufferMs)),l(f.googCurrentDelayMs)&&K(b,39,Math.round(f.googCurrentDelayMs)),l(f.googExpandRate)&&K(b,68,f.googExpandRate),l(f.googSpeechExpandRate)&&K(b,103,f.googSpeechExpandRate),
l(f.googPreemptiveExpandRate)&&K(b,106,f.googPreemptiveExpandRate),l(f.googAccelerateRate)&&K(b,107,f.googAccelerateRate),l(f.googSecondaryDecodedRate)&&K(b,104,f.googSecondaryDecodedRate),l(f.googDecodingCTSG)&&K(b,81,Math.round(f.googDecodingCTSG)),l(f.googDecodingCTN)&&K(b,82,Math.round(f.googDecodingCTN)),l(f.googDecodingNormal)&&K(b,83,Math.round(f.googDecodingNormal)),l(f.googDecodingPLC)&&K(b,84,Math.round(f.googDecodingPLC)),l(f.googDecodingCNG)&&K(b,85,Math.round(f.googDecodingCNG)),l(f.googDecodingPLCCNG)&&
K(b,86,Math.round(f.googDecodingPLCCNG)),l(f.googDecodingMuted)&&K(b,134,Math.round(f.googDecodingMuted)));else if(a?(l(f.googFirsReceived)&&K(b,27,Math.round(f.googFirsReceived)),l(f.googNacksReceived)&&K(b,28,Math.round(f.googNacksReceived)),l(f.googFrameRateInput)&&K(b,29,Math.round(f.googFrameRateInput)),l(f.googFrameRateSent)&&K(b,30,Math.round(f.googFrameRateSent)),l(f.googFrameWidthSent)&&b.j(Math.round(f.googFrameWidthSent)),l(f.googFrameHeightSent)&&b.g(Math.round(f.googFrameHeightSent)),
l(f.googQpSent)&&K(b,113,Math.round(f.googQpSent)),l(f.googAdaptationChanges)&&K(b,95,Math.round(f.googAdaptationChanges)),l(f.googAvgEncodeMs)&&K(b,75,Math.round(f.googAvgEncodeMs))):(l(f.googFirsSent)&&K(b,27,Math.round(f.googFirsSent)),l(f.googNacksSent)&&K(b,28,Math.round(f.googNacksSent)),l(f.googFrameRateOutput)&&K(b,29,Math.round(f.googFrameRateOutput)),l(f.googFrameRateReceived)&&K(b,30,Math.round(f.googFrameRateReceived)),l(f.googFrameRateDecoded)&&K(b,31,Math.round(f.googFrameRateDecoded)),
l(f.fpsGraphicsInput)&&K(b,50,f.fpsGraphicsInput),l(f.fpsGraphicsOutput)&&K(b,51,f.fpsGraphicsOutput),l(f.googFrameWidthReceived)&&b.j(Math.round(f.googFrameWidthReceived)),l(f.googFrameHeightReceived)&&b.g(Math.round(f.googFrameHeightReceived)),l(f.googQpReceived)&&K(b,113,Math.round(f.googQpReceived))),a){var e=$O.Wf,y=VU(f.googCpuLimitedResolution),D=VU(f.googBandwidthLimitedResolution),V=VU(f.googViewLimitedResolution);null!=y&&null!=D&&null!=V&&(y&&(e|=$O.Vf),D&&(e|=$O.Uf),V&&(e|=$O.Xf));K(b,
65,e)}f=uK(this.j,f,this.f,a);null!=f&&(K(b,2,f.jh),a?K(b,42,f.Xd):K(b,96,f.Xd));WU(d,b)}break;case "VideoBwe":f=UU(a);a="Bwe: "+df(f);US(this.h.a,a);null!=f&&(a=new UO,K(a,1,2),K(a,24,2),l(f.googAvailableSendBandwidth)&&K(a,40,Math.round(f.googAvailableSendBandwidth)),l(f.googAvailableReceiveBandwidth)&&K(a,41,Math.round(f.googAvailableReceiveBandwidth)),l(f.googTransmitBitrate)&&K(a,42,Math.round(f.googTransmitBitrate)),l(f.googRetransmitBitrate)&&K(a,43,Math.round(f.googRetransmitBitrate)),l(f.googTargetEncBitrate)&&
K(a,124,Math.round(f.googTargetEncBitrate)),l(f.googActualEncBitrate)&&K(a,125,Math.round(f.googActualEncBitrate)),l(f.googBucketDelay)&&K(a,80,Math.round(f.googBucketDelay)),K(a,2,-1),K(a,3,-1),K(a,4,-1),K(a,5,-1),a.h(-1),K(a,7,-1),K(a,8,-1),K(a,9,-1),K(a,10,-1),WU(d,a));break;case "googCandidatePair":if(a=UU(a),b="CandidatePair: "+df(a),US(this.h.a,b),null!=a){b=M(d,QO,13);e=new QO;e.h(Math.round(KH(a.googRtt)));K(e,4,Math.round(KH(a.bytesSent)));l(a.packetsSent)&&K(e,90,Math.round(a.packetsSent));
l(a.packetsDiscardedOnSend)&&K(e,91,Math.round(a.packetsDiscardedOnSend));K(e,6,Math.round(KH(a.bytesReceived)));y=0;"true"==a.googActiveConnection&&(y|=1);"true"==a.googWritable&&(y|=2);"true"==a.googReadable&&(y|=4);K(e,2,y);y=new BM;D=new BM;K(y,1,a.googLocalAddress||"");K(D,1,a.googRemoteAddress||"");var V=a.googChannelId,fa=0;ab(V,"Channel-audio-")?fa=1:ab(V,"Channel-video-")&&(fa=2);K(y,2,fa);K(D,2,fa);V={local:1,stun:2,relay:3};K(y,3,V[a.googLocalCandidateType]||0);K(D,3,V[a.googRemoteCandidateType]||
0);V={udp:1,tcp:2,ssltcp:3}[a.googTransportType]||0;K(y,4,V);K(D,4,V);N(e,8,y);N(e,9,D);y=y.jb();K(e,1,y);y=this.j;D=this.f;f=k(f)?f:!0;V=PH(a,f);null==V?f=null:(f=f?MH:LH,f=tK(y.a,V,n(y.g,y)).update(D,a[f.cd],a[f.bd]));K(e,5,f?f.Ql:-1);K(e,7,f?f.Dl:-1);b.push(e);Ys(d,13,b)}}},a);KU(a.v,n(a.m,a,d,e))},ZU=function(a,b){var c=0;t(b,function(a){a=a.stat("audioInputLevel");db(mb(a))||(c=YU(a))},a);return c},$U=function(a,b){var c=new C;t(b,function(a){var b=a.stat("ssrc");a=a.stat("audioOutputLevel");
db(mb(b))||db(mb(a))||c.set(b,YU(a))},a);return c},aV=function(a,b){var c={audio:!1,video:!1};t(b,function(a){if("ssrc"==a.type){var b=a.names();if(Kb(b,"packetsReceived")){var d=Number(a.stat("ssrc"));this.g[d]=this.g[d]||0;a=Number(a.stat("packetsReceived"));0>=a-this.g[d]||(this.g[d]=a,Kb(b,"audioOutputLevel")?c.audio=!0:Kb(b,"googFrameRateReceived")&&(c.video=!0))}}},a);return c};
TU.prototype.m=function(a,b,c){var d;d=this.b.toJson();null!=d?(l(d.tabCpuUsage)&&K(a,34,Math.round(d.tabCpuUsage)),l(d.browserCpuUsage)&&K(a,92,Math.round(d.browserCpuUsage)),l(d.gpuCpuUsage)&&K(a,94,Math.round(d.gpuCpuUsage)),l(d.pluginCpuUsage)&&K(a,93,Math.round(d.pluginCpuUsage)),l(d.totalCpuUsage)&&K(a,35,Math.round(d.totalCpuUsage)),l(d.numOfProcessors)&&a.h(Math.round(d.numOfProcessors)),d=d.jmiVersion,d=l(d)?d:k(void 0)?void 0:-1):d=0;if(3!=d)this.h.error("Uncompatible version number: "+
d);else{d=this.b;var e=c&&c.numOfProcessors;if(e){var f=0,g=0;if(c=c.processors)for(var m=0;m<c.length;m++)var q=c[m].usage,f=f+(q.user+q.kernel),g=g+q.total;else f=d.v,g=d.f;c=g==d.f?d.u:100*e*(f-d.v)/(g-d.f);d.v=f;d.f=g;d.u=c;d.A=c;d.o=e}d=this.b;d=null!=d.b&&null!=d.w?(d.b.getTime()-d.w.getTime())/1E3:-1;0>d||(K(a,1,Math.round(d)),this.f>=d&&zT(this.h,"Elapsed time in jmidata decreased from "+this.f+" to "+d),this.f=d,d=this.b,d.m=0,d.h=0,d.g=0,d.j=0,d.a=0,b(a))}};
var UU=function(a){var b={};t(a.names(),function(c){var d=a.stat(c);null!=d&&(isNaN(d)||va(d)&&db(d)||(d=Number(d)));b[c]=d});return b},WU=function(a,b){b=b||new UO;var c=OO(a);c.push(b);Ys(a,2,c)},VU=function(a){return"true"!=a&&"false"!=a?null:"true"==a},YU=function(a){var b=Number(a);a=0==b&&db(a)?NaN:b;for(var b=[2E3,4E3,1E4,19E3,22E3,32769],c=0;b[c]<=a;)++c;return c};var bV=function(a,b){this.b=new yT("realtime.media.api.webrtc.StatsManager");this.m=a;this.h=null;b.then(function(a){this.h=a},function(a){Z(this.b,"NetworkInfoService unable to be loaded: "+String(a))},this);this.a=new TU(this.m);this.g=new rU;this.f=0};bV.prototype.start=function(){Z(this.b,"Stats manager started.");if(Ej){var a=this.a;a.a||(a.a=OJ.U().ma.Df(),a.a&&a.a.onMessage.addListener(n(a.b.B,a.b)))}else Aj||this.b.error("Unsupported platform. All stats ignored.")};
bV.prototype.stop=function(){Z(this.b,"Stats manager stopped.");if(Ej){var a=this.a;a.a&&(a.a.disconnect(),a.a=null)}};var cV=function(a,b,c){var d=0,e=new C;Ej?(d=ZU(a.a,b),e=$U(a.a,b)):Aj&&(d=0,e=new C);c(d,e)},dV=function(a,b,c){var d=Ea();1E3>d-a.f||(a.f=d,d={audio:!1,video:!1},Ej?d=aV(a.a,b):Aj&&(d=GU(a.g,b)),c(d.audio,d.video))},eV=function(a,b,c,d){d=n(a.j,a,d);var e=new FO;Ej?XU(a.a,b,c,e,d):Aj&&FU(a.g,b,e,d)};bV.prototype.j=function(a,b){this.h&&RQ(b);a(b)};var fV=function(a,b,c){B.call(this);this.f=b;this.a=c;this.b=new Xt(this);this.h(this.b);this.b.removeAll();this.b.listen(a,"U",this.j)};r(fV,B);fV.prototype.j=function(a){this.a.a("C");var b=this.f,c=mq(a.data),c=new ZC(c),c=M(c,UC,1);F(b.l,"handlePushNotification invoked, batch size: "+c.length);t(c,b.a,b);a=mq(a.data);a=M(new ZC(a),UC,1);0==a.length?this.a.a("G"):1==a.length?t(a,this.g,this):this.a.a("H")};
fV.prototype.g=function(a){var b=L(a,IA,1);(b=b&&I(b,3))&&this.a.a("V",b);a=L(a,BC,2);if(null!=a){for(var c,d=0;d<gD.length;d++)if(b=gD[d].Wa.call(a),null!=b){c=gD[d].eventType;switch(c){case "r":a="K";break;case "t":a="L";break;case "o":a="M";break;case "p":a="N";break;case "s":a="O";break;case "k":a="P";break;case "l":a="Q";break;case "m":a="R";break;case "z":a="S";break;case "n":a="U";break;default:a="J"}this.a.a(a);break}c||this.a.a("T")}else this.a.a("I")};var gV=function(a){B.call(this);this.sa=a;this.b=null;this.f=Qa();this.g=0;this.m=Qa();Sd([this.f.a,this.m.a]);this.a=null;Mr(this)};r(gV,B);rr(SU,gV);var hV=function(a){YL(a,dK)||(dK.a="",a.b(dK,new gV(a)))};gV.prototype.Ga=function(a){null==this.a&&(this.a=Sd([this.ma.Ga(a||{})||Nd(7),this.f.a]).then(function(a){return a[0]}),this.a.then(this.j,this.j,this),Yd(this.a,n(function(){this.a=null},this)));return this.a};gV.prototype.j=function(a){a!=this.g&&l(a)&&Ma(FH,a)&&(this.g=a,this.dispatchEvent("Q"))};var iV=function(a,b,c,d,e,f){B.call(this);this.ja=new yT("realtime.media.api.webrtc.PeerController");Aj&&(e=GI(e),e=Sa(e),e.o=!1,e=FI(e));this.j=e;this.g=b;this.bb=c;this.Aa=k(f)?f:3;this.Mb=new AK;this.u=new Xt(this);this.h(this.u);this.m=this.a=null;this.Ba=[];this.H=d;b=uM(a,UQ);this.K=new bV(this.H,b);this.Sa={};this.F=Ea();this.Ca=!1;this.ha=1;this.A={};this.o=this.b=null;this.X={};this.N={};this.aa=new C;this.Ia=new C;this.la=null;this.ea=[];this.B=null;this.ba=!1;this.f=null;this.Lb=0;this.Ka=
!1;this.ob=uM(a,cK,YN)};r(iV,B);var jV=!Ej||0<=qb(Kn,40)?100:200;iV.prototype.toString=function(){return"PeerController(sessionId="+this.g+")"};
var kV=function(a,b){Z(a.ja,"["+a+"] "+b)},lV=function(a,b){zT(a.ja,"["+a+"] "+b)},mV=function(a,b){for(var c=[],d=0;d<b;d++)c.push(BK(a.Mb));return c},nV=function(a,b){var c=a.j.v?3:1,c=a.j.a?[8579374]:mV(a,c),d=[];if(1<c.length){var e=new ZI(bJ(aJ(new $I,"SIM"),c));d.push(e)}if(a.j.o)for(var e=a.j.a?[8579375]:mV(a,c.length),f=0;f<e.length;f++){var g=new ZI(bJ(aJ(new $I,"FID"),[c[f],e[f]]));c.push(e[f]);d.push(g)}return DJ(NJ(MJ(HJ(GJ(EJ(new CJ,"v"),b),a.g+"/"+b),c),d))},oV=function(a,b){var c=new CJ;
if(Lb(iJ(b.b)))var d=a.j.a?[8579373]:mV(a,1),c=MJ(EJ(c,"a"),d);else c=new CJ(iJ(b.b)[0]);var d=DJ(HJ(GJ(c,"1"),a.g+"/1")),e;e=Lb(iJ(b.a))?nV(a,"2"):DJ(HJ(GJ(new CJ(iJ(b.a)[0]),"2"),a.g+"/2"));c=new CJ;c=Lb(iJ(b.f))?MJ(EJ(c,"d"),mV(a,1)):new CJ(iJ(b.f)[0]);c=HJ(GJ(c,"3"),a.g+"/3");a.j.a||KJ(c,"dataSendChannel");a=DJ(c);return new gK(nJ(new fJ("a",[],[]),[d]),nJ(new fJ("v",[],[]),[e]),nJ(new fJ("d",[],[]),[a]))},qV=function(a,b){a.Sa[b]||(a.Sa[b]=!0,a.dispatchEvent(new pV(a.g,b)))};
iV.prototype.Bb=function(a){a=a.stream;var b=a.getAudioTracks(),c=a.getVideoTracks(),d=a.id;kV(this,"Remote stream added with id="+a.id+" audioTracks="+b.length+" videoTracks="+c.length);c=function(a){return a.oc==d};Fb(iJ(this.o.b),c)||Fb(iJ(this.o.a),c)?0<b.length?(kV(this,"Creating audio output for stream id="+d),a=new AT(this.bb,a,Aj),this.A[d]=a,(b=rV(this.o,d))?(this.N[d]=b,iT(this.H,b,a)):lV(this,"Participant left before their audio was added")):(b=Ra(this.X,d),a=window.URL.createObjectURL(a),
kV(this,"Creating video url for stream id="+d+" url="+a),b.ra.resolve(a),b.Ng=!0):kV(this,"Ignoring incoming tracks with no matching msid.")};
iV.prototype.Eb=function(a){var b=a.stream,c=b.getAudioTracks();a=b.getVideoTracks();b=b.id;kV(this,"Remote stream removed with id="+b+" audioTracks="+c.length+" videoTracks="+a.length);if(0<c.length)if(c=this.A[b],null!=c){var d=this.N[b];d&&(delete this.N[b],jT(this.H,d,c));fd(c);delete this.A[b]}else lV(this,"Audio stream was deleted before removal.");0<a.length&&(a=this.X[b],delete this.X[b],null!=a?a.Ng?lV(this,"Asked to remove stream that was never added."):a.ra.a.then(window.URL.revokeObjectURL):
lV(this,"Video stream was deleted before removal."))};iV.prototype.La=function(a){a=a.target;var b=a.jb(this.g);b&&sV(this,b,a.Z())};
var tV=function(a,b){var c;switch(b){case "a":c=iJ(a.b.b)[0];break;case "v":c=Ib(iJ(a.b.a),function(a){return"2"==a.ga()});break;case "d":c=iJ(a.b.f)[0]}return c},uV=function(a,b){if(!a.b)return null;if("v"!=b.a)return tV(a,b.a);var c=Ib(iJ(a.b.a),function(a){return a.ga()==b.getId()});c||(c=nV(a,b.getId()));return c},vV=function(a,b,c){var d=c.a,e=uV(a,c),f=null,g=null,m=!0,q="aa"==c.getState();if(b){f=b.id;b="a"==d?b.getAudioTracks():b.getVideoTracks();if(0==b.length)return a.ja.error("["+a+"] Got MediaStream without associated tracks."),
null;g=b[0].id;m="X"!=c.fb()}e=DJ(IJ(JJ(LJ(KJ(new CJ(e),f),g),m),q));"a"==d?a.b=lK(a.b,nJ(a.b.b,[e])):(d=iJ(a.b.a),Sb(d,function(a){return a.ga()==c.getId()}),d.push(e),a.b=hK(a.b,nJ(a.b.a,d)));kV(a,"StreamInfo="+e+" updated.");return e},wV=function(a,b){b&&!a.Ca&&a.a&&(kV(a,"Adding stream with id="+b.id+" to peer"),a=a.a,Ej?a.a.addStream(b):(b=b.getTracks()[0],bU(a,b),b=cU(a,b)));return b},xV=function(a,b){b&&a.a&&(kV(a,"Removing stream with id="+b.id+" to peer"),a=a.a,Ej?a.a.removeStream(b):(b=
"audio"==b.getTracks()[0].kind?a.j:a.m,bU(a,b),cU(a,b)))},sV=function(a,b,c){if(!a.b)return null;b=wV(a,b);b=vV(a,b,c);a.o?yV(a):kV(a,"Skipping SDP renegotiation on local stream change because we are still waiting on the remote description.");return b};
iV.prototype.stopSession=function(a){this.a&&(this.u.v(this.a.a,"signalingstatechange",this.Pa),this.a.close(),this.a=null);this.m&&(this.m.close(),this.m=null);this.f&&(this.f.cancel(),this.f=null);this.B&&(this.B.stop(),this.ba=!1,this.F=0,this.dispatchEvent(new zV(a)));this.K.stop();for(var b in this.X)this.X[b].ra.a.then(window.URL.revokeObjectURL);AV(this,0)};
iV.prototype.Ga=function(){(this.a||this.f)&&tb("Attempted to recreate a peer connection.");qV(this,"send initiate");kV(this,"Instantiating new peer");this.a=new $T(this.j);this.u.listen(this.a.a,"signalingstatechange",this.Pa);this.ha=1;this.u.listen(this.a,"Qa",this.Db);this.a.a.oniceconnectionstatechange=n(this.Ya,this);this.u.listen(this.a,"Ra",this.Bb);this.u.listen(this.a,"Sa",this.Eb);this.a.a.ondatachannel=n(function(a){BV(this,a.channel)},this);this.m=aU(this.a);this.m.onopen=n(function(){kV(this,
"send datachannel is open.")},this);this.m.onclose=n(function(){kV(this,"send datachannel is closed.")},this);this.m.onerror=n(function(a){lV(this,"send datachannel error: "+a)},this);this.K.start();this.B||(this.B=new ye(jV),this.u.listen(this.B,"tick",this.Va),3==this.Aa&&this.B.start());return this.f=CV(this,!1).then(function(a){kV(this,"Initial createOffer_ succeeded");return DV(this,a)},function(a){this.ja.error("["+this+"] "+("Initial createOffer_ failed: "+a));return null},this)};
var CV=function(a,b){kV(a,"Calling createOffer for local description");b=gU(!!b);return Yd(hU(a.a,b),function(a){kV(this,"createOffer failed with error="+a);throw a;},a)},DV=function(a,b){var c=a.j.w;c&&(b=hK(b,sJ(b.a,c)));c=oV(a,b);b=mK(hK(lK(b,tJ(nJ(b.b,iJ(c.b)),!0)),tJ(nJ(b.a,iJ(c.a)),!0)),tJ(nJ(b.f,iJ(c.f)),!0));-1==Hb(hJ(b.a),function(a){return"rtx"==a.getName()})&&lV(a,"Video offer does not contain RTX codec.");b=EV(a,b);(c=b.b)&&(b=lK(b,kJ(c,Db(hJ(c),function(a){a=new SI(a);a.a=u([]);return new PI(a)}))));
a.j.j||(b=hK(b,null));a.b=b;a.f=null;return b},GV=function(a){var b=a.b;qV(a,"recv local description");kV(a,"Calling setLocalDescription");a.f=pU(a.a,"offer",b).then(function(){return kV(a,"Initial setLocalDescription offer succeeded")},function(b){kV(a,"Initial setLocalDescription offer failed with error="+b);if(b instanceof Id)throw b;a.dispatchEvent(new FV(19,a.g,b.toString()));throw b;})},EV=function(a,b){return iK(b,n(function(a){a=a.getName();return bb(a,"vp8")||bb(a,"h264-svc")||this.j.o&&
bb(a,"rtx")||!1||!1},a))};iV.prototype.Va=function(){if(this.B.sd||3!=this.Aa){if(Aj){var a=new C,b;for(b in this.A){var c=this.A[b],d=rV(this.o,b);d&&a.set(d,DT(c)||0)}this.dispatchEvent(new aL(this.g,mU(this.a)||0,a))}this.ba||(Ej?0:Ea()-this.F<Math.min(1E4,1E3))||(this.ba=!0,this.a.getStats().then(this.Za,void 0,this))}};
iV.prototype.Za=function(a){this.ba=!1;var b=null;if(Ej)b=a.result();else if(Aj)b=a;else return;HV(this,b);Aj||IV(this,b);a=Ea();1E4<=a-this.F&&(this.F=0==this.F?a:this.F+1E4,a=Fb(this.ea,function(a){return"v"==a.Z().a&&!a.ud()}),eV(this.K,b,!a,n(function(a){this.dispatchEvent(new JV(a))},this)))};
var IV=function(a,b){cV(a.K,b,n(function(a,b){this.dispatchEvent(new aL(this.g,0,b))},a))},HV=function(a,b){dV(a.K,b,n(function(a,b){this.dispatchEvent(new KV(a,b))},a))},rV=function(a,b){if(!a||!a.b)return null;a=iJ(a.b);if(a=Ib(a,function(a){return a.Qa()==b}))if(a=a.tb(),!Lb(a))return a[0];return null},LV=function(a,b){var c=a.a&&a.a.a.remoteDescription&&a.a.a.remoteDescription.sdp;t(b,function(b){qV(a,"recv candidate ");c?nU(a.a,b):a.Ba.push(b)},a)},MV=function(a){1==a.ha&&4!=a.Aa&&(a.la=ze(function(){1==
this.ha&&(lV(this,"Transport writable timeout failed, aborting."),this.dispatchEvent(new FV(27,this.g)),this.Ka||this.ob.then(function(a){ZN(a,3736)}))},55E3,a))},AV=function(a,b){null!=a.la&&(Ae(a.la),a.la=null,a.ha=b)};
iV.prototype.Ya=function(){kV(this,"ICE connection state changed to: "+this.a.a.iceConnectionState);if("disconnected"==this.a.a.iceConnectionState)qV(this,"transport not writable"),this.dispatchEvent(new NV(!1)),kV(this,"Initiating ICE restart"),this.f&&this.f.cancel(),this.f=CV(this,!0),yV(this);else if("connected"==this.a.a.iceConnectionState||"completed"==this.a.a.iceConnectionState)AV(this,2),qV(this,"transport writable"),this.dispatchEvent(new NV(!0))};
iV.prototype.Db=function(a){a=a.candidate;kV(this,"Got local ICE candidate: "+df(a));this.dispatchEvent(new OV(this.g,[a]));a=a.nc;qV(this,"send candidate "+a);"STUN"!=a&&(this.Ka=!0)};
var yV=function(a){if(a.a)if(a.f){var b=a.Lb++;kV(a,"Queuing renegotiation with id="+b);a.f=a.f.then(function(){kV(this,"Setting offer in renegotiation with id="+b);return PV(this,"offer",this.o)},void 0,a);a.f=Ej?a.f.then(function(){kV(a,"Creating answer for renegotiation with id="+b);return jU(a.a)}).then(function(){var c;c=a.b;var d=c.h,e=d.a,f=d.g;c=!e||f&&"actpass"!==f?c:a.j.a?nK(c,dJ(d,a.o.h.a>e?"active":"passive")):nK(c,dJ(d,"active"));kV(a,"Setting answer in renegotiation with id="+b);return pU(a.a,
"answer",c)}):a.f.then(function(){kV(a,"Creating and setting answer for renegotiation with id="+b);return lU(a.a)});a.f=a.f.then(function(){kV(this,"Renegotiation successfull with id="+b)},function(a){lV(this,"Renegotiation failed with id="+b+" with error="+a);if(a instanceof Id)throw a;this.dispatchEvent(new FV(19,this.g,a.toString()));throw a;},a)}else lV(a,"Attempting to reneogitate before offer is created."),Od("Attempting to reneogitate before offer is created.");else Nd()},QV=function(a,b){qV(a,
"recv remote description");var c=null==a.o;a.o=b;c?(MV(a),a.f=a.f.then(function(){return PV(this,"answer",b)},void 0,a).then(function(){kV(this,"Initial setRemoteDescription answer succeeded")},function(a){lV(this,"Initial setRemoteDescription answer failed for with error="+a);lV(this,"Initial local offer was "+this.a.a.localDescription.sdp);if(a instanceof Id)throw a;this.dispatchEvent(new FV(19,this.g,a.toString()));throw a;},a)):yV(a)},PV=function(a,b,c){var d=ec(iJ(c.f),function(a){return a.oc||
a.ga()},a);a.Ia=new C(d);c=RV(a,b,c);kV(a,"Calling setRemoteDescription with type="+b);return qU(a.a,b,c).then(function(){kV(this,"setRemoteDescription succeeded");t(this.Ba,function(a){nU(this.a,a)},this);this.Ba=[]},function(a){kV(this,"setRemoteDescription failed with error="+a);throw a;},a)},RV=function(a,b,c){if(c.f.b)c=mK(c,nJ(c.f,[]));else{var d=DJ(KJ(MJ(HJ(GJ(EJ(new CJ,"d"),"dataSendChannel"),"dataSendChannel"),[0]),"dataSendChannel")),e=iJ(c.f);e.push(d);c=mK(c,nJ(c.f,e))}(d=c.h.a)&&(c=nK(c,
dJ(c.h,"offer"==b?"actpass":a.j.a?d>a.b.h.a?"passive":"active":"passive")));Aj&&"answer"==b&&(a=a.a.a.localDescription,a=(new aM).parse(a.sdp),b=c.b.j&&a.b.m&&!Lb(iJ(c.b)),d=c.b.m&&a.b.j,c=lK(c,uJ(tJ(c.b,b),d)),b=c.a.j&&a.a.m&&!Lb(iJ(c.a)),d=c.a.m&&a.a.j,c=hK(c,uJ(tJ(c.a,b),d)));return c},SV=function(a){var b=a.a.a.getLocalStreams();t(b,function(a){xV(this,a)},a);a.Ca=!0},TV=function(a){a.Ca=!1;t(a.ea,function(a){(a=a.jb(this.g))&&wV(this,a)},a)};
iV.prototype.T=function(){for(var a in this.A){var b=this.A[a],c=this.N[a];c&&(delete this.N[a],jT(this.H,c,b));fd(b)}this.A={};fd(this.H);this.a&&(this.a.close(),this.a=null);this.m&&(this.m.close(),this.m=null);iV.S.T.call(this)};iV.prototype.yc=function(){qV(this,"recv view request")};
var BV=function(a,b){kV(a,"receive datachannel "+b.label+" created.");a.aa.set(b.label,b);b.onopen=n(function(a){kV(this,"receive datachannel "+a.label+" is open.")},a,b);b.onclose=n(function(a){kV(this,"receive datachannel "+a.label+" is closed.");this.aa.remove(a.label)},a,b);b.onerror=n(function(a,b){lV(this,"receive datachannel "+a.label+" threw error: "+b);this.aa.remove(a.label)},a,b);b.onmessage=n(a.Xa,a,b)};
iV.prototype.Xa=function(a,b){b=b.data;var c=this.Ia.get(a.label),c=c?c.M():a.label;kV(this,"dataReceived: participantId:"+c+" label:"+a.label+"data: "+b);null!=b&&this.dispatchEvent(new UV(this.g,c,a.label,b))};iV.prototype.Pa=function(a){a.target==this.a.a&&"closed"==this.a.a.signalingState&&this.dispatchEvent(new FV(4,this.g))};var KV=function(a,b){A.call(this,"pb");this.a=a;this.b=b};r(KV,A);var JV=function(a){A.call(this,"tb");this.a=a};r(JV,A);var zV=function(a){A.call(this,"ub");this.a=a};
r(zV,A);var OV=function(a,b){A.call(this,"rb");this.sessionId=a;this.a=b};r(OV,A);var pV=function(a,b){A.call(this,"qb");this.sessionId=a;this.message=b};r(pV,A);var NV=function(a){A.call(this,"wb");this.a=a};r(NV,A);var UV=function(a,b,c,d){A.call(this,"nb");this.sessionId=a;this.b=b;this.label=c;this.payload=d};r(UV,A);var FV=function(a,b,c){A.call(this,"ob");this.a=a;this.sessionId=b;this.dc=c};r(FV,A);var VV=function(a,b,c,d){HR.call(this);this.f=new yT("realtime.media.api.webrtc.LocalSession");this.b=a;this.a=b;this.u=d;this.j=new Xt(this);this.h(this.j);this.j.listen(this.a,"nb",this.Pk);this.j.listen(this.a,"ob",this.Qk);this.j.listen(this.a,"pb",this.Rk);this.j.listen(this.a,"qb",this.Sk);this.j.listen(this.a,"rb",this.Tk);this.j.listen(this.a,"tb",this.Vk);this.j.listen(this.a,"ub",this.Uk);this.j.listen(this.a,"wb",this.Wk);this.g="INITIAL";this.m=new mf;this.o=void 0};r(VV,HR);
var WV=function(a,b,c,d){a.g!=b&&(a.g=b,!l(a.o)&&l(c)&&(a.o=c),a.dispatchEvent(new qM(a.g,a.o,d)))};h=VV.prototype;h.getState=function(){return this.g};h.Ga=function(){return"INITIAL"!=this.g?(zT(this.f,"Called initialize in a bad state."),Od()):this.a.Ga()};h.Zb=function(){if("INITIAL"!=this.g)return zT(this.f,"Called prepare in a bad state."),!1;if(!this.a.b)return zT(this.f,"Prepare called before local offer has been generated."),!1;WT(this.u,this.b);GV(this.a);WV(this,"STARTING");return!0};
h.start=function(a){if("STARTING"!=this.g)return zT(this.f,"Called start in a bad state."),!1;Z(this.f,"sendLogComment: RemoteSessionId="+a.m);WV(this,"INPROGRESS");XV(this,a);return!0};h.connect=pa;h.update=function(a){switch(this.g){case "INITIAL":return zT(this.f,"Update called before started."),!1;case "STOPPED":return zT(this.f,"Update called after stopped."),!1}XV(this,a);return!0};
h.stop=function(a,b){if("STOPPED"==this.g)return!1;WV(this,"STOPPED",a,b);this.a.stopSession(this.o);YT(this.u,this.b);return!0};h.pause=function(){if("INPROGRESS"!=this.getState())return!1;SV(this.a);WV(this,"PAUSED");return!0};h.resume=function(){if("PAUSED"!=this.getState())return!1;TV(this.a);WV(this,"INPROGRESS");return!0};
var YV=function(a){var b=a.u;a=a.b;Z(b.a,"Log upload requested for sessionId="+a);b.w.add(a);b.m&&b.B.j.add(b.m,a);b.f?b.o():b.b&&b.b.then(b.o,void 0,b)},ZV=function(a,b){var c=b.Z().a;switch(a.g){case "STOPPED":case "FINISHED":return zT(a.f,"Add local stream called after ended."),null}if(a.m.contains(b))return a.f.error("Capture "+b+" has already been added."),null;b.Th(a.b);var d;d=a.a;kV(d,"Adding capture="+b);Nb(d.ea,b);d.u.listen(b,"ka",d.La);var e=b.jb(d.g);d=e?sV(d,e,b.Z()):uV(d,b.Z());if(null==
d)return a.f.error("A stream for capture of type: "+c+", was not created."),null;a.m.add(b);return d},$V=function(a,b){if("INPROGRESS"==a.g&&0!=b.length){var c=b[0];t(a.m.P(),function(a){if(c.W()==a.Z().a){var b=WH(c);if(b){var d=a.settings;d.minHeight=b.height;d.maxHeight=b.height;d.minWidth=b.width;d.maxWidth=b.width}if(b=c.a)d=a.settings,d.f=b,d.b=b}},a)}};h=VV.prototype;
h.Oh=function(a,b){if(null!=tV(this.a,"d")){var c=this.a;kV(c,"sendData: label:"+a+"data: "+b);var d=c.aa.get(a)||c.m;if(d){var e=d.readyState;"open"==e?d.send(b):kV(c,"Message dropped: dataChannel "+a+" is in "+e+" state")}else lV(c,"Unknown dataChannel for label "+a+", cannot send data: "+b)}else zT(this.f,"Sending data without data stream.")};h.Rk=function(a){this.dispatchEvent(new JR(a.a,a.b))};h.Tk=function(a){a.sessionId==this.b&&this.dispatchEvent(new KR(a.a))};
h.Sk=function(a){a.sessionId==this.b&&this.dispatchEvent(new MS(a.message))};h.Vk=function(a){this.dispatchEvent(new LR(a.a))};h.Uk=function(a){this.dispatchEvent(new MR(0,a.a))};h.Qk=function(a){a.sessionId==this.b&&this.stop(a.a,a.dc)};h.Wk=function(a){this.dispatchEvent(new OR(a.a))};h.Pk=function(a){this.b==a.sessionId&&this.dispatchEvent(new NR(a.b,a.label,a.payload))};h.ug=function(a){var b=iJ(this.a.b.f);Fb(b,function(b){return b.oc==a.Vb()})||(b.push(this.A(a)),this.f.error("Ignoring post-setup addDataChannel call!"))};
var XV=function(a,b){if(null!=b.g.get("collections")&&null!=b.f){var c=Db(b.g.P(),a.A,a),c=nJ(b.f,Ub(iJ(b.f),c));b=mK(b,c)}Z(a.f,"Session "+a.b+" setting remote descriptions: "+df(jK(b)));QV(a.a,b)};VV.prototype.A=function(a){var b=a.a,c=a.Vb()||"local_push_channel",d=a.getChannelId()||"",c=HJ(GJ(FJ(EJ(new CJ,"d"),d),c),b.toString());c.h.push(b);return DJ(KJ(c,a.Vb()))};var aW=function(){this.g=null};r(aW,pD);sr(aW,pD);aW.prototype.b=function(a,b){return L(b,vx,13)};aW.prototype.j=function(a,b,c){if(c)return new ET(c||I(b,6),b.h,void 0,I(b,1),I(b,5));this.g||(this.g=new ET(I(b,6),b.h,void 0,I(b,1),I(b,5)));return this.g};aW.prototype.h=function(a,b){return b.v};aW.prototype.f=function(a,b){return b.j};var bW=function(a){this.a=new GK;this.cb=null;this.j=uM(a,lD).then(function(a){return this.cb=a},null,this);this.te=null;this.o=uM(a,dK,hV).then(function(a){return this.te=a},null,this);this.g=Qa();this.m=this.g.a;this.f=null;this.b=!1;this.Re=[];this.jf=this.h=!1},cW=function(a){YL(a,aK)||a.b(aK,new bW(a))},eW=function(a){a.jf||dW(a);return a.f||!1},fW=function(a,b){a.cb?b():a.j.then(b)},gW=function(a,b){a.te?b():a.o.then(b)};bW.prototype.Gk=function(a){hW(this,a);iW(this,a)};
bW.prototype.th=function(a){iW(this,a);Rb(this.Re,a)};var dW=function(a,b){fW(a,n(function(){this.jf=!0;this.b=null;var a=Qa();a.a.then(n(this.v,this),n(this.w,this,b));var d=I(this.cb,10);if(null!=d){null!=b&&(d=Rc(d,"set",String(b)));var e=kf(hf);e.open("GET",d,!0);e.onreadystatechange=function(){4==e.readyState&&(200==e.status?a.resolve(e.responseText):a.b(null))};e.send(null)}else a.b(null)},a))};bW.prototype.v=function(a){this.b="true"==a;jW(this)};
bW.prototype.w=function(a){this.b=k(a)?a:eW(this);jW(this)};
var jW=function(a){a.g.resolve();null===a.f&&(a.f=a.b,t(a.Re,function(a){kW(a.a,eW(this))},a));a.b!=a.f&&dW(a,eW(a))},hW=function(a,b){if(!a.h){a.h=!0;var c=lW(a);null!=c&&(null!=I(c,8)&&3456E5>Ea()-I(c,1)&&mW(a,c),b=b.Ua,c.V()==b.get()&&6E4>Ea()-I(c,1)&&a.m.then(function(){eW(this)&&gW(this,n(function(){t(M(c,zx,7)||[],function(a){I(a,2);c.V()},this)},this))},void 0,a))}},nW=function(a,b){a+=b;b=new dI;b.update(a,a.length);return String.fromCharCode.apply(String,b.digest())},mW=function(a,b){if(null!=
I(b,4)&&null!=I(b,5)&&null!=I(b,6)&&0!=(M(b,zx,7)||[]).length){var c=oW(a,b);t(M(b,zx,7),function(a){bT(c,pW(this,b,a),I(a,1))},a)}},qW=function(a){var b=lW(a);if(null==b||null==I(b,4)||null==I(b,5)||null==I(b,6)||0==(M(b,zx,7)||[]).length)return[];var c=oW(a,b);return Db(M(b,zx,7),function(a){return $S(c,pW(this,b,a),I(a,1))},a)},oW=function(a,b){return new ZS(a.cb.o,I(b,11)||I(b,6),I(b,4),I(b,5)||0,void 0,I(b,9)||I(a.cb,1))},pW=function(a,b,c){var d=new DO,e=(new Date(I(b,1))).toString();K(d,2,
e);e=I(b,8);K(d,30,e);K(d,3,-2);c=I(c,1);K(d,1,c);c=new zR;N(c,4,d);c.R(b.V());d=I(a.cb,14);K(c,11,d||[]);a=I(a.cb,8);K(c,12,a);a=I(b,6);K(c,14,a);a=I(b,10);K(c,16,a);a=I(b,12);K(c,22,a);b=I(b,13);K(c,23,b);return c},lW=function(a){if(!a.a.isAvailable())return null;var b=a.a.get("report_luak");a.a.remove("report_luak");if("hc:rc"!=cf(b||"[]")[0])return null;b=new yx(cf(b));return I(b,2)==nW(I(a.cb,7),I(b,1))?b:null},iW=function(a,b){if(a.a.isAvailable()){var c=new yx;c.R(b.Ua.get());var d=Ea();K(c,
1,d);Bx(c,nW(I(a.cb,7),d));Cx(c,I(a.cb,2));Dx(c,I(a.cb,5));K(c,6,b.K);Fx(c,I(a.cb,6));var e=[];Ha(rW(b.a),function(a,b){var c=new zx;K(c,1,a);K(c,2,b);e.push(c)});0!=e.length&&(Ys(c,7,e),d=b.onDisconnect,d.a&&Ex(c,d.get()),b=b.ba,(d=b.h)&&K(c,10,d),(d=b.a)&&K(c,12,d),(b=b.b)&&K(c,13,b),a.a.set("report_luak",c.ka()))}};var tW=function(a,b,c){return sW(a,b,[c],new yr(Ny,[Ny.prototype.V],[Ny.prototype.R],[Ny.prototype.M,Ny.prototype.ga],[Ny.prototype.na,Ny.prototype.vf],jw,[jw.prototype.V],[jw.prototype.R],[jw.prototype.M,jw.prototype.ga],[jw.prototype.na,jw.prototype.gl]),PU,"s")},sW=function(a,b,c,d,e,f){var g=nD.U();e=new e(oD(g,a,b));f=new Yp(g.ma.h(a,b),f);return new qB(0,g.ma.b(a,b),c,d,e,f,g.ma.f(a,b))};var uW=function(a,b,c){var d=BR(),e=nD.U(),f=new UL;a=new qB(0,e.ma.b(a,b),c,d,f);return f.b=a};var wW=function(a,b,c,d,e){ES.call(this);this.l=If("realtime.media.session.SessionImpl");this.f=b.ma.Ad("realtime.media.session.SessionImpl");Z(this.f,"Creating a new session with localSessionId="+c.b+" remoteSessionId="+vW(d)+" earlyMediaHangoutId="+e.b+" P2P="+e.a+" useAudio=true useVideo="+e.j);this.Id=uM(a,cK,YN);this.j=new Xt(this);this.h(this.j);this.a=c;this.h(this.a);this.j.listen(this.a,"pa",this.Nd);this.j.listen(this.a,"ra",this.Od);this.j.listen(this.a,"qa",this.Mk);this.j.listen(this.a,
"Ea",this.Jk);this.j.listen(this.a,"ta",this.Lk);this.j.listen(this.a,"sa",this.Kk);this.j.listen(this.a,"fa",this.uh);this.j.listen(this.a,"va",this.cl);this.b=d;this.h(this.b);this.j.listen(this.b,"fa",this.Ah);this.j.listen(this.b,"Ca",this.Al);this.j.listen(this.b,"Ha",this.Nk);this.j.listen(this.b,"za",this.Xk);this.j.listen(this.b,"Aa",this.Yk);this.j.listen(this.b,"ya",this.Bl,!0);this.Aa=this.Bb=!1;this.Xa=[];this.Ya=Qa();this.Ld=Qa();this.g=e;this.Jd="";this.u={};this.N=this.K=null;this.X=
new C;this.m=this.Ca=null;this.Sa=[];this.ja=[];this.o=[];this.La={};this.ea=new jq(20);this.A=this.la=null;this.Ia=this.Ba=this.ha=Ea();this.Eb=this.Db=!1;this.aa=!0;this.H=this.Md=!1;this.Lb=0;this.Kd=b;a=(a=b.b)&&L(a,EB,19)||new EB;this.Ka=void 0;this.ob=new CR(a);this.j.listen(this.ob,"oa",this.Hk);this.ba=Qa();this.bb=this.F=null;this.B=[]};r(wW,ES);var xW=new iq(1280,720);h=wW.prototype;h.Ph=function(a,b){this.a.Oh(a,b)};h.Ga=function(){return this.a.Ga().then(this.Ik,null,this)};
h.Ik=function(a){this.Aa=!0;t(this.ja,function(a){yW(this,a)},this);this.ja=[];return a};
h.Zb=function(a){if("INITIAL"!=this.getState())return E(this.l,"Starting session after already started."),!1;zW(this,"STARTING");if(!this.a.a.b)return zT(this.f,this.a.b+" preparation failed because local session failed to create an offer."),!1;null!=a&&(a=a.g.get("msodc"),null!=a&&this.a.ug(a));if(!this.a.Zb())return zT(this.f,this.a.b+" preparation failed because because local session failed to prepare."),!1;a=this.a;var b=this.g.u;Z(a.f,"enableRtpHeaderDump called with enable="+b+" for sessionId="+
a.b);UT(a.u,a.b,b);this.g.b&&this.g.g.length&&Z(this.f,"Request early media for hangout "+this.g.b);return this.b.Zb(null!=this.g.b&&0<this.g.g.length?this.g.b:null)?!0:(zT(this.f,"Failed to prepare session because remote session failed to prepare."),!1)};
h.start=function(a){this.Bb=!0;if("INITIAL"==this.getState()&&!this.Zb(a))return!1;this.Ca=a;Z(this.f,this.da()+" starting with remote description: "+df(a));var b=a.b;null!=b&&(a=lK(a,xJ(b)),this.Xa=hJ(b),this.dispatchEvent(new KS));a=iK(a,function(a){return!bb(a.getName(),"h264")});this.m=a=AW(this,a);b=a.m;if(null==b)return E(this.l,"Received remote description without session id."),this.stop(16),!1;t(this.Sa,function(b){a=qK(a,b.vg,b.Vh)},this);Mb(this.Sa);this.oa(b);this.b.start(b);this.a.start(a);
$V(this.a,this.B);zW(this,"STARTED");b=BW(a);0<b.length&&LV(this.a.a,b);CW(this);DW(this);this.Ya.resolve();this.g.h&&this.g.f&&YV(this.a);return!0};h.pc=function(){this.b.pc();this.a.pc()};h.Zd=function(a,b,c){Z(this.f,"Connecting session "+this.a.b+" to hangout id: "+a);this.Jd=b;this.a.R(a);this.a.connect();this.b.Zd(a,b,c);this.Ya.a.then(function(){EW(this.b,this.Kd.ma.Af()||null)},null,this)};
h.pause=function(){Z(this.f,"Attempting to pause session "+this.a.b);if("INPROGRESS"!=this.getState())return!1;t(this.o,function(a){"d"!=a.getInfo().W()&&a.Ha("bb")});if(!this.a.pause())return this.f.error("Failed to pause session "+this.a.b),!1;Ae(this.A);this.A=null;zW(this,"PAUSED");return!0};
h.resume=function(){Z(this.f,"Attempting to resume session "+this.a.b);if("PAUSED"!=this.getState())return!1;if(!this.a.resume())return this.f.error("Failed to resume session "+this.a.b),!1;this.b.resume();t(this.o,function(a){"d"!=a.getInfo().W()&&a.Ha("ab")});this.dispatchEvent("Ka");zW(this,"INPROGRESS");this.dispatchEvent(new JS([],[],this.da()));CW(this);return!0};
h.stop=function(a,b){if("STOPPED"==this.getState()||"FINISHED"==this.getState())return Z(this.f,this.a.b+" ignoring call to stop with endCause: "+a+" and debug information: "+b+", because it has already stopped."),!0;Z(this.f,this.a.b+" stopping because stop called with endCause: "+a+" and debug information: "+b);this.j.v(this.a,"fa",this.uh);this.j.v(this.b,"fa",this.Ah);this.j.v(this.K,"da",this.sc);this.j.v(this.N,"da",this.tc);var c;if(c=this.g.f)a:switch(a){case 3:case 8:case 10:case 102:case 13:case 58:case 19:case 15:case 16:case 17:case 23:case 26:case 28:case 29:case 32:case 33:case 34:c=
!0;break a;default:c=!1}c&&YV(this.a);Ae(this.A);this.A=null;this.a.stop(a);this.b.stop(a,b);zW(this,"STOPPED",a,b);Xd(Be(2E3),this.ba.resolve,this.ba);return!0};h.T=function(){this.stop(this.Bb?6:72);Xd(this.ba.a,B.prototype.T,this)};
var yW=function(a,b){switch(a.getState()){case "STOPPED":case "FINISHED":return E(a.l,"Adding stream after end."),!1}if(!a.Aa)return a.ja.push(b),!0;var c=b.Z(),d=a.u[FW(c)];if(d)return b.Zl(),GW(d,"X"!=c.fb()),!1;d=ZV(a.a,b);if(null==d)return!1;"v"==c.a&&a.Ya.a.then(function(){var a=[];if(this.g.a){var b=this.m.a;null!=b&&(a=u(b.g))}else a.push(new VH("","","v",xW,30,!0,this.b.a||void 0));0<a.length&&HW(this,a)},null,a);IW(a.b,[d]);"v"==c.a&&a.j.listen(c,"V",a.mc);d=LT(b,a.da(),d);a.u[FW(c)]=d;a.dispatchEvent(new JS([d.getInfo()],
[]));a.j.listen(b,"ia",a.Mb);Z(a.f,a.da()+" successfully added capture: "+df(rO(b)));return!0};wW.prototype.mc=function(a){a=a.target;if("X"==a.fb())a=a.getId(),GW(this.u[a+"W"],!1),JW(this.b);else if("W"==a.fb()){var b=this.u[FW(a)];GW(b,!0);KW(this.b);LW(this.b,this.u[FW(a)].getInfo())}};
var NW=function(a,b){Z(a.f,a.a.b+" now has these participants: "+df(b));if(a.g.a){if(2<b.length){a.stop(51);return}if(2>b.length&&"INPROGRESS"==a.getState()){a.stop(52);return}}MW(a.b,b)},zW=function(a,b,c,d){Z(a.f,a.a.b+" changed state from "+a.getState()+" to "+b);d&&Z(a.f,"State change due to "+d);a.Pa!=b&&(a.Pa=b,a.vc=c,a.dispatchEvent(new qM(b,c,d)))};
wW.prototype.yc=function(a){switch(this.getState()){case "STOPPED":case "FINISHED":return E(this.l,"Changing stream requests after end."),!1}a=Cb(a,function(a){return null==OW(this,new qL(a.M(),a.ga(),a.W()))},this);t(a,function(a){Z(this.f,this.da()+" received stream request for DOWN stream from UI: "+a)},this);if(null!=this.K)return oM(this.K,a),!0;PW(this,a);return!0};wW.prototype.sc=function(a){QW(this,a.a);PW(this,a.a)};
var PW=function(a,b){a.b.yc(b);a.La={};t(b,function(a){if(a.b){var b=a.M();a=a.ga();this.La[b+a]=!0}},a);t(a.o,a.Za,a)};wW.prototype.Za=function(a){var b=a.M(),c=a.ga(),b=this.La[b+c]||!1;b!=a.a&&(a.a=b,a.dispatchEvent("ha"))};var QW=function(a,b){for(var c=0;c<b.length;c++)if(null!=b[c].tb())for(var d=b[c].tb(),e=0;e<d.length;e++){var f=d[e];null===f||a.X.set(f,0)}},HW=function(a,b){F(a.l,"Stream Requests for UP streams received from remote side: "+df(b));null!=a.N?oM(a.N,b):RW(a,b)};
wW.prototype.Mb=function(a){var b=a.target;a=b.ud();b=b.Z();(b=this.u[FW(b)])?(a=DJ(IJ(new CJ(b.getInfo()),a)),b.b=a,LW(this.b,a)):zT(this.f,this.da()+" muted unknown capture.")};var GW=function(a,b){a&&(b=DJ(JJ(new CJ(a.getInfo()),b)),a.b=b)};wW.prototype.tc=function(a){RW(this,a.a)};
var RW=function(a,b){var c=Cb(b,function(a){a=a.h;return!(null!=a&&this.b.a!=a)},a);0!=c.length&&(QW(a,c),a.B=Ub(Cb(a.B,function(a){return-1==Hb(c,function(b){return a.W()==b.W()&&a.ga()==b.ga()})},a),Cb(c,function(a){return a.b},a)),F(a.l,"Sending stream requests for UP streams to local session: "+df(a.B)),$V(a.a,a.B),a.m&&a.m.a&&(b=rJ(a.m.a),a.m=SW(a,a.m),a.m&&a.m.a&&rJ(a.m.a)!=b&&a.a.update(a.m,[])))},SW=function(a,b){if(!(Ej&&0<=qb(Kn,56)&&a.g.K))return b;a=Ib(a.B,function(a){return!db(a.ga())&&
!!WH(a)},a);if(!a)return b;a=WH(a);var c=3150;57600>=a.height*a.width&&(c=150);return hK(b,qJ(b.a,c))};wW.prototype.jb=function(a){var b=OW(this,a);return null!=b?b:Jb(this.o,function(b){b=b.getInfo();return b.M()==a.M()&&b.W()==a.a&&b.ga()==a.getId()},this)};wW.prototype.Va=function(){var a=wW.S.Va.call(this),b=this.Kd.ma.Af()||null;Wa(a,{audioOptions:cI(),systemInfo:b?b.ka():"Unavailable"});return a};
var OW=function(a,b){if(b.M()!=a.Jd&&""!=b.M())return null;a=Cb(Ka(a.u),function(a){a=a.a.Z();return b.getId()==a.getId()&&b.a==a.a});return 1<a.length?Ib(a,function(a){return"X"==a.a.Z().fb()}):1==a.length?a[0]:null},FW=function(a){return a.getId()+a.fb()};wW.prototype.da=function(){return this.a.b};var BW=function(a){return(a=a.h)?u(a.h):[]};
wW.prototype.Od=function(a){switch(this.getState()){case "INITIAL":E(this.l,"Received local candidates before starting.");return;case "STOPPED":case "FINISHED":E(this.l,"Received local candidates after stopped.");return}t(a.a,function(a){2!=a.bc&&(this.g.a&&"UDP"!=a.lc||0>Hb(this.ea.P(),function(b){return b==a?!0:b&&a?b.bc===a.bc&&b.Sc===a.Sc&&b.nc===a.nc&&b.lc===a.lc&&b.Jc===a.Jc&&b.za===a.za&&b.kd===a.kd&&b.Cc===a.Cc&&b.xd===a.xd&&b.Dd===a.Dd&&b.Ed===a.Ed:!1})&&this.ea.add(a))},this);null==this.la&&
(this.la=ze(function(){this.Ld.a.then(this.Pd,null,this);this.la=null},500,this))};wW.prototype.Pd=function(a){Z(this.f,this.da()+" Sending local ICE candidates over to the other side: "+df(this.ea.P()));this.dispatchEvent(new LS(this.ea.P(),a))};
var TW=function(a,b){(b=OO(b))&&t(b,function(a){if(a&&I(a,1)==YO.Aj){var b=!1,c=I(a,53)[0];if(I(a,24)==ZO.yj){var f=Jb(this.o,function(a){return a.getInfo().Qa()==c},this);f&&(b=!f.getInfo().fe())}else I(a,24)==ZO.zj&&(f=Na(this.u,function(a){return a.getInfo().tb()[0]==c},this))&&(b="X"==f.a.Z().fb());K(a,59,b)}},a)};h=wW.prototype;h.Hk=function(a){this.dispatchEvent(new HS(a.id))};
h.Lk=function(a){if(null!=a.a){var b=OO(a.a);if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(null!=d&&2==I(d,1)){var e=null!=I(d,65)?I(d,65):0;if(null!=I(d,25)&&null!=this.X.get(I(d,25)))e|=this.X.get(I(d,25));else if(null!=I(d,53))for(var f=I(d,53),g=0;g<f.length;g++)if(null!=f[g]&&null!=this.X.get(f[g])){e|=this.X.get(f[g]);break}K(d,65,e)}}TW(this,a.a);this.Ka=a.a;this.aa||(this.aa="PAUSED"!=this.getState());this.aa&&0>=--this.Lb&&(this.Lb=1,b=this.b,c=a.a,d=b.a,e=b.m,null!=d?null!=e?(c=UW(b,
c),b.Ba=c,VW(b,d,e,c)):E(b.l,"Upload log data before we have a hangoutId."):E(b.l,"Upload log data before we have a sessionId."),this.Ka=void 0,this.aa="PAUSED"!=this.getState());a:if(b=this.ob,a=OO(a.a),null!=a){for(c=0;c<a.length;++c)if(0==I(a[c],24)&&2==I(a[c],1)&&(0==I(a[c],57)||0==I(a[c],58))){b.g=J(b.a,3,0);break a}for(c=0;c<a.length;++c)switch(I(a[c],24)){case 2:d=b,e=a[c],0<d.g?--d.g:I(e,40)<J(d.a,1,6E4)?d.b||(++d.f,d.f>=J(d.a,2,1)&&(d.dispatchEvent(new DR(0)),d.b=!0)):(d.b&&(d.dispatchEvent(new DR(1)),
d.b=!1),d.f=0)}}this.dispatchEvent(new FS)}};h.Kk=function(a){WW(this.b,a.b,a.a,this.Ka)};h.Jk=function(a){Z(this.f,this.da()+" latency event: "+a.message);"transport writable"==a.message?(this.Md=!0,this.H||ze(this.sk,1E4,this),this.dispatchEvent(new JS([],[],this.da())),DW(this)):"render first video frame"==a.message?(this.H=!0,DW(this)):"transport not writable"==a.message&&(this.g.a?this.stop(10,"P2P session ending. Falling back to cloud."):this.pc())};h.sk=function(){this.H||(this.H=!0,DW(this))};
var DW=function(a){"STARTED"==a.getState()&&a.Md&&a.H&&zW(a,"INPROGRESS")};wW.prototype.Nd=function(a){switch(a.label){case "collections":this.dispatchEvent(new cL(a.payload));break;case "msodc":this.b.Lb(a.label,a.payload);break;case "dataSendChannel":this.f.error("Received data on the broadcast data channel. Data:"+a.payload);break;default:this.dispatchEvent(new bL(a.b,a.payload))}};var CW=function(a){a.A=ze(a.mk,5E3,a)};h=wW.prototype;
h.Mk=function(a){if(null!=this.A){a.a!=this.Db&&(a.a?Z(this.f,this.da()+" started receiving audio"):zT(this.f,this.da()+" stopped receiving audio!"),this.Db=a.a);a.b!=this.Eb&&(a.b?Z(this.f,this.da()+" started receiving video"):zT(this.f,this.da()+" stopped receiving video!"),this.Eb=a.b);var b=Ea();a.a&&(this.Ba=b);a.b&&(this.Ia=b);if(a.a||a.b)Ae(this.A),this.A=null,CW(this)}};
h.mk=function(){var a=Ea(),b=(a-this.Ba)/1E3,a=(a-this.Ia)/1E3;this.dispatchEvent(new GS(this.b.a));this.Ba==this.ha?Z(this.f,this.da()+" has never received audio"):5E3<b&&Z(this.f,this.da()+" has not received audio for "+b+" seconds");this.Ia==this.ha?Z(this.f,this.da()+" has never received video"):5E3<a&&Z(this.f,this.da()+" has not received video for "+a+" seconds");CW(this)};
h.uh=function(a){if("STOPPED"==this.a.getState()){F(this.l,"Stopping session because local session stopped with endCause: "+a.a);switch(this.getState()){case "INITIAL":E(this.l,"Local session stopped before starting.");zW(this,"STOPPED",a.a,a.dc);return;case "STOPPED":E(this.l,"Local session stopped after already stopped.");return}this.stop(a.a,a.dc)}};
h.Ah=function(a){if("STOPPED"==this.b.getState()){switch(this.getState()){case "INITIAL":E(this.l,"Remote session stopped before starting.");return;case "STOPPED":E(this.l,"Remote session stopped after already stopped.");return}this.stop(a.a,a.dc)}};
h.cl=function(a){Z(this.f,this.da()+" transport state event: transport IS "+(a.a?"":"NOT ")+"writable");if(a.a){if(null!=this.F){var b=Math.round((Ea()-this.bb)/1E3);Ae(this.F);this.F=null;this.Id.then(function(a){ZN(a,3062,this.b.a||void 0,void 0,void 0,void 0,b)},null,this)}}else null==this.F&&(this.bb=Ea(),this.F=ze(n(this.stop,this,10),4E4),this.Id.then(function(a){ZN(a,3061)},null,this))};h.Al=function(a){this.dispatchEvent(a)};
var ZW=function(a,b){switch(a.getState()){case "INITIAL":case "STARTING":E(a.l,"Remote description changed before starting.");return;case "STOPPED":case "FINISHED":E(a.l,"Remote description changed after end.");return}if(XW(a.Ca,b)){a.Ca=Ta(b);Z(a.f,a.da()+" received modified remote description: "+df(b));var c=BW(b);0<c.length&&LV(a.a.a,c);b=YW(b);b=SW(a,b);b=iK(b,function(a){return!bb(a.getName(),"h264")});a.m=oK(nK(a.m,b.h),u(b.j));a.m=rK(a.m,b);b=a.m.b;null!=b&&(a.Xa=hJ(b),a.dispatchEvent(new KS));
null==b&&null==a.m.a||a.a.update(a.m,[])}};wW.prototype.oa=function(a){null!=a&&null==this.b.a&&(this.b.oa(a),this.Ld.resolve(a),Z(this.f,"Session IDs are now set: LocalSession ID: "+this.da()+", RemoteSession ID: "+vW(this.b)),Z(this.f,"Note: Session "+this.da()+" is not yet active."))};
var XW=function(a,b){if(null!=a){var c;if(!(c=$W(a.b,b.b)||$W(a.a,b.a))){c=a.h;var d=b.h;if(null==c&&null==d)c=!1;else{var e;if(!(e=null==c||null==d||c.ub()!=d.ub()||c.f!=d.f||c.b!=d.b))a:if(c=u(c.h),d=u(d.h),c.length!=d.length)e=!0;else{for(e=0;e<c.length;e++){var f=c[e],g=d[e];if(f.bc!=g.bc||f.Sc!=g.Sc||f.nc!=g.nc||f.lc!=g.lc||f.Jc!=g.Jc||f.ua()!=g.ua()||f.kd!=g.kd||f.Cc!=g.Cc||f.xd!=g.xd||f.Dd!=g.Dd||f.Ed!=g.Ed){e=!0;break a}}e=!1}c=e?!0:!1}}if(!c)a:if(a=u(a.j),b=u(b.j),a.length!=b.length)c=!0;
else{for(c=0;c<a.length;c++)if(d=a[c],e=b[c],d.a!=e.a||d.f!=e.f||d.h!=e.h||d.b!=e.b){c=!0;break a}c=!1}b=c}else b=!0;return b},$W=function(a,b){if(null!=a||null!=b)if(null!=a&&null!=b){var c;a:{c=hJ(a);var d=hJ(b);if(c.length!=d.length)c=!0;else{for(var e=0;e<c.length;e++){var f=c[e],g=d[e];if(f.a!=g.a||f.getName()!=g.getName()||f.g!=g.g||f.f!=g.f||f.b!=g.b){c=!0;break a}}c=!1}}if(!c)a:if(a=u(a.f),b=u(b.f),a.length!=b.length)c=!0;else{for(c=0;c<a.length;c++)if(d=a[c],e=b[c],d.a!=e.a||d.getId()!=e.getId()){c=
!0;break a}c=!1}b=c}else b=!0;else b=!1;return b};h=wW.prototype;h.Nk=function(){"STOPPED"!=this.getState()?E(this.l,"Logging finished before media stopped!"):(zW(this,"FINISHED"),this.ba.resolve())};
h.Bl=function(a){switch(this.getState()){case "INITIAL":zT(this.f,"Received remote streams before starting.");return;case "STOPPED":case "FINISHED":E(this.l,"Received remote streams after end.");return}var b=Cb(a.b,function(a){return a.W(),!0},this);if(0<b.length||0<a.removed.length)"STARTING"==this.getState()?(Z(this.f,this.da()+" queuing stream changes:."),this.Sa.push({vg:b,Vh:a.removed})):(Z(this.f,this.da()+" sending stream adds."),this.m=qK(this.m,b,a.removed),this.a.update(this.m,a.removed));
t(a.removed,this.Il,this);t(a.a,this.bm,this);t(b,this.Rj,this);(0<a.removed.length||0<a.a.length||0<b.length)&&this.dispatchEvent(new JS(Ub(b,a.a),a.removed))};h.Rj=function(a){a=new sM(0,a);this.Za(a);this.o.push(a)};h.bm=function(a){var b=Hb(this.o,function(b){return BJ(b.getInfo(),a)},this);if(-1==b)E(this.l,"Tried to update non-existant remote stream: "+a);else{var c=new sM(0,a);this.Za(c);this.o[b]=c}};
h.Il=function(a){var b=Hb(this.o,function(b){return BJ(b.getInfo(),a)},this);if(-1==b)E(this.l,"Tried to remove non-existant remote stream: "+a);else{var c=this.o[b];Qb(this.o,b);c.Ha("bb")}};h.Xk=function(a){switch(this.getState()){case "INITIAL":zT(this.f,"Received remote stream requests before starting.");return;case "STOPPED":case "FINISHED":E(this.l,"Received remote stream requests after end.");return}HW(this,a.a)};h.Yk=function(a){this.Ph(a.label,a.payload)};
var aX=function(a,b){if(null!=b){Z(a.f,a.da()+" setting audio options to: "+df(cI()));var c=Sa(a.g);c.F=b;a.g=c;a.m=YW(a.m);b=a.m;null!=b.b&&XV(a.a,b)}},YW=function(a){var b=a.b,c=hJ(b),d=Hb(c,function(a){return RI(a,"OPUS")});if(-1!=d){var e=!(Ej&&!(0<=qb(Kn,"48")));c[d]=new PI(YI(YI(YI(new SI(c[d]),"stereo","0"),"useinbandfec","1"),"usedtx",e?"1":"0"));b=kJ(b,c)}return lK(a,b)},AW=function(a,b){if(b.b&&gJ(b.b)!=gJ(a.a.a.b.b)){var c=gJ(a.a.a.b.b);b=lK(b,oJ(b.b,c))}b.a&&gJ(b.a)!=gJ(a.a.a.b.a)&&(c=
gJ(a.a.a.b.a),b=hK(b,oJ(b.a,c)));b.f&&gJ(b.f)!=gJ(a.a.a.b.f)&&(c=gJ(a.a.a.b.f),b=mK(b,oJ(b.f,c)));return b};wW.prototype.toString=function(){return"Session(Id="+this.b.a+" p2p="+this.g.a+" useAudio=true useVideo="+this.g.j+")"};var bX=function(){};r(bX,pD);sr(bX,pD,10);bX.prototype.j=function(a,b,c,d){return d?new VB(a):null};var cX=function(a){SU.call(this,a);this.g=new nt;this.f=!1;this.h=new TT(this.sa);this.j=new IU};ka(cX,SU);h=cX.prototype;h.Ga=function(){var a=this;return this.b.f.a.then(function(b){return a.h.Ga(I(b,7))}).then(function(b){a.f=7==b;ER=I(a.sa.get(lD),11);return b})};h.xe=function(){return this.f};
h.Af=function(){if(this.xe()){var a=new zR,b=new IM;K(b,1,"11.0.0.0");N(a,7,b);var b=this.j,c=new ZM,d="other";qc?d="windows":pc?d=-1!=oc.indexOf("Intel")?"mac":"mac-ppc":0<=ub.indexOf("CrOS")?d="cros":rc&&(d="linux");K(c,1,d);K(c,14,$J);d="Other";hc?d="Opera":ic?d="Internet Explorer":Aj?d="Firefox":Ej?d="Chrome":Fj&&(d="Safari");K(c,15,d);K(c,16,Kn);-1!=oc.indexOf("armv7l")?K(c,5,"ARM"):(K(c,2,6),K(c,3,14),K(c,5,"GenuineIntel"),d=LU(b,b.a),K(c,18,d),c.h(b.a.numOfProcessors));N(a,8,c);return a}};
h.Ad=function(a){return this.xe()?new yT(a):null};h.Hh=function(a,b,c){if(this.xe()){a.get(lD);var d=JN(a,fT);null==d&&(d=new eT,a.b(fT,d));a=new iV(a,b,this.g,d,c);b=new VV(b,a,0,this.h);b.h(a);return b}return null};sr(cX,SU,6);var eX=function(a,b){IT.call(this,a,dX);this.F=b};ka(eX,IT);eX.prototype.u=function(){PT(this,this.F.clone());return Nd()};var dX=new fK(!1,30,320,180,30,640,360);var gX=function(a,b,c,d,e,f){B.call(this);this.l=If("realtime.media.api.apiary.RemoteSession");this.g=b.ma.Ad("realtime.media.api.apiary.RemoteSession");this.ja=a;this.ha=b.b;this.la=c;this.B=this.A=this.m=this.Ia=this.a=null;this.X=d;this.X.o=8;this.X.B=3E3;this.N=e;this.K=f;Z(this.g,"Creating a new remote session with earlyMediaHangoutId="+f.b+" P2P="+f.a+" useAudio=true useVideo="+f.j);this.f=this.b=null;this.bb=!1;this.H=new Xt(this);this.h(this.H);this.u=new kS;this.j="INITIAL";this.Ca=[];this.ea=
[];this.aa=[];this.ba={};this.F={};this.o={};this.Xa={};this.Aa=Qa();this.Va=Qa();this.Pa=new mf;this.Ba=null;ZL(a);a.g(bK).then(function(a){var b=[$L(a,"mediaSessionStartTime",n(this.Sa,this)),$L(a,"mediaUpStreams",n(this.Eb,this)),$L(a,"mediaDownStreams",n(this.Bb,this)),$L(a,"mediaPerfDataPoint",n(this.Db,this))];ed(this,function(){t(b,a.f,a)})},function(a){E(this.l,"Error getting DiagnosticDataService: "+a)},this);this.Za=Qa();this.Za.a.then(function(){fX(this)},null,this)};r(gX,PR);
gX.prototype.Sa=function(){return(new Date(this.La)).toString()};gX.prototype.Eb=function(){return null!=this.b?cA(this.b):null};gX.prototype.Bb=function(){return null!=this.f?cA(this.f):null};gX.prototype.Db=function(){return null!=this.Ba?this.Ba.ka():null};var hX=function(a,b,c,d){a.j!=b&&(Z(a.g,"Session "+vW(a)+" state changed from "+a.j+" to "+b),a.j=b,a.dispatchEvent(new qM(b,c,d)))};gX.prototype.getState=function(){return this.j};
var jX=function(a,b,c){var d=a.f,e=gt(d.g);e.oa(b);e.R(c);c=d.start(e);iX(a);a.K.a||Yd(DS(c,"Xa",b,a),function(){this.g.error("Stopping session "+vW(this)+" because downstream search failed.");this.stop(16)},a)},iX=function(a){a.K.a||(null==a.Ca?E(a.l,"Attempting to install collection filters with null participants. setParticipants() must be called prior to this call!"):uA(a.f,n(function(a){return Kb(this.Ca,a.M()||"")},a)))};
gX.prototype.Zb=function(a){if("INITIAL"!=this.j)return!1;this.bb=null!=a;a=a||"";null!=this.f?Kf(this.l,"Remote streams collection already initiated"):(this.K.a?(F(this.l,"Preparing p2p remote streams collection."),this.f=uW(this.ja,this.ha,[a,1,""])):(F(this.l,"Preparing normal remote streams collection."),this.f=sW(this.ja,this.ha,[a,1,""],BR(),QU,"t"),this.H.listen(this.f,"i",this.Ya),this.H.listen(this.f,"h",this.Mb)),this.h(this.f),Yz(this.f),this.H.listen(this.f,"g",this.vc));hX(this,"STARTING");
return!0};gX.prototype.start=function(a){this.oa(a);hX(this,"STARTED");this.Aa.a.then(this.ob,null,this);return!0};
gX.prototype.Zd=function(a,b,c){Z(this.g,"Attempting to connect session "+vW(this)+" to Hangout: "+a);switch(this.j){case "INITIAL":E(this.l,"Connect to hangout called before starting.");return;case "STOPPED":case "FINISHED":E(this.l,"Connect to hangout called after end.");return}null!=this.m?Kf(this.l,"Multiple hangouts per RemoteSession not yet supported."):(this.m=a,this.A=b,this.B=c,this.La=Ea(),this.Ka=kX(),this.Aa.resolve())};
gX.prototype.ob=function(){var a=this.B&&this.B.f||"";Z(this.g,"Session "+vW(this)+" is started and connected to Hangout: "+this.m+" with participantId: "+this.A+" and participantLogId: "+a);var a=this.a,b=this.m;null!=this.b?Kf(this.l,"Local streams collection already initiated"):(this.K.a?(F(this.l,"Preparing p2p local streams collection."),this.b=uW(this.ja,this.ha,[b,2,a])):(F(this.l,"Starting normal local streams collection."),this.b=sW(this.ja,this.ha,[b,2,a],BR(),QU,"t"),this.H.listen(this.b,
"i",this.Ya),this.b.start()),this.H.listen(this.b,"g",this.mc),this.h(this.b));lX(this,this.a,this.m,this.ea);Mb(this.ea);jX(this,this.a,this.m);0<this.aa.length&&(mX(this,this.aa),Mb(this.aa));hX(this,"INPROGRESS");this.Va.resolve();nX(this)};
var MW=function(a,b){a.Ca=b;null!=a.f&&sA(a.f);a.K.a&&a.Aa.a.then(function(){var a=Cb(b,function(a){return a!=this.A},this);if(1!=a.length)1<a.length&&this.stop(51);else{var d=new YA([1,1,this.a,"8579373",this.m,a[0],"1",[[8579373],[]]]),a=new YA([1,2,this.a,"8579374",this.m,a[0],"2",[[8579374,8579375],[["FID",[8579374,8579375]]]]]);this.f.add(d);this.f.add(a)}},null,a)};gX.prototype.pc=function(){this.b&&this.b.yd();this.f&&this.f.yd()};gX.prototype.resume=function(){this.F={}};
gX.prototype.stop=function(a,b){Z(this.g,"Session "+vW(this)+" stopping because stop was called with endCause: "+a);if("STOPPED"==this.j)return!1;null==this.a||"STARTING"!=this.j&&"INPROGRESS"!=this.j||(fd(this.b),this.b=null,fd(this.f),this.f=null,Ha(this.o,function(a){a.cancel()}),this.o={});hX(this,"STOPPED",a,b);return!0};
var EW=function(a,b){var c=a.a,d=a.m,e=a.A;null!=c?null!=d?(b.R(d),null!=a.la&&K(b,1,a.la),null!=e&&b.na(e),d=u(a.N.a),K(b,11,d||[]),K(b,12,a.N.b),K(b,18,a.N.f),a.B&&PQ(a.B,b),bT(a.X,b,c)):E(a.l,"UploadLogData before we have a hangoutId."):E(a.l,"UploadLogData before we have a sessionId.")},WW=function(a,b,c,d){var e=a.a,f=a.m;null!=e?null!=f?VW(a,e,f,d,b,c).then(function(){this.dispatchEvent("Ha")},null,a):E(a.l,"Finalize log data uploads before we have a hangoutId."):E(a.l,"Finalize log data uploads before we have a sessionId.")},
kX=function(){return window.performance&&window.performance.now?window.performance.now():Ea()},fX=function(a){a.w||"STOPPED"==a.j||"FINISHED"==a.j||ze(function(){var a=this.X,c=this.a,d=new oQ;d.setRequestHeader(cT(a));d.oa(c);aT(a,"media_sessions/query",d).then(a.f,null,a).then(this.tc,this.sc,this)},1E4,a)};
gX.prototype.tc=function(a){this.w||(null!=a?(a=sS(this.u,a,!this.K.a),null!=a?(this.dispatchEvent(new IS(a)),fX(this)):Z(this.g,"Session "+vW(this)+" could not parse description from session query.")):E(this.l,"Received null session proto."))};gX.prototype.sc=function(a){if(!this.w)switch(a.status){case 4:case 5:case 7:this.stop(15,"ClientResponseStatus: "+a.status+" with desc: "+a.desc);break;case 11:this.stop(41,"ClientResponseStatus: "+a.status+" with desc: "+a.desc);break;default:fX(this)}};
var oX=function(a,b){return null!=a||null!=b?null!=a&&null!=b?a.width!=b.width||a.height!=b.height:!0:!1},UW=function(a,b){null!=OO(b)&&(b=gt(b),t(OO(b),function(a){if(2==I(a,1)){var b=I(a,53)[0]>>>0,c=this.Xa[b];null!=c&&(K(a,78,c.width),K(a,79,c.height),Lf(this.l,"Set last request width/height "+c.width+"/"+c.height+" for ssrc "+b+" in jmidata"))}},a));return b},VW=function(a,b,c,d,e,f){if(null==d&&null==e)return Od("Nothing to upload");var g=new DO;K(g,2,a.Sa());K(g,133,a.La);var m=-2;null!=a.Ka&&
(m=(kX()-a.Ka)/1E3,m=Math.round(m));K(g,3,m);null!=b&&K(g,1,b);null!=e&&K(g,29,e);null!=f&&K(g,30,f);null!=d&&Ys(g,5,[d]);d=new zR;N(d,4,g);d.R(c);null!=a.A&&d.na(a.A);null!=a.la&&K(d,1,a.la);c=u(a.N.a);K(d,11,c||[]);K(d,12,a.N.b);K(d,18,a.N.f);a.B&&(c=a.B,c.g&&(g=L(d,DO,4)||new DO,K(g,4,c.g),N(d,4,g)),PQ(c,d));return bT(a.X,d,b)},IW=function(a,b){switch(a.j){case "INITIAL":case "STARTING":case "STARTED":Wb(a.ea,b);return;case "STOPPED":case "FINISHED":E(a.l,"Add local streams called after end.");
return}var c=a.a,d=a.m;null==c?a.g.error("Attempting to add local streams before we have a sessionId."):null!=d?lX(a,c,d,b):Wb(a.ea,b)},lX=function(a,b,c,d){t(d,function(a){a=DJ(FJ(new CJ(a),this.A));var d=AS(this.u,b,c,a),e=this.b.b,m=!!Ib(this.b.get(),function(a){return Dr(e,d,a)}),m=DS(m?this.b.modify(d):this.b.add(d),"Za",b,this);"d"!=a.W()&&Yd(m,function(a){this.g.error("Stopping because addLocalStream failed with error: "+a);this.stop(16)},this)},a)},LW=function(a,b){a.Va.a.then(n(function(){var a=
b.Qa(),a=this.b.lb(a);a.Ma(tS(this.u,b.W()));var d=new bB,e=b.fc();K(d,1,e);a.Gd(d);this.b.modify(a)},a))};gX.prototype.oa=function(a){this.a!=a&&(Z(this.g,"Session id changing from "+vW(this)+" to "+(a||"{unset}")),this.a=a,this.Za.resolve())};
var vW=function(a){if(null==a.a)return"{unset}";null==a.Ia&&(a.Ia=a.a.substring(0,6)+"{#"+(a.a.length-7)+"}"+a.a.substring(a.a.length-1));return a.Ia},JW=function(a){if(null!=a.b){var b=Ib(a.b.get(),function(a){return 2==a.W()});if(null==b)zT(a.g,"Attempting to signal screencast started, but no video stream found!");else{b=a.b.lb(b);b.Ma(2);K(b,11,!1);var c=new bB;K(c,1,!1);b.Gd(c);a.b.modify(b)}}},KW=function(a){if(null!=a.b){var b=Ib(a.b.get(),function(a){return 2==a.W()});null==b?zT(a.g,"Attempting to signal screencast ended, but no video stream found!"):
(b=a.b.lb(b),b.Ma(2),K(b,11,!0),a.b.modify(b))}};gX.prototype.yc=function(a){this.ba={};t(a,function(a){this.ba[pX(a)]=a},this);nX(this)};
var nX=function(a){switch(a.j){case "INITIAL":case "STARTING":case "STOPPED":case "FINISHED":return}if(null==a.a)a.g.error("Ignoring changed stream requests because we don't have a sessionId.");else if(null==a.m)a.g.error("Ignoring changed stream requests because we don't have a hangoutId.");else{var b={},c=tS(a.u,"v");t(a.f.get(),function(a){a.W()==c&&(b[pX(a)]=a)},a);Ha(a.ba,function(a,c){if(b[c]){var d=b[c],e=d.Qa(),m=this.F[e];if(!m||m.b!=a.b||m.a!=a.a||oX(WH(m),WH(a)))this.F[e]=a,qX(this,d,a),
this.o[c]&&this.o[c].cancel(),delete this.o[c]}else F(this.l,"Skipping stream request for "+a.M()+" (no matching stream was found).")},a);Ha(b,function(a,b){var c=a.Qa();if(!this.ba[b]){var d=this.F[c];if(d){var e=XH(aI($H(d)));if(d.b!=e.b||d.a!=e.a||oX(WH(d),WH(e)))this.F[c]=e,qX(this,a,e)}else if(!this.o[b]){var q=XH(aI($H(CS(this.u,[a])[0])));this.o[b]=Be(2E3);this.o[b].then(function(){delete this.o[b];this.F[c]=q;qX(this,a,q)},void 0,this)}}},a);Ha(a.o,function(a,c){b[c]||(a.cancel(),delete this.o[c])},
a)}},qX=function(a,b,c){if("STOPPED"!=a.j&&"FINISHED"!=a.j){a.Pa.contains(c.M())&&(c=new VH(c.j,"",c.g,null!=c.f?c.f:void 0,null!=c.a?c.a:void 0,null!=c.b?c.b:void 0,null!=c.h?c.h:void 0));var d=b.Qa(),e=c.b;if(!WH(c)||0>=WH(c).height||0>=WH(c).width||0>=c.a)e=!1;var f=a.u,g=a.a,m=a.m,q=c,y=e,e=new YA;e.yf(1);e.oa(g);e.R(m);e.na(q.M());e.Ma(tS(f,q.W()));f=q.ga();K(e,7,f);f=new fz;K(f,1,!0);K(f,2,y);y=WH(q);null!=y&&(g=new xw,g.g(y.height),g.j(y.width),K(g,3,q.a),N(f,3,g));N(e,9,f);e.zf(d);Z(a.g,"Session "+
vW(a)+" sending stream request: "+c.toString()+" with streamId: "+d);d=L(b,$A,8);N(e,8,d);a.f.modify(e);c=WH(c);null!=c&&null!=L(b,$A,8)&&null!=I(L(b,$A,8),1)&&(b=I(L(b,$A,8),1)[0]>>>0,null!=b&&(a.Xa[b]=c,Lf(a.l,"Building map: last request width/height "+c.width+"/"+c.height+" for ssrc "+b)))}},pX=function(a){return(a.M()||"")+"/"+(a.ga()||"")};gX.prototype.vc=function(a){null!=a.b&&0<a.b.length&&mX(this,a.b);null!=a.a&&0<a.a.length&&rX(this,a.a);null!=a.removed&&0<a.removed.length&&sX(this,a.removed)};
gX.prototype.Mb=function(a){var b=a.a?a.a.length:0;Lf(this.l,"Received early streams push notification with "+b+" modified streams");if(this.bb&&0!=b)if("INPROGRESS"==this.j)mX(this,a.a);else if("STARTING"==this.j||"STARTED"==this.j)this.aa=Ub(this.aa,a.a)};
var mX=function(a,b){var c=tX(a,b);null!=c?0==c.length?E(a.l,"Got empty streamInfos: "+b):(b=Cb(c,function(a){return a.M()!=this.A},a),nX(a),t(b,function(a){Z(this.g,"Session "+vW(this)+" notified of new remote stream: "+a.toString())},a),a.dispatchEvent(new RR(b,[],[]))):E(a.l,"Failed to parse streamInfos: "+c)},rX=function(a,b){var c=tX(a,b);null==c?E(a.l,"Failed to parse streamInfos: "+c):0==c.length?E(a.l,"Got empty streamInfos: "+b):(t(c,function(a){Z(this.g,"Session "+vW(this)+" received modified remote stream: "+
a.toString())},a),a.dispatchEvent(new RR([],c,[])))},sX=function(a,b){var c=tX(a,b);null!=c?0==c.length?E(a.l,"Got empty streamInfos: "+b):(t(c,function(a){Z(this.g,"Session "+vW(this)+" removing remote stream: "+a.toString())},a),a.dispatchEvent(new RR([],[],c))):E(a.l,"Failed to parse streamInfos: "+c)},tX=function(a,b){b=BS(a.u,b);return b=Db(b,function(a){if(""==a.ga()){var b;"a"==a.W()?b="1":"v"==a.W()?b="2":"d"==a.W()&&(b="3");a=DJ(GJ(new CJ(a),b));this.Pa.add(a.M())}return a},a)};
gX.prototype.mc=function(a){if(ta(a.removed)&&0<a.removed.length)0==this.b.get().length&&(Z(this.g,"Session "+vW(this)+" terminating to handle Reflector failover."),hX(this,"STOPPED",26));else if(ta(a.a)&&0<a.a.length){var b=CS(this.u,a.a);null!=b?0==b.length?E(this.l,"Got empty stream requests: "+a):this.dispatchEvent(new SR(b)):E(this.l,"Failed to parse stream requests: "+a)}};
gX.prototype.Ya=function(a){this.g.error("Stopping session "+this.a+" because stream collection failed, with reason: "+a.reason);this.stop(a.a)};var uX=function(a,b,c){var d=0;k(void 0)&&(c=gt(c),K(c,5,!0),d=Ea()+void 0);var e=Qa(),f=function(a){Ea()>=d?e.b(a):ze(m,5E3)},g=function(c){1==c.getResponseHeader().xa()?(c=c.V(),e.resolve(sW(a,b,[c],MQ(),NU,"o"))):f(new Nr("fatal","backend",null,c))},m=function(){var d;d=c;var e=oD(nD.U(),a,b),m=e.f;d=gt(d);d.setRequestHeader(FT(e));d=m.b("hangouts/resolve",d);Yd(d.then(g),f)};m();return e.a};var xX=function(a,b,c,d,e){B.call(this);this.l=If("realtime.media.session.SessionManager");this.K=b;this.Sa=this.K.b;this.a=this.K.ma.Ad("realtime.media.session.SessionManager");this.m=new Xt(this);this.h(this.m);this.B=a;this.Xa=e;this.la=this.ha=this.g=null;this.F="INITIAL";this.o=null;this.f=new C;Ge(pM,function(a){this.f.set(a,new mf)},this);this.b=new mf;this.X=new C;this.u=null;this.j=new zI;this.H=new kS;this.ob=c;this.Ia=d;this.N=[];this.ja=[];this.Aa=new UJ;this.Ba=this.A=null;vX(this);this.ba=
Qa();this.aa=Qa();this.ea=Qa();this.Va=[];this.ba.a.then(function(){Z(this.a,"P2P enabled, but ICE with TURN disabled.");this.ea.resolve(!1)},function(){this.ea.b()},this);Sd([this.ba.a,this.aa.a,this.ea.a]).then(function(){wX(this,!0)},null,this);this.Ca=uM(a,cK,YN)};r(xX,B);
var yX=new VH("","","a"),zX=new VH("","","v",new iq(320,180),30),AX=new VH("","","v",xW,30),vX=function(a){ZL(a.B);a.B.g(bK).then(function(a){this.A=a;this.Ba=[$L(this.A,"sessionManagerState",n(this.getState,this)),$L(this.A,"p2pSessionActive",n(function(){return Fb(BX(this),function(a){return a.g.a})},this)),$L(this.A,"sessions",n(function(){return Db(this.b.P(),function(a){return a.Va()},this)},this))]},function(a){E(this.l,"Error getting DiagnosticDataService: "+a)},a)};h=xX.prototype;
h.T=function(){t(this.b.P(),fd);null!=this.A&&t(this.Ba,this.A.f,this.A);xX.S.T.call(this)};h.getState=function(){return this.F};h.Ha=function(a,b,c){a!=this.F&&(Z(this.a,"SessionManager changed state from "+this.F+" to "+a),this.F=a,this.dispatchEvent(new qM(a,b,c)))};
h.Zb=function(a){if("INITIAL"!=this.getState())return!1;var b=this.B,c=this.Sa,d=new yr(bC,[],[],[bC.prototype.h],[bC.prototype.oa],hw,[],[],[hw.prototype.h],[hw.prototype.oa]),e=nD.U(),f=new OU(oD(e,b,c)),g=new Yp(e.ma.h(b,c),"r");this.o=new Tz(0,e.ma.b(b,c),[],d,f,g,e.ma.f(b,c));this.h(this.o);Yz(this.o);this.m.listen(this.o,"g",this.La);this.m.listen(this.o,"i",this.Pa);Z(this.a,"Updating default options to: "+df(AI(a)));this.j=a;this.j.a&&this.ba.resolve(!0);if(null==this.g||db(this.g))this.g=
this.j.b;null==this.g||db(this.g)||this.aa.resolve(this.g);this.u=wX(this,!1);if(null==this.u)return this.a.error("Failed to create the cloud session."),this.stop(16),!1;this.Ha("STARTING");return!0};h.start=function(){};h.pc=function(){this.o&&this.o.yd();t(this.b.P(),function(a){a.pc()})};
h.connect=function(a,b,c){if("STARTING"!=this.getState()&&"INPROGRESS"!=this.getState())return!1;this.g=a;this.ha=b;this.la=c;Z(this.a,"Connecting to hangoutId: "+a+", with participantId: "+b+" and sessionLogData: "+c);this.aa.resolve(this.g);var d=Ub(BX(this),CX(this),DX(this));t(d,function(d){d.Zd(a,b,c)},this);return!0};
var EX=function(a,b,c){c.a||(c.m?(a=new JH("call/"+c.m,1,null,"collections"),b=kK(b),b.g.set(a.Vb(),a)):E(a.l,"Collections' push channel not added. ClientResource not available"));return b},rW=function(a){var b={};t(a.b.P(),function(a){a.g.a||(b[a.da()]=a.b.a)});return b},GX=function(a){var b=BX(a);0==b.length&&(b=DX(a));0==b.length&&(b=FX(a));var c=[];t(b,function(a){Wb(c,Ka(a.u))});return c},HX=function(a){var b=BX(a);0==b.length&&(b=DX(a));0==b.length&&(b=FX(a));var c=[];t(b,function(a){Wb(c,a.o)});
return c},kW=function(a,b){t(a.b.P(),function(a){a.g.f||(a.g=BI(a.g,b),a.g.h&&YV(a.a))});a.j=BI(a.j,b)},IX=function(a){a.j.h||(t(a.b.P(),function(a){a.g.h||(a.g=CI(a.g),a.g.f&&YV(a.a))}),a.j=CI(a.j))},LX=function(a,b){Z(a.a,"Adding capture: "+df(rO(b)));var c=!0;t(JX(a),function(a){a=yW(a,b);c=c&&a});"X"==b.Z().fb()&&(c=!0);c?a.N.push(b):KX(a,b)},KX=function(a,b){var c=!0;t(JX(a),function(a){var d;if(d=c)a:{switch(a.getState()){case "STOPPED":case "FINISHED":E(a.l,"Removing stream after end.");d=
!1;break a}if(a.Aa){d=b.Z();"X"==d.fb()?KW(a.b):"v"==d.a&&a.j.v(d,"V",a.mc);a.j.v(b,"ia",a.Mb);var f=a.a;switch(f.g){case "STOPPED":zT(f.f,"Remove local stream called after stopped.")}var g=f.a;kV(g,"Removing capture="+b);var m=b.jb(g.g);Rb(g.ea,b);g.u.v(b,"ka",g.La);"d"!=b.Z().a&&(xV(g,m),vV(g,null,b.Z()),g.o?yV(g):kV(g,"Skipping SDP renegotiation on local stream change because we are still waiting on the remote description."));b.Rf(f.b);f.m.remove(b);if(f=a.u[FW(d)])delete a.u[FW(d)],a.dispatchEvent(new JS([],
[f.getInfo()]));d=!0}else d=Rb(a.ja,b)}c=d});c=c&&Rb(a.N,b)};
xX.prototype.jb=function(a,b){var c=Ub(BX(this),DX(this),FX(this));if(null!=b){var d=Ib(this.b.P(),function(a){return a.da()==b});d&&c.unshift(d)}if(0==c.length)return Z(this.a,"No active session to get stream from to render source: "+a),null;for(d=0;d<c.length;d++){var e=c[d],f=e.jb(a);if(null!=f)return Z(this.a,"Using stream: "+f.getInfo()+" from "+e.da()+" to render source: "+a),f}zT(this.a,"Unable to find stream to use to render source: "+a);return null};
xX.prototype.yc=function(a){var b=Ub(FX(this),DX(this),BX(this));t(b,function(b){b.yc(a)})};var MX=function(a,b){t(a.b.P(),function(a){NW(a,b)},a);a.ja=b};xX.prototype.stop=function(a,b){Z(this.a,"Stopping video call because stop called with endCause: "+a);if("INITIAL"==this.getState()||"STOPPED"==this.getState()||"FINISHED"==this.getState())return!1;this.Ha("STOPPED",a,b);t(this.b.P(),function(c){c.stop(a,b)});return!0};
var wX=function(a,b){var c=NX(a,a.j,b);if(!c)return null;var d=OX(a,c);if(null==d)return zT(a.a,"Failed to build session."),null;d.Ga().then(function(a){a?(Z(this.a,"Local session initialize completed."),a=EX(this,a,c),(a=nS(this.H,a,c.b,c.g,b))?(a=Yd(this.o.add(a).then(function(a){F(this.l,"Session add response received.");if(1>a.length||!(a[0]instanceof bC))Z(this.a,"Stopping remote session due to receiving null session proto."),d.stop(16);else{var b=a[0];null!=b?(b=sS(this.H,b,!c.a),null!=b?PX(this,
d,b):(Z(this.a,"Stopping session due to inability to parse session proto."),d.stop(16))):(Z(this.a,"Stopping session due to inability to parse session proto."),d.stop(16))}return a},null,this),function(a){zT(this.a,"Failed to add session to collection. Error: "+a);d.stop(16);throw a;},this),DS(a,"Ya",null,this)):(zT(this.a,"Failed to parse session info."),d.stop(16))):(this.a.error("Local session initialize failed to create local offer."),d.stop(16))},function(a){zT(this.a,"Failed to initialize session.");
d.stop(16);throw a;},a);return d},OX=function(a,b){a:{if(!b.w){var c=VJ(a.Aa);b=Sa(b);b.w=c}c=a.K.ma.Hh(a.B,"c"+Math.round(2147483648*Math.random())+Math.round(2147483648*Math.random())+(b.a?"_P2P":"_NMS"),b);if(b.a){if(!Ej){Z(a.a,"Not creating p2p session because local does not support p2p");b=null;break a}if(2<a.ja.length){Z(a.a,"Not creating p2p session due to too many participants.");b=null;break a}}var d=a.K.ma.Ih(a.B,b,a.Xa);b=new wW(a.B,a.K,c,d,b)}if(null==b)return null;a.b.add(b);a.f.get(b.getState()).add(b);
a.X.set(b.da(),b.getState());c=b;c.K=a.Ia;c.j.listen(c.K,"da",c.sc);c=b;c.N=a.ob;c.j.listen(c.N,"da",c.tc);NW(b,a.ja);a.m.listen(b,["T","U","Ia","La","Ga"],a.dispatchEvent);a.m.listen(b.a,"Ea",a.dispatchEvent);a.m.listen(b.b,"ya",a.dispatchEvent);a.m.listen(b,"fa",a.bb);a.m.listen(b,"Fa",a.Ya);a.m.listen(b,"Ca",a.Za);a.m.listen(b,"Da",a.Ka);return b},QX=function(a,b,c){b.start(c);t(a.N,function(a){yW(b,a)})},JX=function(a){return Ub(a.f.get("INITIAL").P(),FX(a),DX(a),CX(a),BX(a))},CX=function(a){return a.f.get("PAUSED").P()},
BX=function(a){return a.f.get("INPROGRESS").P()},DX=function(a){return a.f.get("STARTED").P()},FX=function(a){return a.f.get("STARTING").P()},NX=function(a,b,c){var d=b.b||a.g;null!=d?(b=EI(b,[yX,zX]),b=DI(b,d)):b=DI(b,null);b=Sa(b);if(b.a=c){b=FI(b);if(null==a.u)return Kf(a.l,"P2P session starting first! This is bad!"),null;b=Sa(b);b.ia=!1;b=EI(b,[yX,AX]);c=Sa(b);c.A=Vb(a.Va,b.A);b=c}return b};
xX.prototype.La=function(a){null!=a.a&&0<a.a.length&&RX(this,a.a);null!=a.removed&&0<a.removed.length&&SX(this,a.removed)};xX.prototype.Pa=function(a){this.a.error("Stopping video call because session collection failed, with reason: "+a.reason);this.stop(a.a)};
var RX=function(a,b){t(b,function(a){var b=Ib(this.b.P(),function(b){return a.h()==b.b.a});if(b){var c=sS(this.H,a,!b.g.a);null!=c&&PX(this,b,c)}else Kf(this.l,"Received modification for a session that we don't have!")},a)},SX=function(a,b){t(b,function(a){var b=Ib(this.b.P(),function(b){return a.h()==b.b.a});b?b.stop(25):this.a.error("Received removal of a session that we don't have! Session id: "+a.h())},a)};xX.prototype.Za=function(a){PX(this,a.f,a.sessionDescription)};
var PX=function(a,b,c){var d=b.getState(),e="INITIAL"==d,f="INITIAL"==d||"STARTING"==d,d="INITIAL"!=d&&"STARTING"!=d,g=0!=u(c.j).length,m=!1,q=c.h;q&&null!=q.a&&(m=2==q.a.split(" ").length);g==m&&(f=e=!1);g=c.h;null!=g&&null!=g.f&&null!=g.b&&0!=u(g.h).length||(f=!1);g=c.m;null!=g&&b.oa(g);e&&(Z(a.a,"Received remote description for session "+vW(b.b)+" with sufficient data to allow session preparation."),b.Zb(c));f?(Z(a.a,"Received remote description for session "+vW(b.b)+" with sufficient data to allow starting the session."),
QX(a,b,c)):d&&ZW(b,c)};xX.prototype.Ka=function(a){if("INPROGRESS"!=this.getState())E(this.l,"Ingress bandwidth updated before started.");else{var b=VJ(this.Aa),c=new Qv;-1!=b.b&&K(c,1,b.b);-1!=b.a&&K(c,2,b.a);-1!=b.f&&K(c,3,b.f);b=new OB;N(b,7,c);c=new bC;c.oa(a.sessionId);a=this.g||this.j.b;null===a||eC(c,[a]);dC(c,[b]);this.o.modify(c)}};
xX.prototype.Ya=function(a){switch(this.getState()){case "INITIAL":E(this.l,"Received local candidates before starting.");return;case "STOPPED":case "FINISHED":E(this.l,"Received local candiates after end.");return}var b=a.target,c=[];t(a.a,function(a){a=this.H.a(a);c.push(a);K(a,9,void 0)},this);if(!(1>c.length)){var d=new az;Ys(d,6,c);var e=b.a.a.b.h;if(e&&(K(d,4,e.f),K(d,5,e.b),e.a)){var f=new cz;K(f,1,e.a.split(" ")[0]);K(f,2,e.a.split(" ")[1]);N(d,2,f)}var g=[];t(u(b.a.a.b.j),function(a){g.push(this.H.Dg(a))},
this);b=new OB;b.Ma(4);N(b,2,d);Ys(b,4,g);d=new bC;d.oa(a.sessionId);dC(d,[b]);this.o.modify(d)}};
xX.prototype.bb=function(a){var b=a.target,c=this.X.get(b.da()),d=b.getState();if(c!=d){this.X.set(b.da(),d);this.f.get(c).remove(b);this.f.get(d).add(b);switch(d){case "STARTED":null!=this.g&&null!=this.ha&&null!=this.la&&b.Zd(this.g,this.ha,this.la);break;case "INPROGRESS":TX(this,b);break;case "STOPPED":UX(this,b,a.a,a.dc);break;case "FINISHED":this.f.get(b.getState()).remove(b),this.X.remove(b.da()),this.b.remove(b),fd(b),this.b.Y()==this.f.get("FINISHED").Y()&&("STOPPED"!=this.F?E(this.l,"Session Manager finished before stopping."):
this.Ha("FINISHED"))}this.dispatchEvent(a)}};
var TX=function(a,b){if("INITIAL"==a.getState()||"STOPPED"==a.getState()||"FINISHED"==a.getState())Kf(a.l,"Should not have new active sessions now.");else{"STARTING"==a.getState()&&a.Ha("INPROGRESS");aX(b,a.j.F);var c=b.da(),d=BX(a);t(d,function(a){c!=a.da()&&(a.pause(),VX(this,a,b))},a)}},UX=function(a,b,c,d){t(a.N,function(a){a.Rf(b.da())});if(26==c)c=a.u,a.u=wX(a,!1),c&&(a.u?VX(a,c,a.u):a.a.error("Cloud session"+c.b.a+" to cloud handoff failed"));else{55==c&&a.Ca.then(function(a){ZN(a,3262,b.b.a||
void 0)},null,a);var e=a.f.get("STOPPED").Y()+a.f.get("FINISHED").Y();a.b.Y()==e?"STOPPED"!=a.F&&(Z(a.a,"All sessions now stopped."),a.stop(c,d)):0==BX(a).length&&t(CX(a),function(a){a.resume();VX(this,b,a)},a)}},VX=function(a,b,c){var d;d=b.g.a?5:c.g.a?4:6;var e=new MM;K(e,1,d);K(e,2,0);K(e,3,b.b.a);K(e,4,c.b.a);OM(e);var f=new zR;N(f,15,e);EW(b.b,f);4==d&&a.Ca.then(function(a){ZN(a,3260,c.b.a||void 0)},null,a);Z(a.a,"Handing off from "+(b.g.a?"P2P":"RF")+" session to "+(c.g.a?"P2P":"RF")+" session")};var WX=function(a){SU.call(this,a)};r(WX,SU);sr(WX,SU,1);WX.prototype.Ih=function(a,b,c){var d=this.b.b;c=new ZS(d.h,I(d,6),I(d,2),I(d,5),c,I(d,1));var e=this.b,f=I(d,6),d=new Er(I(d,14),I(d,8)||!1,!!I(d,16));a=new gX(a,e,f,c,d,b);a.h(c);return a};var XX=function(a,b){Xt.call(this);this.B=a;this.A=b;this.a=null;this.b=[];this.j=this.o=!1;this.F=new kS;this.u=null};r(XX,Xt);XX.prototype.T=function(){t(this.b,function(a){KX(this.B,a)},this);this.b=[];this.a=null;XX.S.T.call(this)};var ZX=function(a){var b=a.a,c=a.b[a.b.length-1]||null;t(a.b,function(a){"X"==a.Z().fb()&&(c=a)});b!=c&&(a.a=c,YX(a))};XX.prototype.J=function(a){var b=this.a;ZX(this);b&&b==this.a&&a.target==b.Z()&&YX(this)};
var YX=function(a){a.w||(a.j?a.o=!0:(a.o=!1,a.j=!0,Sd([a.A.Ua,a.A.b,a.A.m]).then(function(a){var b=a[0],d=a[1];a=a[2];var e;if(null!=this.a){var f=this.F,g=this.a.Z();e=new Ny;e.R(b);e.na(g.M());e.vf(g.getId());e.Ma(tS(f,g.a));var m="aa"==g.getState();e.Gd(new Py);var q=L(e,Py,5);K(q,1,m);if("a"==g.a)null!=g.Fd&&(f=new Vy,K(f,2,g.Fd),g=g.M(),K(f,1,g),N(e,8,f));else if("v"==g.a){m=new Ty;N(e,7,m);m=L(e,Ty,7);a:{q=g.fb();switch(q){case "W":q=1;break a;case "X":q=2;break a}E(f.l,"Unknown media content: "+
q);q=void 0}K(m,1,q);m=null!=g.b?u(g.b):null;null!=m&&(g=L(e,Ty,7),f=Db(m,f.g,f),Ys(g,3,f))}e.R(b);e.na(d);e.vf(this.a.Z().getId());this.u=e}else this.u&&(e=this.u,b=L(e,Py,5),K(b,1,!0));e?a.add(e).then(this.g,this.g,this):this.g()},a.g,a)))};XX.prototype.g=function(){this.j=!1;this.o&&YX(this)};var $X=function(a,b,c,d,e){B.call(this);this.o=new kS;this.b=a;this.m=b;this.j=e;this.a=new C;this.g=new rL;this.f=new Xt(this);this.h(this.f);this.f.listen(this.m,"g",this.Ff);this.f.listen(this.j,["La","fa"],this.Ff);t(d,this.Td,this)};r($X,lM);h=$X.prototype;h.Td=function(a){""==a.M()&&a.na(this.b);this.g.add(a)};h.Uh=function(a){this.g.remove(a)};h.Qh=function(a){return a==this.b?this.g:this.a.get(a,null)};
h.Nh=function(a){var b=new mf;t(a,function(a){if(a!=this.b&&(b.add(a),!this.a.Oa(a))){var c=new rL;this.a.set(a,c);this.dispatchEvent(new vL("aa",a))}},this);t(this.a.Ea(),function(a){b.contains(a)||(this.a.get(a),this.a.remove(a)&&this.dispatchEvent(new vL("ba",a)))},this);this.Ff()};
h.Ff=function(){var a=new mf;t(this.m.get(),function(b){var c=this.a.get(b.M());if(null!=c){var d=this.o,e=b.M(),f=b.ga(),g=uS(d,b.W()),m="Y",q;if(null!=L(b,Ty,7)){a:{m=I(L(b,Ty,7),1);switch(m){case 1:m="W";break a;case 2:m="X";break a}E(d.l,"Unknown capture type: "+m);m="Y"}q=rS(d,M(L(b,Ty,7),Yy,3),d.w,d)||void 0}var y;null!=L(b,Vy,8)&&(y=Vs(L(b,Vy,8),2),y=l(y)?y:void 0);var d=L(b,Py,5)&&L(b,Py,5).fc()?"aa":"$",D=null;null!=e&&null!=f&&null!=g&&(D=new qL(e,f,g,null!=m?m:void 0,d,y,q));null!=L(b,
Py,5)&&I(L(b,Py,5),2);null!=L(b,Ry,6)&&I(L(b,Ry,6),1);f=D;null!=f&&(e=sL(c,f.a,f.getId(),f.M()),null!=e?(c=f.fb(),e.ze!=c&&(e.ze=c,e.dispatchEvent("V")),c=f.Fd,e.Fd!=c&&(e.Fd=c,e.dispatchEvent("W")),e.Ha(f.getState()),c=null!=f.b?u(f.b):null,pL(e,c)&&e.dispatchEvent("Y")):c.add(f))}a.add(aY(b.M(),b.ga()))},this);t(HX(this.j),function(b){var c=b.M(),d=b.ga();if(c!=this.b&&!a.contains(c+"/"+d)){b=b.getInfo().W();var e=this.a.get(c);null!=e&&!sL(e,b,d,c)&&e.add(new qL(c,d,b));a.add(c+"/"+d)}},this);
t(this.a.P(),function(b){t(u(b.a),function(c){a.contains(aY(c.M(),c.getId()))||b.remove(c)},this)},this)};var aY=function(a,b){return a+"/"+b};var bY=function(a,b,c){B.call(this);new kS;this.b=a;this.g=c;this.a=new C;this.f=new rL(!0);this.j=new Xt(this);this.h(this.j);this.j.listen(this.g,["La","fa"],this.Rh);t(b,this.Td,this)};r(bY,lM);h=bY.prototype;h.Td=function(a){""==a.M()&&a.na(this.b);this.f.add(a)};h.Uh=function(a){this.f.remove(a)};h.Qh=function(a){return""==a||a==this.b?this.f:this.a.get(a,null)};
h.Nh=function(a){var b=new mf;t(a,function(a){if(a!=this.b&&(b.add(a),!this.a.Oa(a))){var c=new rL;this.a.set(a,c);this.dispatchEvent(new vL("aa",a))}},this);t(this.a.Ea(),function(a){b.contains(a)||(this.a.get(a),this.a.remove(a)&&this.dispatchEvent(new vL("ba",a)))},this);this.Rh()};
h.Rh=function(){var a=new mf,b=Ub(HX(this.g),GX(this.g));t(b,function(b){var c=b.M()||this.b,e=b.ga(),f=c+"/"+e;if(!a.contains(f)){a.add(f);f=this.Qh(c);null==f&&(f=new rL,this.a.set(c,f),this.dispatchEvent(new vL("aa",c)));b=b.getInfo();var g=b.W(),m=b.fc()?"aa":"$",q=sL(f,g,e,c);null==q?(q=new qL(c,e,g,void 0,m),f.add(q)):""!=q.M()&&q.M()!=this.b&&q.Ha(m);c=q;e=b.fe();c.g!=e&&(c.g=e,c.dispatchEvent("Y"))}},this);t(this.a.P(),function(b){t(u(b.a),function(c){a.contains(cY(c.M(),c.getId()))||b.remove(c)},
this)},this)};var cY=function(a,b){return a+"/"+b};var eY=function(a,b,c){B.call(this);this.Bb=new EK;this.onConnect=this.Bb.a;this.sc=new EK;this.onDisconnect=this.sc.a;this.Ya=new EK;this.tc=this.Ya.a;this.sa=new dY(a);this.h(this.sa);this.Kd=b;this.f=this.Kd.b;this.G=If("realtime.media.call.BaseCall");this.Ta=new Xt(this);this.h(this.Ta);this.ob=new EK;this.Ua=this.ob.a;this.Db=new EK;this.b=this.Db.a;this.bb=[];this.K=c||I(this.f,2)+"^"+ob();this.ba=new NQ;this.ja=new EK;this.m=this.ja.a;this.La=new EK;this.ea=this.La.a;this.vc=new EK;this.hg=
new nM;this.h(this.hg);this.Lb=new nM;this.h(this.Lb);this.a=new xX(a,b,this.hg.a,this.Lb.a,this.K);this.h(this.a);(new EK).resolve(this.a);this.X={};this.Ba=0;this.Ta.listen(this.a,["Ea","Ga","T"],this.dispatchEvent);this.Ta.listen(this.a,"fa",this.Mi);uM(a,aK,cW).then(function(a){a.cb=a.cb||this.f;a.te=a.te||this.Kd;a.jf||dW(a);kW(this.a,eW(a));Math.random()<=Vs(a.cb,9)&&IX(this.a);a.Re.push(this);this.onConnect.then(n(a.Gk,a,this));this.onDisconnect.then(n(a.th,a,this),n(a.th,a,this))},null,this);
this.Ld=[];uM(a,bK,ZL).then(function(a){this.Aa=a;Ha(this.od(),function(a,b){this.Ld.push($L(this.Aa,b,a))},this)},null,this)};r(eY,B);h=eY.prototype;h.Bd=function(a){var b=I(this.f,6);a=Sa(a);a.m=b;Aj&&(a=GI(a));b=I(this.f,18);null!=b&&(a=Sa(a),a.u=b);Lf(this.G,"Starting the media session.");this.a.Zb(a);this.Ya.resolve(null)};h.od=function(){return{callState:n(this.getState,this),hangoutId:n(this.Ua.get,this.Ua),pid:n(this.b.get,this.b),plid:Xc(this.K),sessionId:n(this.Ef,this)}};
h.pd=function(){return{callState:Xc(this.getState()),hangoutId:Xc(this.Ua.get()),pid:Xc(this.b.get()),plid:Xc(this.K),sessionId:Xc(this.Ef())}};h.T=function(){Lf(this.G,"Disposing call.");this.disconnect(0);t(this.Ld,this.Aa.f,this.Aa);Ha(this.pd(),n(function(a,b){$L(this.Aa,b,a)},this));eY.S.T.call(this)};h.Ha=function(a){a!=this.Ba&&(F(this.G,"Call state changed from "+this.Ba+" to "+a),this.Ba=a,this.dispatchEvent("Eb"))};h.Ef=function(){return this.a.u&&this.a.u.da()};h.getState=function(){return this.Ba};
var fY=function(a,b,c,d){F(a.G,"triggerConnected() called. HangoutId: "+c+" ParticipantId: "+d);a.ob.resolve(c);a.Db.resolve(d);a.Hg();a.ea.then(function(){var a=new RU;this.vc.resolve(a);this.h(a)},void 0,a);b.resolve();a.Bb.resolve(null);a.Ha(2);OQ(a.ba,a.K).g="jid";a.a.connect(c,d,a.ba);a.h(new fV(a.a,a.f.v,a.f.j));F(a.G,"Call connected")};eY.prototype.h=function(a){a=n(B.prototype.h,this,a);this.onDisconnect.a?a():this.onDisconnect.then(a,a)};
var gY=function(a,b){a.bb=u(b);MX(a.a,a.bb);a.ea.then(function(a){a.Nh(this.bb)},void 0,a)};eY.prototype.disconnect=function(a){if(3==this.getState()||4==this.getState())return F(this.G,"disconnect() skipped, already disconnecting."),this.onDisconnect;F(this.G,"disconnect() called. Endcause: "+a);var b=2==this.getState();this.Ha(3);this.Hd(b,a);return this.onDisconnect};
eY.prototype.Hd=function(a,b){F(this.G,"triggerDisconnected(). Endcause: "+b);a=new hY(b);FK(this.ob,a);FK(this.Db,a);FK(this.La,a);FK(this.vc,a);FK(this.Bb,a);FK(this.Ya,a);Ha(this.X,function(a){fd(a)});Pa(this.X);this.f.h.o.a=null;this.sc.resolve(b);this.Ha(4);this.a.stop(b)};
var iY=function(a,b){if(3==a.getState()||4==a.getState())F(a.G,"addCapture() failed, because we are disconnecting");else{var c=a.X[b.Z().getId()];if(c&&Kb(c.b,b))E(a.G,"addCapture() failed, because we already added this capture");else{c||(c=new XX(a.a,a),a.X[b.Z().getId()]=c);F(a.G,"addCapture() succeeded. Capture Id:"+b.Z().getId());var d=c.a,e=c;e.listen(b.Z(),["V","W","X","Y"],e.J);e.b.push(b);LX(e.B,b);ZX(e);b=c.a;a.ea.a&&d!=b&&b!=d&&(d&&a.ea.get().Uh(d.Z()),b&&a.ea.get().Td(b.Z()))}}},jY=function(a){return Db(Ka(a.X),
function(a){return a.a})};eY.prototype.Mi=function(a){a.target==this.a&&("STOPPED"==a.state?(F(this.G,"Disconnect received from session. Endcause: "+a.a),this.disconnect(a.a)):"INPROGRESS"==a.state&&this.dispatchEvent("Db"))};var kY=function(){},hY=function(a){this.a=a},dY=function(a){HN.call(this,a)};r(dY,HN);var lY=function(a,b,c,d){eY.call(this,a,b,d);this.j=!1;this.u=new EK;this.A=this.u.a;this.N=new EK;this.g=this.N.a;this.g.then(function(a){this.Ta.listen(a,"g",Da(this.la,a));this.la(a)},null,this);this.H=this.ha=this.F=this.aa=null;a.g(aK,!1).then(n(function(a){this.H=a},this));c&&this.Bd(c)};r(lY,eY);var mY={1:200,2:201,3:202,4:206,5:207,6:209,7:216,11:223,17:235,12:236,13:237,14:238,15:239,16:240},nY={1:0,2:307,3:303,4:217,5:305,6:307,7:307,8:306,11:217};
lY.prototype.la=function(a){gY(this,Db(a.get(),function(a){return a.M()}))};lY.prototype.connect=function(a,b){return this.tc.then(function(){F(this.G,"connect() was called");if(0!=this.getState())return E(this.G,"connect() failed. Not in INITIALIZED. State: "+this.getState()),Od(new kY(this.getState()));var c=Qa();this.Ha(1);if(va(a)){Lf(this.G,"Skipping Hangout resolution");var d=sW(this.sa,this.f,[a],MQ(),NU,"o");oY(this,c,d,b||null)}else pY(this,c,a,b);return c.a},void 0,this)};
var pY=function(a,b,c,d){Lf(a.G,"Resolving Hangout");c.then(function(a){oY(this,b,a,d||null)},function(a){E(this.G,"Hangout resolve failed, reverting to INITIALIZED state");this.Ha(0);b.b(new qY(306,a))},a)},oY=function(a,b,c,d){var e=gt(c.g).V();Lf(a.G,"connectToHangout(). HangoutId: "+e);1!=a.getState()?(E(a.G,"connectToHangout() failed, not in CONNECTING state. State: "+a.getState()),b.b(new qY(302,new kY(a.getState()))),fd(c)):(a.F=qe(lt(),"beforeunload",n(a.Mh,a,e,d)),a.ha=qe(lt(),"unload",n(a.Mh,
a,e,d)),a.Ag(e,d,b,c,0))};h=lY.prototype;h.Ag=function(a,b,c,d,e){a=sW(this.sa,this.f,[a],new yr(Ey,[Ey.prototype.V],[Ey.prototype.R],[Ey.prototype.M],[Ey.prototype.na],Lv,[Lv.prototype.V],[Lv.prototype.R],[Lv.prototype.M],[Lv.prototype.na]),MU,"p");Lf(this.G,"Adding participant");var f=a.lb();db(b||"")||f.na(b);a.add(f).then(n(this.Ok,this,c,d,a,e),n(this.yh,this,c,d,a))};
h.Ok=function(a,b,c,d,e){if(1!=this.getState())E(this.G,"add participant succeeded, but we are no longer CONNECTING. State: "+this.getState()),a.b(new qY(302,new kY(this.getState()))),a=new Ey,a.R(e[0].V()),a.na(e[0].M()),c.remove(a).then(this.ye,null,this),fd(b),fd(c);else{F(this.G,"add participant succeeded");var f=e[0].M();10==J(e[0],17,0)?(F(this.G,"participant in knocking state"),30>d?(F(this.G,"will attempt again after delay"),Be(1E3).then(n(this.Ag,this,e[0].V(),e[0].M(),a,b,d+1))):(F(this.G,
"max knock attempt, failing join"),this.yh(a,b,c,234))):(F(this.G,"success adding and not a knock result"),e=gt(b.g).V(),this.u.resolve(b),this.N.resolve(c),this.h(b),this.h(c),fY(this,a,e,f),b.start(),c.start())}};h.yh=function(a,b,c,d){this.ye();E(this.G,"add participant failed, moving back to INITIALIZED state");this.Ha(0);fd(b);fd(c);a.b(new qY(rY(d),d))};
h.od=function(){var a=lY.S.od.call(this);a.hangout=n(function(){return this.A.get()&&cA(this.A.get())},this);a.participants=n(function(){return this.g.get()&&cA(this.g.get())},this);a.mediaSources=n(function(){return this.m.get()&&cA(this.m.get())},this);return a};h.pd=function(){var a=lY.S.pd.call(this);a.hangout=Xc(this.A.get()&&cA(this.A.get()));a.participants=Xc(this.g.get()&&cA(this.g.get()));a.mediaSources=Xc(this.m.get()&&cA(this.m.get()));return a};
h.Hg=function(){Sd([this.Ua,this.b,this.g]).then(function(){var a=tW(this.sa,this.f,this.Ua.get());this.h(a);this.ja.resolve(a);a.start();a=new $X(this.b.get(),a,this.g.get(),Db(jY(this),function(a){return a.Z()}),this.a);this.h(a);this.La.resolve(a)},void 0,this)};
h.Hd=function(a,b){this.aa=b;if(a&&!this.j){F(this.G,"Removing participant on disconnect");var c=new Ey;c.R(this.Ua.get());c.na(this.b.get());var d={};d.jYdIne=b;this.g.get().remove(c,d,2).then(this.ye,null,this)}lY.S.Hd.call(this,a,b);a=new hY(b);FK(this.u,a);FK(this.N,a);FK(this.ja,a);null!=this.A.get()&&this.A.get().stop();null!=this.g.get()&&this.g.get().stop();null!=this.m.get()&&this.m.get().stop()};h.ye=function(){null!=this.F&&te(this.F);null!=this.ha&&te(this.ha)};
h.Mh=function(a,b){this.ye();var c=I(this.f,12),d=null!=this.aa?this.aa:63;if(null!=c){var e=new TP;K(e,5,d);var f=new Lv;f.R(a);db(b||"")||f.na(b);UP(e,[f]);e.setRequestHeader(mD(this.f));a=new X;N(a,3,this.f.h.o.a);e.D(a);e=e.ka();a=this.H?qW(this.H):[];a=Db(a,function(a){return a.ka()},this);if(null!=navigator.sendBeacon){var g=new FormData;g.append("r",e);t(a,function(a){g.append("l",a)});this.j=navigator.sendBeacon(c,g)}this.j||(c=Rc(c,"r",e),c=Rc(c,"l",a),e=kf(hf),e.open("GET",c,!1),e.send(null));
this.j=!0}this.disconnect(d)};var rY=function(a){var b=null;try{b=dt(a.response.be)}catch(d){}var c;b instanceof JP?(a=b.getResponseHeader())&&(c=10==a.xa()?mY[I(b,4)]||209:nY[a.xa()]):l(a)&&(c=a);return k(c)?c:302},qY=function(a,b){this.ki=a;this.de=b};var sY=function(a,b,c,d){eY.call(this,a,b,d);this.F=b.ma.Ad("realtime.meetings.call.MeetingCall");this.u=c;this.Ri=a.g(Fr).then();this.H=null;this.Xa=new EK;this.B=this.Xa.a;this.g=null;this.Va=new EK;this.o=this.Va.a;this.Md=null;this.N=new EK;this.Nd=new EK;this.Sa=this.Nd.a;this.Oi=new EK;this.Mb=Qa();this.mc=Qa();this.Ka=this.Ca=this.Ia=this.la=this.Id=null;this.Od=!1;this.Eb=null;OK(a.g(aK,!1),function(a){this.Eb=a},this);this.Za=new jq(20);this.Pd=new EK;this.aa=this.Pd.a;this.j=null;this.Pa=
new ye(3E4);this.h(this.Pa);this.Ta.listen(this.Pa,"tick",this.Pi);this.Jd=function(){return Od("No prerequisite handler")};this.ha=null;this.u&&this.Mb.resolve(!0);this.o.then(function(a){this.Ta.listen(a,"g",this.gg);this.gg()},pa,this);this.Ta.listen(this.a,"fa",this.qk)};r(sY,eY);var tY={404:217,401:300},uY={400:324,429:216},vY={403:200};h=sY.prototype;
h.od=function(){var a=sY.S.od.call(this);a.meetingSpace=n(function(){return this.B.get()&&cA(this.B.get())},this);a.meetingDevices=n(function(){return this.o.get()&&cA(this.o.get())},this);a.mediaSources=n(function(){return this.m.get()&&cA(this.m.get())},this);a.recentMeetingOperations=n(function(){return this.Za.P()},this);return a};
h.pd=function(){var a=sY.S.pd.call(this);a.meetingSpace=Xc(this.B.get()&&cA(this.B.get()));a.meetingDevices=Xc(this.o.get()&&cA(this.o.get()));a.mediaSources=Xc(this.m.get()&&cA(this.m.get()));a.recentMeetingOperations=n(function(){return this.Za.P()},this);a.endCause=Xc(this.Ia);return a};
h.Hd=function(a,b){var c=Nd(b);67==b&&this.j&&(c=this.g.search().then(function(a){return(a=Ib(a,function(a){return a.nb()==this.j},this))&&7==J(a,4,0)?43:b},void 0,this));c.then(function(b){var c;this.Ia=b;this.Od||!a&&!this.j?c=Nd():(F(this.G,"Removing meeting device on disconnect"),c=this.b.get()||this.j,c=this.g.lb(c),K(c,4,6),c=this.g.modify(c,2));this.ha&&this.ha.cancel();Xd(c,function(){wY(this);this.j=null;eY.prototype.Hd.call(this,a,b)},this);c=new hY(b);FK(this.Xa,c);FK(this.Va,c);FK(this.ja,
c);this.mc.b(c);this.B.get()&&this.B.get().stop();this.o.get()&&this.o.get().stop();this.m.get()&&this.m.get().stop()},void 0,this)};
h.resolve=function(a,b){if(this.Md)return Od(xY("Meeting already resolved"));var c=yY(this,0,"resolve");if(c)return Od(c);this.Md=a;return sD(this.sa,this.f,a,b).then(function(b){var c=b.h();this.H=qD(this.sa,this.f,[c],new yr(dx,[dx.prototype.h],[dx.prototype.g],[],[],Gx,[Gx.prototype.h],[Gx.prototype.g],[],[],AA),ZB,"y");K(this.H.config,8,5E3);this.h(this.H);this.g=qD(this.sa,this.f,[c],new yr(xA,[xA.prototype.v],[xA.prototype.o],[xA.prototype.nb],[xA.prototype.h],Hx,[Hx.prototype.Dh],[Hx.prototype.Fh],
[Hx.prototype.nb],[Hx.prototype.Eh],HB),XB,"v");K(this.g.config,8,5E3);this.h(this.g);this.u&&this.Pa.start();this.N.resolve(c);var d=this.ba;d.a=a;d.b=c;return b},function(b){var c="Resolve code "+a;b instanceof IB&&(c+=", error message: "+b.getMessage());var d=306,g=zY(b);null!=g&&(c+=", statusCode: "+g,d=tY[g]||d,this.u&&(d=vY[g]||d),AY(b)?c+=", response: "+BY(b.response):CY(b)&&(c+=", response: "+BY(b.Qb)));this.Za.add(c);this.F.error(c);b=new DY(d,b);FK(this.N,b);this.N=new EK;throw b;},this)};
h.Bd=function(a){this.u?this.N.a.then(function(){eY.prototype.Bd.call(this,a)},void 0,this):sY.S.Bd.call(this,a)};
h.connect=function(a,b){return this.u&&!a?Od(new DY(302,"Missing name for anonymous user")):this.tc.then(function(){F(this.G,"connect() was called");var c=yY(this,0,"connect");if(c)return Od(c);this.Ha(1);this.Pa.stop();return this.la?this.la.then(function(){return EY(this)},void 0,this):FY(this,a,b).then(function(a){this.Mb.resolve(3==J(a,4,0));return GY(this,a,Ea())},void 0,this)},void 0,this)};
h.qk=function(a){if(a.target!=this.a){var b=a.target;"STARTING"==a.state&&(a=b.b.a,this.aa.a?HY(this,a):this.Pd.resolve(a))}};var HY=function(a,b){var c;if(a.aa.get()==b)c="Should not update the same session id.",Kf(a.G,c),a.F.error(c);else{c="Modifying the session id: "+b;Lf(a.G,c);Z(a.F,c);var d=new xA;d.h(a.j);bx(d,[b]);a.g.modify(d).then(function(b){return IY(a,b[0])},function(){c="Failed to update the session id: "+b;Kf(a.G,c);a.F.error(c)})}};
sY.prototype.gg=function(){var a=this.o.get().get(),b=Cb(a,function(a){return a.ge()}),b=Db(b,function(a){return a.nb()});gY(this,b);F(this.G,a.length+" raw devices; "+b.length+" joined.")};
var FY=function(a,b,c){return Sd([a.N.a,a.aa]).then(function(){var a=this.N.a.get(),e=this.aa.get(),f=new xA;f.o(a);K(f,4,1);bx(f,[e]);this.u&&(K(f,2,b),c&&(f.g=c));return this.Ri.then(function(b){JY(this,b,a);return this.g.add(f).then(function(a){a=a[0];this.j=a.nb();var c=this.j.split("/")[3]||this.K;this.u&&(this.ba.h=c,this.Oi.resolve(c));this.Nd.resolve(b.h);IY(this,a);return a},this.Ki,this)},function(a){throw xY(a);},this)},function(a){throw xY(a);},a)};
sY.prototype.Ki=function(a){wY(this);E(this.G,"add device failed, moving back to INITIALIZED state");this.Ha(0);this.la=null;var b=325,c=zY(a);null!=c&&(b=uY[c]||b,this.u&&(b=vY[c]||b),AY(a)?this.F.error("Device add error: "+BY(a.response)):CY(a)&&this.F.error("Device add error: "+BY(a.Qb)));throw new DY(b,a);};
var EY=function(a){return a.aa.then(function(a){Lf(this.G,"Modifying the meeting device as JOINED");var b=new xA;b.h(this.j);bx(b,[a]);K(b,4,1);return this.g.modify(b).then(function(a){IY(this,a[0]);return GY(this,a[0],Ea())},function(a){var b=303,c=zY(a);null!=c&&(b=uY[c]||b,AY(a)?this.F.error("Device modify error: "+BY(a.response)):CY(a)&&this.F.error("Device modify error: "+BY(a.Qb)));return KY(this,new DY(b,a))},this)},function(a){return KY(this,xY(a))},a)},GY=function(a,b,c){var d=yY(a,1,"checkJoinState");
if(d)return KY(a,d);F(a.G,"checking the join state.");switch(J(b,4,0)){case 1:return LY(a);case 3:if(6E5<=Ea()-c)return KY(a,new DY(234));a.ha=Be(5E3).then(function(){return MY(this,c)},function(){KY(this,new DY(219))},a);return a.ha;case 4:return KY(a,new DY(233));case 9:return a.Jd(a.H,a.g,NY(a)).then(function(){return EY(a)},function(){return KY(a,new DY(325))});default:return b="Unexpected join state: "+J(b,4,0),Kf(a.G,b),KY(a,b)}},MY=function(a,b){return a.g.search().then(function(a){a=Ib(a,
function(a){return a.nb()==this.j},this);IY(this,a);return GY(this,a,b)},function(a){var b=303,c=zY(a);null!=c&&(b=uY[c]||b);return KY(this,new DY(b,a))},a)},LY=function(a){a.Xa.resolve(a.H);a.H.start();a.Va.resolve(a.g);a.g.start();var b=Qa();fY(a,b,a.Sa.get(),a.j);return b.a};
sY.prototype.Hg=function(){Sd([this.Sa,this.b]).then(function(){var a=tW(this.sa,this.f,this.Sa.get());this.h(a);this.ja.resolve(a);a.start();a=new bY(this.b.get(),Db(jY(this),function(a){return a.Z()}),this.a);this.h(a);this.La.resolve(a)},void 0,this)};
var KY=function(a,b){E(a.G,"connect failed, moving back to DISCONNECTED state");a.Ha(4);if(a.j){var c=new xA;c.h(a.j);K(c,4,6);Xd(a.g.modify(c,2),function(){wY(this)},a);a.j=null;a.la=null}return Od(xY(b))},JY=function(a,b,c){a.Ca=qe(lt(),"beforeunload",n(a.dg,a,b,c));a.Ka=qe(lt(),"unload",n(a.dg,a,b,c))},wY=function(a){null!=a.Ca&&(te(a.Ca),a.Ca=null);null!=a.Ka&&(te(a.Ka),a.Ka=null)};
sY.prototype.dg=function(a,b){wY(this);var c={meetingToken:EA(a.b)};eD(a,b+"/devices:close",c);this.Od=!0;this.Eb&&t(qW(this.Eb),function(a){var b=this.f.h,c=Uc(b.m,"/"+b.g+"/"+b.j+"/media_sessions/log");b.f&&(c=Rc(c,"key",b.f));LB(b,a);Mx(c,a.ka(),"application/json+protobuf")},this);this.disconnect(null!=this.Ia?this.Ia:63)};sY.prototype.Pi=function(){this.u?this.H.search():this.g.search()};
var yY=function(a,b,c){return a.getState()!=b?(E(a.G,"Unexpected state while in "+c+": "+a.getState()+" != "+b),new DY(302,new kY(a.getState()))):null},BY=function(a){a=a.Gh||"";try{var b=cf(a).body;return b?df(b):a}catch(c){return a}},xY=function(a){return a instanceof DY||a instanceof Id?a:new DY(302,a)},zY=function(a){return a instanceof IB?a.a:null},CY=function(a){return a instanceof IB&&!!a.Qb},AY=function(a){return!1},OY=function(a,b){a.Jd=b},IY=function(a,b){b&&(a.Id=b,a.mc.resolve(!0))},NY=
function(a){return a.g&&a.j&&a.g.bb(a.j)||a.Id},DY=function(a,b){Fa.call(this,"startupCode: "+a+", error = "+qf(b));this.ki=a;this.de=b};r(DY,Fa);var QY=function(a,b,c,d){this.l=v("mr.mirror.hangouts.HangoutCallService");this.b=a;this.h=d;this.f=new Xt(this);this.a=null;this.o=!1;this.v=new Nc;this.j=new Nc;this.u=!1;this.w=new Nc;this.m=this.g=null;this.A=this.B=!1;PY(this,b,c)},PY=function(a,b,c){a.h(new Xi("REFRESH_AUTH"));b.then(function(){return c}).then(function(b){if(!a.A){z(a.l,"Creating call for hangout id: "+b.Ua+" resolvedId: "+b.qc+" conferenceMode: "+b.cc);var c=HI();void 0!=b.cc&&(c=II(c,b.cc));hV(a.b);b.vb?(a.a=new sY(a.b,a.b.get(dK),
!1),a.a.Bd(c),a.a.o.then(a.ia,null,a),RY(a)):(a.a=new lY(a.b,a.b.get(dK),c),a.a.g.then(a.K,null,a));a.a.m.then(a.N,null,a);a.a.onConnect.then(a.J,null,a);a.a.onDisconnect.then(a.F,function(b){w(a.l,"Error on disconnect: "+b)},a);a.v.resolve(b)}})},ZY=function(a,b){x(a.l,"Connecting to hangout");setTimeout(function(){a.j.b(Error("Timed out before connecting"))},3E4);a.v.a.then(function(b){z(a.l,"Call ready.");a.o=b.vb;if(a.o)b=SY(a,b);else{var c=b.Ua,e=b.qc;b=a.b.get(lD);if(e)z(a.l,"Already resolved id: "+
e),b=Nd(sW(a.b,b,[e],MQ(),NU,"o"));else{z(a.l,"resolving hangout id: "+c);var e=a.b,c=c.split("@"),f=new hQ;K(f,5,!0);if(-1!=c[1].indexOf(".")){var g=new JL;K(g,1,c[0]);K(g,2,c[1]);N(f,4,g)}else g=new Hv,K(g,1,c[1]),K(g,2,c[0]),N(f,2,g);b=uX(e,b,f)}b=a.a.connect(b)}return b}).then(null,function(b){TY(a,"Connect error",b);if(b.de){for(var c="",e=ja(Object.entries(SH)),f=e.next();!f.done;f=e.next()){var g=ja(f.value),f=g.next().value,g=g.next().value;if(g==b.ki){c=f+"("+g+")";break}}a.l.error("Call connect error startupCode: "+
c);b=b.de}c="SESSION_FAILURE";b.response&&b.response.fk&&"chrrp"==b.response.kh&&(c="HANGOUT_INVALID");a.h(new Xi(c));a.j.b(b);UY(a,16)});return a.j.a.then(function(){return a.a.b}).then(function(c){VY(a,b,c);if(a.o)return WY(a,c);XY(a,c);YY(a,a.a.A.get())})},SY=function(a,b){return a.a.resolve(b.Ua).then(function(){return a.a.connect()})},$Y=function(a,b){return new Promise(function(c,d){a.a.b.then(function(d){VY(a,b,d);a.B||XY(a,d);c()},d)})},VY=function(a,b,c){if(0<b.getAudioTracks().length)if(a.g){var d=
a.g;d.F=b;d.u()}else a.g=new eX(new qL(c,"1","a"),b),KT(a.g),iY(a.a,a.g);a.m?(a=a.m,a.F=b,a.u()):(c=new qL(c,"2","v","X"),pL(c,[new xK(0,0,1,1)])&&c.dispatchEvent("Y"),a.m=new eX(c,b),KT(a.m),iY(a.a,a.m))},WY=function(a,b){var c=new mx;K(c,1,b);var d=a.a.B.get();a=new gx;N(a,1,c);var e=d.lb();N(e,6,a);return new Promise(function(a,b){d.modify(e).then(a,b)})},XY=function(a,b){var c=new pw;K(c,1,b);b=new zy;N(b,17,c);b.R(a.a.Ua.get());a.a.A.get().modify(b)},YY=function(a,b){a.f.listen(b,"g",function(b){a.a.b.then(function(c){a.B=
Array.prototype.some.call(b.target.get(),function(a){return a.rd()&&I(a.rd(),1)==c})})})};QY.prototype.ia=function(a){this.f.listen(a,"g",this.H)};QY.prototype.H=function(a){var b=this;a.a.forEach(function(a){if(L(a,Ow,12)&&J(L(a,Ow,12),1,"")){var c=a.nb();b.a.b.get()==c&&jY(b.a).forEach(function(c){"a"==c.Z().a&&(c.jc(),b.h(new Xi("STATUS_RESPONSE",{mute:!0})),c=b.a.o.get().lb(a),Qw(c,new Ow),Yd(b.a.o.get().modify(c),function(a){TY(b,"Failed to clear AudioMuteRequest",a)}))})}})};
QY.prototype.K=function(a){var b=this;this.f.listen(a,"g",function(a){aZ(b,a)});this.f.listen(a,"i",function(a){bZ(b,a)})};var aZ=function(a,b){var c=b.target;z(a.l,function(){return"Participants updated: "+c.get().filter(function(a){return a.ge()}).map(function(a){return I(a,4)}).join(", ")});!a.u&&2>c.get().length&&(a.h(new Xi("HANGOUT_INACTIVE")),UY(a,61))};QY.prototype.N=function(a){var b=this;this.f.listen(a,"g",function(a){cZ(b,b.a,a)});this.f.listen(a,"i",function(a){bZ(b,a)})};
var cZ=function(a,b,c){for(var d={},e=0;e<c.a.length;d={source:d.source},e++)d.source=c.a[e],d.source.M()==b.b.get()&&L(d.source,Ry,6)&&I(L(d.source,Ry,6),1)&&jY(b).forEach(function(b){return function(c){c.Z().getId()==b.source.ga()&&(c.jc(),a.h(new Xi("STATUS_RESPONSE",{mute:!0})))}}(d))},dZ=function(a,b){jY(a.a).forEach(function(a){"a"==a.Z().a&&(b?a.jc():"hb"!=a.f&&NT(a,!1))})},bZ=function(a,b){a.l.error("Failure in collection: "+b.reason);a.j.b(b.reason);UY(a,3)};
QY.prototype.J=function(){x(this.l,"Call connected");this.h(new Xi("SESSION_START_SUCCESS"));this.j.resolve(void 0)};QY.prototype.F=function(a){this.h(new Xi("SESSION_END"));var b="",c;for(c in Zp)if(Zp[c]==a){b=c+"("+a+")";break}x(this.l,"Call ended with endcause: "+b);0!=a&&61!=a&&16!=a&&this.h(new Xi("SESSION_FAILURE"))};QY.prototype.stop=function(){UY(this,0);return this.w.a};
var UY=function(a,b){x(a.l,"Stopping call with end Cause: "+b);a.u?x(a.l,"Ignore stop, already stopping."):(a.u=!0,a.a?a.a.disconnect(b).then(function(b){z(a.l,"Call disconnected with endCause: "+b);a.w.resolve(void 0)}):a.w.resolve(void 0))};QY.prototype.pa=function(){var a=this;this.A=!0;this.f.pa();this.g&&this.g.pa();this.m&&this.m.pa();this.v.b(Error("Disposed"));this.j.b(Error("Disposed"));setTimeout(function(){a.w.b(Error("Timed out before stopping"))},1E4);this.a&&this.a.pa()};
var TY=function(a,b,c){c instanceof Error?a.l.error(b,c):ua(c)?a.l.error(function(){return b+": "+JSON.stringify(c)}):ya(c)?a.l.error(b+": "+JSON.stringify(c)):a.l.error(b+": "+c)},eZ=function(a){return a.j.a.then(function(){IX(a.a.a)}).catch(function(){if(a.a)IX(a.a.a);else throw Error("call was never created");})},RY=function(a){var b=a.a;OY(b,function(b,d,e){return fZ(a,b,d,e).then(function(a){if(!a)throw Error("Prerequisite not handled");})});b.onConnect.then(function(){var c=b.B.get(),d=b.o.get();
a.f.listen(c,"g",function(){fZ(a,c,d,NY(b))});fZ(a,c,d,NY(b))})},fZ=function(a,b,c,d){var e=function(a){var b=new Tw;K(b,1,a);K(b,2,2);return b};if(!d)return Od(Error("No local device"));b=(b=(b=b.bb())&&L(b,gx,6))&&L(b,px,2);var f=2==(b&&b.ie())?b.zb():null,g=!1,m=!1,q=[];(M(d,Tw,16)||[]).forEach(function(a){m|=1==J(a,2,0);g|=a.zb()==f;q.push(e(a.zb()))});f&&!g&&(m=!0,q.push(e(f)));return m?(d=c.lb(d.nb()),Ys(d,16,q),c.modify(d).then(function(){z(a.l,"Recording acked");return!0})):Nd(!1)};var hZ=function(a,b,c){Ri.call(this,a);this.H=b;this.F=c;this.l=v("mr.mirror.hangouts.HangoutSession");this.B=sp(a.id);this.w=new Nc;this.h=!1;this.v=!0;this.g=this.m=null;this.j=new Nc;this.u=this.J=null;gZ(this);this.a=null};ka(hZ,Ri);
hZ.prototype.start=function(a){var b=this;z(this.l,"Starting new hangouts mirror session.");this.m=a;if(this.a)return Promise.reject(Error("Mirroring already started"));if(this.g)return Promise.reject(Error("Session permanently stopped"));this.J=new Rh("MediaRouter.Hangouts.Session.Launch");this.a=new QY(this.H,this.F,this.j.a,n(this.f,this));ZY(this.a,this.m).then(function(){z(b.l,"Call connected");b.f(new Xi("SESSION_START_SUCCESS"));b.J.a();b.J=null;b.u=new Xh("MediaRouter.Hangouts.Session.Length");
b.w.resolve(b)},function(a){b.w.b(a);b.stop()});return this.w.a};var iZ=function(a){if(!a.a||a.g)return Promise.resolve();z(a.l,"Resetting session call.");return a.a.stop().then(function(){if(a.g)return Promise.resolve();a.h=!1;a.j=new Nc;a.a.pa();a.a=new QY(a.H,a.F,a.j.a,n(a.f,a));a.m.getTracks().forEach(function(a){a.enabled=!0});return ZY(a.a,a.m).then(function(){z(a.l,"Reset call connected")},function(){a.stop()})})};hZ.prototype.mi=function(){return!0};
hZ.prototype.pi=function(a){var b=this;return new Promise(function(c,d){b.a?$Y(b.a,a).then(function(){b.m=a;c()},d):d(Error("Mirroring was never started"))})};
hZ.prototype.stop=function(){var a=this;z(this.l,"Stopping hangouts mirror session.");this.w.b(Error("Session stop requested."));this.u&&(this.u.a(),this.u=null);if(!this.a)return Promise.resolve();if(this.g)return this.g;this.w.b(Error("Stopped"));this.j.b(Error("Stopped"));var b=function(){try{a.B.pa()}catch(c){a.l.error("Error while disposing message port",c)}try{a.a.pa()}catch(c){a.l.error("Error while disposing call service",c)}};return this.g=new Promise(function(c,d){setTimeout(function(){b();
d(Error("Timed out before stopping"))},1E4);a.a.stop().then(function(){b();c()}).catch(function(a){b();d(a)})})};
var gZ=function(a){a.B.onMessage=function(b){if(va(b)){b=JSON.parse(b);var c=b.clientId;if(c){"client_connect"==b.type?a.f({message:{sessionId:"castouts"},clientId:c,type:"new_session"}):"v2_message"==b.type&&"STOP"==b.message.type&&a.f({message:"castouts",clientId:c,type:"remove_session"});return}}if(!b.type)throw Error("Message has no type.");switch(b.type){case "AUTH_READY":var d=b.data;if(void 0!=d.cc&&d.cc!=a.v){z(a.l,"received auth ready message with new conference mode");a.v=d.cc;var e=a.h;
iZ(a).then(function(){a.h=e;a.a&&dZ(a.a,e);a.j.resolve(d)})}else z(a.l,"received auth ready message"),d.cc=a.v,a.j.resolve(d);break;case "LOCAL_PRESENT":z(a.l,"local present message");a.f(b);break;case "MUTE":b.data&&(a.h=!!b.data.mute,a.a&&dZ(a.a,a.h));break;case "STATUS_RESPONSE":z(a.l,"route status response message");b.data&&(a.h=!!b.data.mute);break;case "STATUS_REQUEST":z(a.l,"route status request message");a.f(new Xi("STATUS_RESPONSE",{routeDescription:a.b.description,mute:a.h,local:!a.v}));
break;default:throw Error("Unknown message type: "+b.type);}}};hZ.prototype.f=function(a){z(this.l,function(){return"sending message to mrp: "+JSON.stringify(a)});this.B.sendMessage(a,jZ)};var kZ=function(a){return a.a?eZ(a.a):Promise.reject(Error("no call in the session"))},jZ={channelType:"mesi"};var lZ=function(a){Gi.call(this,a);a=this.sa=new HN;var b=sO.U();a.K=b;a=this.sa;b=new RL(a,document);a.b($r,b);this.f=this.v=this.j=this.m=null;this.A=BD(AD.U())};ka(lZ,Gi);h=lZ.prototype;h.ce=function(){mZ(this);rj(this)};h.fa=function(){throw Error("not implemented");};h.qa=function(){return[{lastSessionId:this.f}]};h.va=function(){var a=oj(this);a&&a.lastSessionId&&(this.f=a.lastSessionId)};
h.nf=function(){var a=this;return this.f||this.a?new Promise(function(b,c){setTimeout(c,5E3);var d=function(){a.j.then(function(){a.f?(a.f=null,b()):c(Error("No session to upload"))})};a.a?kZ(a.a).then(function(){b()}).catch(d):a.f?d():c(Error("No session to upload"))}):Promise.reject(Error("No session to upload"))};h.Te=function(a){a.a?(a=a.a,a=a.a?a.a.Ef():null):a=null;this.f=a;return Promise.resolve()};h.ae=function(a,b){a=new hZ(b,this.sa,this.j);this.m=a.f.bind(a);return a};h.Ee=function(){MI(0)};
h.Ae=function(){MI(1)};h.Be=function(){$h("MediaRouter.Hangouts.Session.End")};h.Ce=function(a){ai("MediaRouter.Hangouts.Start.Failure",a,ci)};h.De=function(){$h("MediaRouter.Hangouts.Stream.End")};h.Ak=function(a){this.m&&this.m(a)};h.Vg=function(){var a="v1";.1>Math.random()&&(a+="_preprod");return a};
var mZ=function(a){a.sa.b(UQ,TQ);var b=new Ix(new nL,new $K(a.Ak.bind(a))),b=new KB(b,"hangouts",a.Vg(),"","https://www.googleapis.com",a.A),c=new kD(b);K(c,1,39);K(c,5,158);K(c,2,"castouts");K(c,3,"castouts");GB(c,chrome.runtime.id+chrome.runtime.getManifest().version);c.g("castouts",!0);b=.01;"google.com"==$q(CD(AD.U()))&&(b=1);K(c,9,b);K(c,10,"https://hangouts.google.com/hangouts/_/logpref");K(c,11,"https://clients2.google.com/cr/report");c.register(a.sa);hV(a.sa);a.j=new Promise(function(b,e){a.v=
a.sa.get(dK);var d=a.v;d.b=c;d.f.resolve(c);d.Ga().then(b,e)})};var nZ=function(){lZ.call(this,"hangouts")};ka(nZ,lZ);nZ.prototype.fa=function(){return"HangoutsService"};var oZ=new nZ;Ei("mr.mirror.hangouts.HangoutsService",oZ);var pZ=function(){lZ.call(this,"meetings")};ka(pZ,lZ);pZ.prototype.fa=function(){return"MeetingsService"};pZ.prototype.Vg=function(){return"v1_meetings"};pZ.prototype.ce=function(){lZ.prototype.ce.call(this);var a=DD(AD.U());this.sa.b(Fr,a)};var qZ=new pZ;Ei("mr.mirror.hangouts.MeetingsService",qZ);
